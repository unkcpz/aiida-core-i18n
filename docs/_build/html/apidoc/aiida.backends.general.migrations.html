

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aiida.backends.general.migrations package &mdash; AiiDA 1.0.0b2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/quick_installation.html">Quick installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/updating_installation.html">Updating AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/index.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/daemon.html">Setup the daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/computers.html">Setup a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/codes.html">Setup a code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/plugins.html">Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../working/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/functions.html">Calculation and work functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AiiDA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#scripting">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#data-types">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#groups">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#schedulers">Schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#querying-data">Querying data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#caching">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#result-manager">Result manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#backups">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#rest-api">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#cookbook">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import_export/index.html">Import and Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html">AiiDA design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-core">AiiDA core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-plugins">AiiDA plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">StructureData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#pseudopotentials">Pseudopotentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#plugin-development">Plugin development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_">`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>aiida.backends.general.migrations package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/aiida.backends.general.migrations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-aiida.backends.general.migrations">
<span id="aiida-backends-general-migrations-package"></span><h1>aiida.backends.general.migrations package<a class="headerlink" href="#module-aiida.backends.general.migrations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-aiida.backends.general.migrations.provenance_redesign">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-aiida.backends.general.migrations.provenance_redesign" title="Permalink to this headline">¶</a></h2>
<p>SQL statements to detect invalid/ununderstood links for the provenance redesign migration.</p>
<span class="target" id="module-aiida.backends.general.migrations.utils"></span><p>Various utils that should be used during migrations and migrations tests because the AiiDA ORM cannot be used.</p>
<dl class="function">
<dt id="aiida.backends.general.migrations.utils.delete_numpy_array_from_repository">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">delete_numpy_array_from_repository</code><span class="sig-paren">(</span><em>uuid</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#delete_numpy_array_from_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.delete_numpy_array_from_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the numpy array with a given name from the repository corresponding to a node with a given uuid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uuid</strong> – the UUID of the node</li>
<li><strong>name</strong> – the name of the numpy array</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.backends.general.migrations.utils.ensure_repository_folder_created">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">ensure_repository_folder_created</code><span class="sig-paren">(</span><em>uuid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#ensure_repository_folder_created"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.ensure_repository_folder_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure that the repository sub folder for the node with the given UUID exists or create it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uuid</strong> – UUID of the node</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.backends.general.migrations.utils.get_node_repository_sub_folder">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">get_node_repository_sub_folder</code><span class="sig-paren">(</span><em>uuid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#get_node_repository_sub_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.get_node_repository_sub_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path to the sub folder <cite>path</cite> within the repository of the node with the given UUID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uuid</strong> – UUID of the node</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">absolute path to node repository folder, i.e <cite>/some/path/repository/node/12/ab/c123134-a123/path</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.backends.general.migrations.utils.get_numpy_array_absolute_path">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">get_numpy_array_absolute_path</code><span class="sig-paren">(</span><em>uuid</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#get_numpy_array_absolute_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.get_numpy_array_absolute_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path of a numpy array with the given name in the repository of the node with the given uuid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uuid</strong> – the UUID of the node</li>
<li><strong>name</strong> – the name of the numpy array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the absolute path of the numpy array file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.backends.general.migrations.utils.get_object_from_repository">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">get_object_from_repository</code><span class="sig-paren">(</span><em>uuid</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#get_object_from_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.get_object_from_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the content of a file with the given name in the repository sub folder of the given node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uuid</strong> – UUID of the node</li>
<li><strong>name</strong> – name to use for the file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.backends.general.migrations.utils.load_numpy_array_from_repository">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">load_numpy_array_from_repository</code><span class="sig-paren">(</span><em>uuid</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#load_numpy_array_from_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.load_numpy_array_from_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Load and return a numpy array from the repository folder of a node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uuid</strong> – the node UUID</li>
<li><strong>name</strong> – the name under which to store the array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the numpy array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.backends.general.migrations.utils.put_object_from_string">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">put_object_from_string</code><span class="sig-paren">(</span><em>uuid</em>, <em>name</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#put_object_from_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.put_object_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a file with the given content in the repository sub folder of the given node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uuid</strong> – UUID of the node</li>
<li><strong>name</strong> – name to use for the file</li>
<li><strong>content</strong> – the content to write to the file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.backends.general.migrations.utils.store_numpy_array_in_repository">
<code class="descclassname">aiida.backends.general.migrations.utils.</code><code class="descname">store_numpy_array_in_repository</code><span class="sig-paren">(</span><em>uuid</em>, <em>name</em>, <em>array</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/migrations/utils.html#store_numpy_array_in_repository"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.migrations.utils.store_numpy_array_in_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Store a numpy array in the repository folder of a node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uuid</strong> – the node UUID</li>
<li><strong>name</strong> – the name under which to store the array</li>
<li><strong>array</strong> – the numpy array to store</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>