

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aiida.engine.processes.workchains package &mdash; AiiDA 1.0.0b2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/quick_installation.html">Quick installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/updating_installation.html">Updating AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/index.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/daemon.html">Setup the daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/computers.html">Setup a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/codes.html">Setup a code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/plugins.html">Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../working/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/functions.html">Calculation and work functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AiiDA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#scripting">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#data-types">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#groups">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#schedulers">Schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#querying-data">Querying data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#caching">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#result-manager">Result manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#backups">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#rest-api">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_aiida/index.html#cookbook">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import_export/index.html">Import and Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html">AiiDA design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-core">AiiDA core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-plugins">AiiDA plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">StructureData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#pseudopotentials">Pseudopotentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#plugin-development">Plugin development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_">`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>aiida.engine.processes.workchains package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/aiida.engine.processes.workchains.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-aiida.engine.processes.workchains">
<span id="aiida-engine-processes-workchains-package"></span><h1>aiida.engine.processes.workchains package<a class="headerlink" href="#module-aiida.engine.processes.workchains" title="Permalink to this headline">¶</a></h1>
<p>Module for the <cite>WorkChain</cite> process and related utilities.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.workchains.ToContext">
<code class="descclassname">aiida.engine.processes.workchains.</code><code class="descname">ToContext</code><a class="headerlink" href="#aiida.engine.processes.workchains.ToContext" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.dict</span></code></p>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.assign_">
<code class="descclassname">aiida.engine.processes.workchains.</code><code class="descname">assign_</code><span class="sig-paren">(</span><em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/context.html#assign_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.assign_" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that will construct an Awaitable for a given class instance
with the context action set to ASSIGN. When the awaitable target is completed
it will be assigned to the context for a key that is to be defined later</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>target</strong> – an instance of a Process or Awaitable</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the awaitable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#aiida.engine.processes.workchains.awaitable.Awaitable" title="aiida.engine.processes.workchains.awaitable.Awaitable">Awaitable</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.append_">
<code class="descclassname">aiida.engine.processes.workchains.</code><code class="descname">append_</code><span class="sig-paren">(</span><em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/context.html#append_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.append_" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that will construct an Awaitable for a given class instance
with the context action set to APPEND. When the awaitable target is completed
it will be appended to a list in the context for a key that is to be defined later</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>target</strong> – an instance of a Process or Awaitable</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the awaitable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#aiida.engine.processes.workchains.awaitable.Awaitable" title="aiida.engine.processes.workchains.awaitable.Awaitable">Awaitable</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="aiida.engine.processes.workchains.WorkChain">
<em class="property">class </em><code class="descclassname">aiida.engine.processes.workchains.</code><code class="descname">WorkChain</code><span class="sig-paren">(</span><em>inputs=None</em>, <em>logger=None</em>, <em>runner=None</em>, <em>enable_persistence=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.engine.processes.html#aiida.engine.processes.process.Process" title="aiida.engine.processes.process.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.process.Process</span></code></a></p>
<p>A WorkChain, the base class for AiiDA workflows.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._CONTEXT">
<code class="descname">_CONTEXT</code><em class="property"> = 'CONTEXT'</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._Process__called">
<code class="descname">_Process__called</code><em class="property"> = True</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._Process__called" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._STEPPER_STATE">
<code class="descname">_STEPPER_STATE</code><em class="property"> = 'stepper_state'</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._STEPPER_STATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain.__abstractmethods__">
<code class="descname">__abstractmethods__</code><em class="property"> = frozenset()</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.__abstractmethods__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>inputs=None</em>, <em>logger=None</em>, <em>runner=None</em>, <em>enable_persistence=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the instance only if it is a sub class of <cite>WorkChain</cite> otherwise raise <cite>InvalidOperation</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain.__module__">
<code class="descname">__module__</code><em class="property"> = 'aiida.engine.processes.workchains.workchain'</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._abc_impl">
<code class="descname">_abc_impl</code><em class="property"> = &lt;_abc_data object&gt;</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._auto_persist">
<code class="descname">_auto_persist</code><em class="property"> = {'_CREATION_TIME', '_awaitables', '_enable_persistence', '_future', '_parent_pid', '_paused', '_pid', '_pre_paused_status', '_status'}</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._auto_persist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain._do_step">
<code class="descname">_do_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain._do_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._do_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the next step in the outline and return the result.</p>
<p>If the stepper returns a non-finished status and the return value is of type ToContext, the contents of the
ToContext container will be turned into awaitables if necessary. If any awaitables were created, the process
will enter in the Wait state, otherwise it will go to Continue. When the stepper returns that it is done, the
stepper result will be converted to None and returned, unless it is an integer or instance of ExitCode.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._node_class">
<code class="descname">_node_class</code><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._node_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="aiida.orm.nodes.process.workflow.html#aiida.orm.nodes.process.workflow.workchain.WorkChainNode" title="aiida.orm.nodes.process.workflow.workchain.WorkChainNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.process.workflow.workchain.WorkChainNode</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._spec">
<code class="descname">_spec</code><em class="property"> = &lt;aiida.engine.processes.workchains.workchain.WorkChainSpec object&gt;</em><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain._spec_class">
<code class="descname">_spec_class</code><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._spec_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">WorkChainSpec</span></code></p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain._store_nodes">
<code class="descname">_store_nodes</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain._store_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain._store_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Recurse through a data structure and store any unstored nodes that are found along the way</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – a data structure potentially containing unstored nodes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.action_awaitables">
<code class="descname">action_awaitables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.action_awaitables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.action_awaitables" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle the awaitables that are currently registered with the workchain</p>
<p>Depending on the class type of the awaitable’s target a different callback
function will be bound with the awaitable and the runner will be asked to
call it when the target is completed</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.WorkChain.ctx">
<code class="descname">ctx</code><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.ctx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.insert_awaitable">
<code class="descname">insert_awaitable</code><span class="sig-paren">(</span><em>awaitable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.insert_awaitable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.insert_awaitable" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a awaitable that will cause the workchain to wait until the wait
on is finished before continuing to the next step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>awaitable</strong> (<a class="reference internal" href="#aiida.engine.processes.workchains.awaitable.Awaitable" title="aiida.engine.processes.workchains.awaitable.Awaitable"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.workchains.awaitable.Awaitable</span></code></a>) – The thing to await</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.load_instance_state">
<code class="descname">load_instance_state</code><span class="sig-paren">(</span><em>saved_state</em>, <em>load_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.load_instance_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.load_instance_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.on_exiting">
<code class="descname">on_exiting</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_exiting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.on_exiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that any unstored nodes in the context are stored, before the state is exited</p>
<p>After the state is exited the next state will be entered and if persistence is enabled, a checkpoint will
be saved. If the context contains unstored nodes, the serialization necessary for checkpointing will fail.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.on_process_finished">
<code class="descname">on_process_finished</code><span class="sig-paren">(</span><em>awaitable</em>, <em>pk</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_process_finished"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.on_process_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback function called by the runner when the process instance identified by pk
is completed. The awaitable will be effectuated on the context of the workchain and
removed from the internal list. If all awaitables have been dealt with, the workchain
process is resumed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>awaitable</strong> – an Awaitable instance</li>
<li><strong>pk</strong> – the pk of the awaitable’s target</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.on_run">
<code class="descname">on_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.on_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.on_wait">
<code class="descname">on_wait</code><span class="sig-paren">(</span><em>awaitables</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_wait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.on_wait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.remove_awaitable">
<code class="descname">remove_awaitable</code><span class="sig-paren">(</span><em>awaitable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.remove_awaitable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.remove_awaitable" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a awaitable.</p>
<p>Precondition: must be a awaitable that was previously inserted</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>awaitable</strong> – The awaitable to remove</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.save_instance_state">
<code class="descname">save_instance_state</code><span class="sig-paren">(</span><em>out_state</em>, <em>save_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.save_instance_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.save_instance_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the process to save its current instance state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>out_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">plumpy.Bundle</span></code>) – A bundle to save the state to</li>
<li><strong>save_context</strong> – The save context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.WorkChain.to_context">
<code class="descname">to_context</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.to_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.WorkChain.to_context" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience method that provides syntactic sugar, for
a user to add multiple intersteps that will assign a certain value
to the corresponding key in the context of the workchain</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.if_">
<code class="descclassname">aiida.engine.processes.workchains.</code><code class="descname">if_</code><span class="sig-paren">(</span><em>condition</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plumpy/workchains.html#if_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.if_" title="Permalink to this definition">¶</a></dt>
<dd><p>A conditional that can be used in a workchain outline.</p>
<p>Use as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">if_</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">conditional</span><span class="p">)(</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step1</span><span class="p">,</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step2</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Each step can, of course, also be any valid workchain step e.g. conditional.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>condition</strong> – The workchain method that will return True or False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.while_">
<code class="descclassname">aiida.engine.processes.workchains.</code><code class="descname">while_</code><span class="sig-paren">(</span><em>condition</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plumpy/workchains.html#while_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.while_" title="Permalink to this definition">¶</a></dt>
<dd><p>A while loop that can be used in a workchain outline.</p>
<p>Use as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">while_</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">conditional</span><span class="p">)(</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step1</span><span class="p">,</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step2</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Each step can, of course, also be any valid workchain step e.g. conditional.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>condition</strong> – The workchain method that will return True or False</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="module-aiida.engine.processes.workchains.awaitable">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-aiida.engine.processes.workchains.awaitable" title="Permalink to this headline">¶</a></h2>
<p>Enums and function for the awaitables of Processes.</p>
<dl class="class">
<dt id="aiida.engine.processes.workchains.awaitable.Awaitable">
<em class="property">class </em><code class="descclassname">aiida.engine.processes.workchains.awaitable.</code><code class="descname">Awaitable</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/awaitable.html#Awaitable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.Awaitable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">plumpy.utils.AttributesDict</span></code></p>
<p>An attribute dictionary that represents an action that a Process could be waiting for to finish.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.workchains.awaitable.Awaitable.__module__">
<code class="descname">__module__</code><em class="property"> = 'aiida.engine.processes.workchains.awaitable'</em><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.Awaitable.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.engine.processes.workchains.awaitable.AwaitableTarget">
<em class="property">class </em><code class="descclassname">aiida.engine.processes.workchains.awaitable.</code><code class="descname">AwaitableTarget</code><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/awaitable.html#AwaitableTarget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.AwaitableTarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Enum that describes the class of the target a given awaitable.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.workchains.awaitable.AwaitableTarget.PROCESS">
<code class="descname">PROCESS</code><em class="property"> = 'process'</em><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.AwaitableTarget.PROCESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.awaitable.AwaitableTarget.__module__">
<code class="descname">__module__</code><em class="property"> = 'aiida.engine.processes.workchains.awaitable'</em><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.AwaitableTarget.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.engine.processes.workchains.awaitable.AwaitableAction">
<em class="property">class </em><code class="descclassname">aiida.engine.processes.workchains.awaitable.</code><code class="descname">AwaitableAction</code><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/awaitable.html#AwaitableAction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.AwaitableAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Enum that describes the action to be taken for a given awaitable.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.workchains.awaitable.AwaitableAction.APPEND">
<code class="descname">APPEND</code><em class="property"> = 'append'</em><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.AwaitableAction.APPEND" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.awaitable.AwaitableAction.ASSIGN">
<code class="descname">ASSIGN</code><em class="property"> = 'assign'</em><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.AwaitableAction.ASSIGN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.awaitable.AwaitableAction.__module__">
<code class="descname">__module__</code><em class="property"> = 'aiida.engine.processes.workchains.awaitable'</em><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.AwaitableAction.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.awaitable.construct_awaitable">
<code class="descclassname">aiida.engine.processes.workchains.awaitable.</code><code class="descname">construct_awaitable</code><span class="sig-paren">(</span><em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/awaitable.html#construct_awaitable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.awaitable.construct_awaitable" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an instance of the Awaitable class that will contain the information
related to the action to be taken with respect to the context once the awaitable
object is completed.</p>
<p>The awaitable is a simple dictionary with the following keys</p>
<blockquote>
<div><ul class="simple">
<li>pk: the pk of the node that is being waited on</li>
<li>action: the context action to be performed upon completion</li>
<li>outputs: a boolean that toggles whether the node itself</li>
</ul>
</div></blockquote>
<p>Currently the only awaitable classes are ProcessNode and Workflow
The only awaitable actions are the Assign and Append operators</p>
</dd></dl>

<span class="target" id="module-aiida.engine.processes.workchains.context"></span><p>Convenience functions to add awaitables to the Context of a WorkChain.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.workchains.context.ToContext">
<code class="descclassname">aiida.engine.processes.workchains.context.</code><code class="descname">ToContext</code><a class="headerlink" href="#aiida.engine.processes.workchains.context.ToContext" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.dict</span></code></p>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.context.assign_">
<code class="descclassname">aiida.engine.processes.workchains.context.</code><code class="descname">assign_</code><span class="sig-paren">(</span><em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/context.html#assign_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.context.assign_" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that will construct an Awaitable for a given class instance
with the context action set to ASSIGN. When the awaitable target is completed
it will be assigned to the context for a key that is to be defined later</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>target</strong> – an instance of a Process or Awaitable</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the awaitable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#aiida.engine.processes.workchains.awaitable.Awaitable" title="aiida.engine.processes.workchains.awaitable.Awaitable">Awaitable</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.context.append_">
<code class="descclassname">aiida.engine.processes.workchains.context.</code><code class="descname">append_</code><span class="sig-paren">(</span><em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/context.html#append_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.context.append_" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that will construct an Awaitable for a given class instance
with the context action set to APPEND. When the awaitable target is completed
it will be appended to a list in the context for a key that is to be defined later</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>target</strong> – an instance of a Process or Awaitable</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the awaitable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#aiida.engine.processes.workchains.awaitable.Awaitable" title="aiida.engine.processes.workchains.awaitable.Awaitable">Awaitable</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-aiida.engine.processes.workchains.workchain"></span><p>Components for the WorkChain concept of the workflow engine.</p>
<dl class="class">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain">
<em class="property">class </em><code class="descclassname">aiida.engine.processes.workchains.workchain.</code><code class="descname">WorkChain</code><span class="sig-paren">(</span><em>inputs=None</em>, <em>logger=None</em>, <em>runner=None</em>, <em>enable_persistence=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.engine.processes.html#aiida.engine.processes.process.Process" title="aiida.engine.processes.process.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.process.Process</span></code></a></p>
<p>A WorkChain, the base class for AiiDA workflows.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._CONTEXT">
<code class="descname">_CONTEXT</code><em class="property"> = 'CONTEXT'</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._Process__called">
<code class="descname">_Process__called</code><em class="property"> = True</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._Process__called" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._STEPPER_STATE">
<code class="descname">_STEPPER_STATE</code><em class="property"> = 'stepper_state'</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._STEPPER_STATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.__abstractmethods__">
<code class="descname">__abstractmethods__</code><em class="property"> = frozenset()</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.__abstractmethods__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>inputs=None</em>, <em>logger=None</em>, <em>runner=None</em>, <em>enable_persistence=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the instance only if it is a sub class of <cite>WorkChain</cite> otherwise raise <cite>InvalidOperation</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.__module__">
<code class="descname">__module__</code><em class="property"> = 'aiida.engine.processes.workchains.workchain'</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._abc_impl">
<code class="descname">_abc_impl</code><em class="property"> = &lt;_abc_data object&gt;</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._auto_persist">
<code class="descname">_auto_persist</code><em class="property"> = {'_CREATION_TIME', '_awaitables', '_enable_persistence', '_future', '_parent_pid', '_paused', '_pid', '_pre_paused_status', '_status'}</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._auto_persist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._do_step">
<code class="descname">_do_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain._do_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._do_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the next step in the outline and return the result.</p>
<p>If the stepper returns a non-finished status and the return value is of type ToContext, the contents of the
ToContext container will be turned into awaitables if necessary. If any awaitables were created, the process
will enter in the Wait state, otherwise it will go to Continue. When the stepper returns that it is done, the
stepper result will be converted to None and returned, unless it is an integer or instance of ExitCode.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._node_class">
<code class="descname">_node_class</code><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._node_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="aiida.orm.nodes.process.workflow.html#aiida.orm.nodes.process.workflow.workchain.WorkChainNode" title="aiida.orm.nodes.process.workflow.workchain.WorkChainNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.process.workflow.workchain.WorkChainNode</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._spec">
<code class="descname">_spec</code><em class="property"> = &lt;aiida.engine.processes.workchains.workchain.WorkChainSpec object&gt;</em><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._spec_class">
<code class="descname">_spec_class</code><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._spec_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">WorkChainSpec</span></code></p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain._store_nodes">
<code class="descname">_store_nodes</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain._store_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain._store_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Recurse through a data structure and store any unstored nodes that are found along the way</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – a data structure potentially containing unstored nodes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.action_awaitables">
<code class="descname">action_awaitables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.action_awaitables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.action_awaitables" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle the awaitables that are currently registered with the workchain</p>
<p>Depending on the class type of the awaitable’s target a different callback
function will be bound with the awaitable and the runner will be asked to
call it when the target is completed</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.ctx">
<code class="descname">ctx</code><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.ctx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.insert_awaitable">
<code class="descname">insert_awaitable</code><span class="sig-paren">(</span><em>awaitable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.insert_awaitable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.insert_awaitable" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a awaitable that will cause the workchain to wait until the wait
on is finished before continuing to the next step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>awaitable</strong> (<a class="reference internal" href="#aiida.engine.processes.workchains.awaitable.Awaitable" title="aiida.engine.processes.workchains.awaitable.Awaitable"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.workchains.awaitable.Awaitable</span></code></a>) – The thing to await</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.load_instance_state">
<code class="descname">load_instance_state</code><span class="sig-paren">(</span><em>saved_state</em>, <em>load_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.load_instance_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.load_instance_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.on_exiting">
<code class="descname">on_exiting</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_exiting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.on_exiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that any unstored nodes in the context are stored, before the state is exited</p>
<p>After the state is exited the next state will be entered and if persistence is enabled, a checkpoint will
be saved. If the context contains unstored nodes, the serialization necessary for checkpointing will fail.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.on_process_finished">
<code class="descname">on_process_finished</code><span class="sig-paren">(</span><em>awaitable</em>, <em>pk</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_process_finished"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.on_process_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback function called by the runner when the process instance identified by pk
is completed. The awaitable will be effectuated on the context of the workchain and
removed from the internal list. If all awaitables have been dealt with, the workchain
process is resumed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>awaitable</strong> – an Awaitable instance</li>
<li><strong>pk</strong> – the pk of the awaitable’s target</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.on_run">
<code class="descname">on_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.on_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.on_wait">
<code class="descname">on_wait</code><span class="sig-paren">(</span><em>awaitables</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.on_wait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.on_wait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.remove_awaitable">
<code class="descname">remove_awaitable</code><span class="sig-paren">(</span><em>awaitable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.remove_awaitable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.remove_awaitable" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a awaitable.</p>
<p>Precondition: must be a awaitable that was previously inserted</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>awaitable</strong> – The awaitable to remove</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.save_instance_state">
<code class="descname">save_instance_state</code><span class="sig-paren">(</span><em>out_state</em>, <em>save_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.save_instance_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.save_instance_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the process to save its current instance state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>out_state</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">plumpy.Bundle</span></code>) – A bundle to save the state to</li>
<li><strong>save_context</strong> – The save context</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.workchains.workchain.WorkChain.to_context">
<code class="descname">to_context</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/workchains/workchain.html#WorkChain.to_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.WorkChain.to_context" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience method that provides syntactic sugar, for
a user to add multiple intersteps that will assign a certain value
to the corresponding key in the context of the workchain</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.workchain.if_">
<code class="descclassname">aiida.engine.processes.workchains.workchain.</code><code class="descname">if_</code><span class="sig-paren">(</span><em>condition</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plumpy/workchains.html#if_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.if_" title="Permalink to this definition">¶</a></dt>
<dd><p>A conditional that can be used in a workchain outline.</p>
<p>Use as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">if_</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">conditional</span><span class="p">)(</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step1</span><span class="p">,</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step2</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Each step can, of course, also be any valid workchain step e.g. conditional.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>condition</strong> – The workchain method that will return True or False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.workchains.workchain.while_">
<code class="descclassname">aiida.engine.processes.workchains.workchain.</code><code class="descname">while_</code><span class="sig-paren">(</span><em>condition</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plumpy/workchains.html#while_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.workchains.workchain.while_" title="Permalink to this definition">¶</a></dt>
<dd><p>A while loop that can be used in a workchain outline.</p>
<p>Use as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">while_</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">conditional</span><span class="p">)(</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step1</span><span class="p">,</span>
  <span class="bp">cls</span><span class="o">.</span><span class="n">step2</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Each step can, of course, also be any valid workchain step e.g. conditional.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>condition</strong> – The workchain method that will return True or False</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>