

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aiida.orm.computers &mdash; AiiDA 1.0.0b2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install/quick_installation.html">Quick installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/updating_installation.html">Updating AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../get_started/index.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get_started/daemon.html">Setup the daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get_started/computers.html">Setup a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get_started/codes.html">Setup a code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get_started/plugins.html">Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../concepts/provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../concepts/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../concepts/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../concepts/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../working/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working/functions.html">Calculation and work functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AiiDA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#scripting">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#data-types">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#groups">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#schedulers">Schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#querying-data">Querying data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#caching">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#result-manager">Result manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#backups">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#rest-api">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../working_with_aiida/index.html#cookbook">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../import_export/index.html">Import and Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_guide/index.html">AiiDA design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_guide/index.html#aiida-core">AiiDA core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_guide/index.html#aiida-plugins">AiiDA plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html">StructureData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html#pseudopotentials">Pseudopotentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html#plugin-development">Plugin development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_">`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../aiida.html">aiida</a> &raquo;</li>
        
      <li>aiida.orm.computers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for aiida.orm.computers</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">###########################################################################</span>
<span class="c1"># Copyright (c), The AiiDA team. All rights reserved.                     #</span>
<span class="c1"># This file is part of the AiiDA code.                                    #</span>
<span class="c1">#                                                                         #</span>
<span class="c1"># The code is hosted on GitHub at https://github.com/aiidateam/aiida_core #</span>
<span class="c1"># For further information on the license, see the LICENSE.txt file        #</span>
<span class="c1"># For further information please visit http://www.aiida.net               #</span>
<span class="c1">###########################################################################</span>
<span class="sd">&quot;&quot;&quot;Module for Computer entities&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">six</span>

<span class="kn">from</span> <span class="nn">aiida</span> <span class="k">import</span> <span class="n">transports</span><span class="p">,</span> <span class="n">schedulers</span>
<span class="kn">from</span> <span class="nn">aiida.common</span> <span class="k">import</span> <span class="n">exceptions</span>
<span class="kn">from</span> <span class="nn">aiida.manage.manager</span> <span class="k">import</span> <span class="n">get_manager</span>
<span class="kn">from</span> <span class="nn">aiida.plugins</span> <span class="k">import</span> <span class="n">SchedulerFactory</span><span class="p">,</span> <span class="n">TransportFactory</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">entities</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">users</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Computer&#39;</span><span class="p">,)</span>


<div class="viewcode-block" id="Computer"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer">[docs]</a><span class="k">class</span> <span class="nc">Computer</span><span class="p">(</span><span class="n">entities</span><span class="o">.</span><span class="n">Entity</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class to map a node in the DB + its permanent repository counterpart.</span>

<span class="sd">    Stores attributes starting with an underscore.</span>

<span class="sd">    Caches files and attributes before the first save, and saves everything only on store().</span>
<span class="sd">    After the call to store(), attributes cannot be changed.</span>

<span class="sd">    Only after storing (or upon loading from uuid) metadata can be modified</span>
<span class="sd">    and in this case they are directly set on the db.</span>

<span class="sd">    In the plugin, also set the _plugin_type_string, to be set in the DB in the &#39;type&#39; field.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># pylint: disable=too-many-public-methods</span>

    <span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="n">PROPERTY_MINIMUM_SCHEDULER_POLL_INTERVAL</span> <span class="o">=</span> <span class="s1">&#39;minimum_scheduler_poll_interval&#39;</span>  <span class="c1"># pylint: disable=invalid-name</span>
    <span class="n">PROPERTY_MINIMUM_SCHEDULER_POLL_INTERVAL__DEFAULT</span> <span class="o">=</span> <span class="mf">10.</span>  <span class="c1"># pylint: disable=invalid-name</span>
    <span class="n">PROPERTY_WORKDIR</span> <span class="o">=</span> <span class="s1">&#39;workdir&#39;</span>
    <span class="n">PROPERTY_SHEBANG</span> <span class="o">=</span> <span class="s1">&#39;shebang&#39;</span>

<div class="viewcode-block" id="Computer.Collection"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.Collection">[docs]</a>    <span class="k">class</span> <span class="nc">Collection</span><span class="p">(</span><span class="n">entities</span><span class="o">.</span><span class="n">Collection</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The collection of Computer entries.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Computer.Collection.list_names"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.Collection.list_names">[docs]</a>        <span class="k">def</span> <span class="nf">list_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Return a list with all the names of the computers in the DB.&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">computers</span><span class="o">.</span><span class="n">list_names</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.Collection.delete"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.Collection.delete">[docs]</a>        <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>  <span class="c1"># pylint: disable=redefined-builtin,invalid-name</span>
            <span class="sd">&quot;&quot;&quot;Delete the computer with the given id&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">computers</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Computer.__init__"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">transport_type</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">scheduler_type</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">workdir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">backend</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a new computer&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=too-many-arguments</span>
        <span class="n">backend</span> <span class="o">=</span> <span class="n">backend</span> <span class="ow">or</span> <span class="n">get_manager</span><span class="p">()</span><span class="o">.</span><span class="n">get_backend</span><span class="p">()</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">computers</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">hostname</span><span class="o">=</span><span class="n">hostname</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">transport_type</span><span class="o">=</span><span class="n">transport_type</span><span class="p">,</span>
            <span class="n">scheduler_type</span><span class="o">=</span><span class="n">scheduler_type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Computer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">workdir</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_workdir</span><span class="p">(</span><span class="n">workdir</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.__repr__"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.__repr__">[docs]</a>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">{}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span></div>

<div class="viewcode-block" id="Computer.__str__"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.__str__">[docs]</a>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> (</span><span class="si">{}</span><span class="s1">), pk: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pk</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">full_text_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a (multiline) string with a human-readable detailed information on this computer.</span>

<span class="sd">        :rypte: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Computer name:     </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * PK:             </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pk</span><span class="p">))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * UUID:           </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * Description:    </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * Hostname:       </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hostname</span><span class="p">))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * Transport type: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_transport_type</span><span class="p">()))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * Scheduler type: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_scheduler_type</span><span class="p">()))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * Work directory: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_workdir</span><span class="p">()))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * Shebang:        </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_shebang</span><span class="p">()))</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * mpirun command: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mpirun_command</span><span class="p">())))</span>
        <span class="n">def_cpus_machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_mpiprocs_per_machine</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">def_cpus_machine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * Default number of cpus per machine: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">def_cpus_machine</span><span class="p">))</span>
        <span class="c1"># pylint: disable=fixme</span>
        <span class="c1"># TODO: Put back following line when we port Node to new backend system</span>
        <span class="c1"># ret_lines.append(&quot; * Used by:        {} nodes&quot;.format(len(self._dbcomputer.dbnodes.all())))</span>

        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * prepend text:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_prepend_text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_prepend_text</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
                <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;   </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;   # No prepend text.&quot;</span><span class="p">)</span>
        <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; * append text:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_append_text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_append_text</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
                <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;   </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;   # No append text.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ret_lines</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logger</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span>

    <span class="c1"># region validation</span>

<div class="viewcode-block" id="Computer._name_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._name_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_name_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;No name specified&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer._hostname_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._hostname_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_hostname_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">hostname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the hostname.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">hostname</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;No hostname specified&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer._description_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._description_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_description_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">description</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the description.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>
        <span class="c1"># The description is always valid</span>

<div class="viewcode-block" id="Computer._transport_type_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._transport_type_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_transport_type_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">transport_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the transport string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">transport_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">transports</span><span class="o">.</span><span class="n">Transport</span><span class="o">.</span><span class="n">get_valid_transports</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;The specified transport is not a valid one&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer._scheduler_type_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._scheduler_type_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_scheduler_type_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">scheduler_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the transport string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">scheduler_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schedulers</span><span class="o">.</span><span class="n">Scheduler</span><span class="o">.</span><span class="n">get_valid_schedulers</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;The specified scheduler is not a valid one&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer._prepend_text_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._prepend_text_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_prepend_text_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">prepend_text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the prepend text string.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>
        <span class="c1"># no validation done</span>

<div class="viewcode-block" id="Computer._append_text_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._append_text_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_append_text_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">append_text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the append text string.</span>
<span class="sd">        &quot;&quot;&quot;</span></div>
        <span class="c1"># no validation done</span>

<div class="viewcode-block" id="Computer._workdir_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._workdir_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_workdir_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">workdir</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the transport string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">workdir</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;No workdir specified&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">convertedwd</span> <span class="o">=</span> <span class="n">workdir</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;In workdir there is an unknown replacement field </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Error in the string: &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">convertedwd</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;The workdir must be an absolute path&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer._mpirun_command_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._mpirun_command_validator">[docs]</a>    <span class="k">def</span> <span class="nf">_mpirun_command_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mpirun_cmd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the mpirun_command variable. MUST be called after properly</span>
<span class="sd">        checking for a valid scheduler.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mpirun_cmd</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">mpirun_cmd</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;the mpirun_command must be a list of strings&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">job_resource_keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_scheduler</span><span class="p">()</span><span class="o">.</span><span class="n">job_resource_class</span><span class="o">.</span><span class="n">get_valid_keys</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">EntryPointError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Unable to load the scheduler for this computer&quot;</span><span class="p">)</span>

        <span class="n">subst</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">job_resource_keys</span><span class="p">}</span>
        <span class="n">subst</span><span class="p">[</span><span class="s1">&#39;tot_num_mpiprocs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">mpirun_cmd</span><span class="p">:</span>
                <span class="n">arg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">subst</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;In workdir there is an unknown replacement field </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Error in the string: &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span></div>

<div class="viewcode-block" id="Computer.validate"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the attributes and files retrieved from the DB are valid.</span>
<span class="sd">        Raise a ValidationError if something is wrong.</span>

<span class="sd">        Must be able to work even before storing: therefore, use the get_attr and similar methods</span>
<span class="sd">        that automatically read either from the DB or from the internal attribute cache.</span>

<span class="sd">        For the base class, this is always valid. Subclasses will reimplement this.</span>
<span class="sd">        In the subclass, always call the super().validate() method first!</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;No name specified&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_hostname_validator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_hostname</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_description_validator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_description</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transport_type_validator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_transport_type</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scheduler_type_validator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_scheduler_type</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workdir_validator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_workdir</span><span class="p">())</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">mpirun_cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mpirun_command</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">DbContentError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Error in the DB content of the transport_params&quot;</span><span class="p">)</span>

        <span class="c1"># To be called AFTER the validation of the scheduler</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mpirun_command_validator</span><span class="p">(</span><span class="n">mpirun_cmd</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer._default_mpiprocs_per_machine_validator"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer._default_mpiprocs_per_machine_validator">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_default_mpiprocs_per_machine_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">def_cpus_per_machine</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the default number of CPUs per machine (node)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">def_cpus_per_machine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">def_cpus_per_machine</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">integer_types</span><span class="p">)</span> <span class="ow">or</span> <span class="n">def_cpus_per_machine</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Invalid value for default_mpiprocs_per_machine, &quot;</span>
                                             <span class="s2">&quot;must be a positive integer, or an empty &quot;</span>
                                             <span class="s2">&quot;string if you do not want to provide a &quot;</span>
                                             <span class="s2">&quot;default value.&quot;</span><span class="p">)</span></div>

    <span class="c1"># endregion</span>

<div class="viewcode-block" id="Computer.copy"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a copy of the current object to work with, not stored yet.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Computer</span><span class="o">.</span><span class="n">from_backend_entity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span></div>

<div class="viewcode-block" id="Computer.store"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.store">[docs]</a>    <span class="k">def</span> <span class="nf">store</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Store the computer in the DB.</span>

<span class="sd">        Differently from Nodes, a computer can be re-stored if its properties</span>
<span class="sd">        are to be changed (e.g. a new mpirun command, etc.)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Computer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">store</span><span class="p">()</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The computer label</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@label</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the computer label (i.e., name)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a description of the computer</span>

<span class="sd">        :return: the description</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">description</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">hostname</span>

<div class="viewcode-block" id="Computer.get_metadata"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.get_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.set_metadata"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">set_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the metadata.</span>

<span class="sd">        .. note: You still need to call the .store() method to actually save</span>
<span class="sd">           data to the database! (The store method can be called multiple</span>
<span class="sd">           times, differently from AiiDA Node objects).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.delete_property"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.delete_property">[docs]</a>    <span class="k">def</span> <span class="nf">delete_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete a property from this computer</span>

<span class="sd">        :param name: the name of the property</span>
<span class="sd">        :param raise_exception: if True raise if the property does not exist, otherwise return None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">olddata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">olddata</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">olddata</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">{}</span><span class="s2">&#39; property not found&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span></div>

<div class="viewcode-block" id="Computer.set_property"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_property">[docs]</a>    <span class="k">def</span> <span class="nf">set_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a property on this computer</span>

<span class="sd">        :param name: the property name</span>
<span class="sd">        :param value: the new value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">()</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_property"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_property">[docs]</a>    <span class="k">def</span> <span class="nf">get_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a property of this computer</span>

<span class="sd">        :param name: the property name</span>
<span class="sd">        :param args: additional arguments</span>
<span class="sd">        :return: the property value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;get_property expected at most 2 arguments&quot;</span><span class="p">)</span>
        <span class="n">olddata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">olddata</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">{}</span><span class="s2">&#39; property not found&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="Computer.get_prepend_text"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.get_prepend_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_prepend_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="s2">&quot;prepend_text&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.set_prepend_text"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.set_prepend_text">[docs]</a>    <span class="k">def</span> <span class="nf">set_prepend_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;prepend_text&quot;</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">val</span><span class="p">))</span></div>

<div class="viewcode-block" id="Computer.get_append_text"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.get_append_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_append_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="s2">&quot;append_text&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.set_append_text"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.set_append_text">[docs]</a>    <span class="k">def</span> <span class="nf">set_append_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;append_text&quot;</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">val</span><span class="p">))</span></div>

<div class="viewcode-block" id="Computer.get_mpirun_command"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_mpirun_command">[docs]</a>    <span class="k">def</span> <span class="nf">get_mpirun_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the mpirun command. Must be a list of strings, that will be</span>
<span class="sd">        then joined with spaces when submitting.</span>

<span class="sd">        I also provide a sensible default that may be ok in many cases.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="s2">&quot;mpirun_command&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;mpirun&quot;</span><span class="p">,</span> <span class="s2">&quot;-np&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{tot_num_mpiprocs}</span><span class="s2">&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="Computer.set_mpirun_command"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_mpirun_command">[docs]</a>    <span class="k">def</span> <span class="nf">set_mpirun_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the mpirun command. It must be a list of strings (you can use</span>
<span class="sd">        string.split() if you have a single, space-separated string).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">val</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;the mpirun_command must be a list of strings&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;mpirun_command&quot;</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_default_mpiprocs_per_machine"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_default_mpiprocs_per_machine">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_mpiprocs_per_machine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the default number of CPUs per machine (node) for this computer,</span>
<span class="sd">        or None if it was not set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="s2">&quot;default_mpiprocs_per_machine&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.set_default_mpiprocs_per_machine"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_default_mpiprocs_per_machine">[docs]</a>    <span class="k">def</span> <span class="nf">set_default_mpiprocs_per_machine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">def_cpus_per_machine</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the default number of CPUs per machine (node) for this computer.</span>
<span class="sd">        Accepts None if you do not want to set this value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">def_cpus_per_machine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delete_property</span><span class="p">(</span><span class="s2">&quot;default_mpiprocs_per_machine&quot;</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">def_cpus_per_machine</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">integer_types</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;def_cpus_per_machine must be an integer (or None)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;default_mpiprocs_per_machine&quot;</span><span class="p">,</span> <span class="n">def_cpus_per_machine</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_minimum_job_poll_interval"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_minimum_job_poll_interval">[docs]</a>    <span class="k">def</span> <span class="nf">get_minimum_job_poll_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the minimum interval between subsequent requests to update the list</span>
<span class="sd">        of jobs currently running on this computer.</span>

<span class="sd">        :return: The minimum interval (in seconds)</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PROPERTY_MINIMUM_SCHEDULER_POLL_INTERVAL</span><span class="p">,</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">PROPERTY_MINIMUM_SCHEDULER_POLL_INTERVAL__DEFAULT</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.set_minimum_job_poll_interval"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_minimum_job_poll_interval">[docs]</a>    <span class="k">def</span> <span class="nf">set_minimum_job_poll_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the minimum interval between subsequent requests to update the list</span>
<span class="sd">        of jobs currently running on this computer.</span>

<span class="sd">        :param interval: The minimum interval in seconds</span>
<span class="sd">        :type interval: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PROPERTY_MINIMUM_SCHEDULER_POLL_INTERVAL</span><span class="p">,</span> <span class="n">interval</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_transport_params"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.get_transport_params">[docs]</a>    <span class="k">def</span> <span class="nf">get_transport_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">get_transport_params</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.set_transport_params"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.set_transport_params">[docs]</a>    <span class="k">def</span> <span class="nf">set_transport_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">set_transport_params</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_transport"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_transport">[docs]</a>    <span class="k">def</span> <span class="nf">get_transport</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a Transport class, configured with all correct parameters.</span>
<span class="sd">        The Transport is closed (meaning that if you want to run any operation with</span>
<span class="sd">        it, you have to open it first (i.e., e.g. for a SSH transport, you have</span>
<span class="sd">        to open a connection). To do this you can call ``transports.open()``, or simply</span>
<span class="sd">        run within a ``with`` statement::</span>

<span class="sd">           transport = Computer.get_transport()</span>
<span class="sd">           with transport:</span>
<span class="sd">               print(transports.whoami())</span>

<span class="sd">        :param user: if None, try to obtain a transport for the default user.</span>
<span class="sd">            Otherwise, pass a valid User.</span>

<span class="sd">        :return: a (closed) Transport, already configured with the connection</span>
<span class="sd">            parameters to the supercomputer, as configured with ``verdi computer configure``</span>
<span class="sd">            for the user specified as a parameter ``user``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">authinfos</span>  <span class="c1"># pylint: disable=cyclic-import</span>

        <span class="n">user</span> <span class="o">=</span> <span class="n">user</span> <span class="ow">or</span> <span class="n">users</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="n">authinfo</span> <span class="o">=</span> <span class="n">authinfos</span><span class="o">.</span><span class="n">AuthInfo</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dbcomputer</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">aiidauser</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">authinfo</span><span class="o">.</span><span class="n">get_transport</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.get_workdir"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_workdir">[docs]</a>    <span class="k">def</span> <span class="nf">get_workdir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the working directory for this computer</span>
<span class="sd">        :return: The currently configured working directory</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PROPERTY_WORKDIR</span><span class="p">,</span> <span class="s2">&quot;/scratch/</span><span class="si">{username}</span><span class="s2">/aiida_run/&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.set_workdir"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.set_workdir">[docs]</a>    <span class="k">def</span> <span class="nf">set_workdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PROPERTY_WORKDIR</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_shebang"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.get_shebang">[docs]</a>    <span class="k">def</span> <span class="nf">get_shebang</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PROPERTY_SHEBANG</span><span class="p">,</span> <span class="s2">&quot;#!/bin/bash&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.set_shebang"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_shebang">[docs]</a>    <span class="k">def</span> <span class="nf">set_shebang</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param str val: A valid shebang line</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is invalid. Input has to be a string&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">val</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#!&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is invalid. A shebang line has to start with #!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">()</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;shebang&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_name"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.get_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.set_name"><a class="viewcode-back" href="../../../apidoc/aiida.orm.html#aiida.orm.Computer.set_name">[docs]</a>    <span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_hostname"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_hostname">[docs]</a>    <span class="k">def</span> <span class="nf">get_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get this computer hostname</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">get_hostname</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.set_hostname"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_hostname">[docs]</a>    <span class="k">def</span> <span class="nf">set_hostname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the hostname of this computer</span>
<span class="sd">        :param val: The new hostname</span>
<span class="sd">        :type val: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">set_hostname</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_description"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_description">[docs]</a>    <span class="k">def</span> <span class="nf">get_description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the description for this computer</span>

<span class="sd">        :return: the description</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="Computer.set_description"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_description">[docs]</a>    <span class="k">def</span> <span class="nf">set_description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the description for this computer</span>

<span class="sd">        :param val: the new description</span>
<span class="sd">        :type val: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_authinfo"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_authinfo">[docs]</a>    <span class="k">def</span> <span class="nf">get_authinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the aiida.orm.authinfo.AuthInfo instance for the</span>
<span class="sd">        given user on this computer, if the computer</span>
<span class="sd">        is configured for the given user.</span>

<span class="sd">        :param user: a User instance.</span>
<span class="sd">        :return: a AuthInfo instance</span>
<span class="sd">        :raise aiida.common.NotExistent: if the computer is not configured for the given</span>
<span class="sd">            user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">authinfos</span>

        <span class="k">return</span> <span class="n">authinfos</span><span class="o">.</span><span class="n">AuthInfo</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dbcomputer_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">aiidauser_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.is_user_configured"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.is_user_configured">[docs]</a>    <span class="k">def</span> <span class="nf">is_user_configured</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is the user configured on this computer?</span>

<span class="sd">        :param user: the user to check</span>
<span class="sd">        :return: True if configured, False otherwise</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_authinfo</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotExistent</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Computer.is_user_enabled"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.is_user_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">is_user_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is the given user enabled to run on this computer?</span>

<span class="sd">        :param user: the user to check</span>
<span class="sd">        :return: True if enabled, False otherwise</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">authinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_authinfo</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">authinfo</span><span class="o">.</span><span class="n">enabled</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotExistent</span><span class="p">:</span>
            <span class="c1"># Return False if the user is not configured (in a sense,</span>
            <span class="c1"># it is disabled for that user)</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Computer.get_scheduler_type"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_scheduler_type">[docs]</a>    <span class="k">def</span> <span class="nf">get_scheduler_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the scheduler type for this computer</span>

<span class="sd">        :return: the scheduler type</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">get_scheduler_type</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.set_scheduler_type"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_scheduler_type">[docs]</a>    <span class="k">def</span> <span class="nf">set_scheduler_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scheduler_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param scheduler_type: the new scheduler type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scheduler_type_validator</span><span class="p">(</span><span class="n">scheduler_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">set_scheduler_type</span><span class="p">(</span><span class="n">scheduler_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_transport_type"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_transport_type">[docs]</a>    <span class="k">def</span> <span class="nf">get_transport_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current transport type for this computer</span>

<span class="sd">        :return: the transport type</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">get_transport_type</span><span class="p">()</span></div>

<div class="viewcode-block" id="Computer.set_transport_type"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.set_transport_type">[docs]</a>    <span class="k">def</span> <span class="nf">set_transport_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transport_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the transport type for this computer</span>

<span class="sd">        :param transport_type: the new transport type</span>
<span class="sd">        :type transport_type: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend_entity</span><span class="o">.</span><span class="n">set_transport_type</span><span class="p">(</span><span class="n">transport_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="Computer.get_transport_class"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_transport_class">[docs]</a>    <span class="k">def</span> <span class="nf">get_transport_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the transport class for this computer.  Can be used to instantiate a transport instance.</span>

<span class="sd">        :return: the transport class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TransportFactory</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_transport_type</span><span class="p">())</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">EntryPointError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ConfigurationError</span><span class="p">(</span><span class="s1">&#39;No transport found for </span><span class="si">{}</span><span class="s1"> [type </span><span class="si">{}</span><span class="s1">], message: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_transport_type</span><span class="p">(),</span> <span class="n">exception</span><span class="p">))</span></div>

<div class="viewcode-block" id="Computer.get_scheduler"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_scheduler">[docs]</a>    <span class="k">def</span> <span class="nf">get_scheduler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a scheduler instance for this computer</span>

<span class="sd">        :return: the scheduler instance</span>
<span class="sd">        :rtype: :class:`aiida.schedulers.Scheduler`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scheduler_class</span> <span class="o">=</span> <span class="n">SchedulerFactory</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_scheduler_type</span><span class="p">())</span>
            <span class="c1"># I call the init without any parameter</span>
            <span class="k">return</span> <span class="n">scheduler_class</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">EntryPointError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ConfigurationError</span><span class="p">(</span><span class="s1">&#39;No scheduler found for </span><span class="si">{}</span><span class="s1"> [type </span><span class="si">{}</span><span class="s1">], message: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_scheduler_type</span><span class="p">(),</span> <span class="n">exception</span><span class="p">))</span></div>

<div class="viewcode-block" id="Computer.configure"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.configure">[docs]</a>    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Configure a computer for a user with valid auth params passed via kwargs</span>

<span class="sd">        :param user: the user to configure the computer for</span>
<span class="sd">        :kwargs: the configuration keywords with corresponding values</span>
<span class="sd">        :return: the authinfo object for the configured user</span>
<span class="sd">        :rtype: :class:`aiida.orm.AuthInfo`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">authinfos</span>

        <span class="n">transport_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_transport_class</span><span class="p">()</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">user</span> <span class="ow">or</span> <span class="n">users</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="n">valid_keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">transport_cls</span><span class="o">.</span><span class="n">get_valid_auth_params</span><span class="p">())</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">valid_keys</span><span class="p">):</span>
            <span class="n">invalid_keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_keys</span><span class="p">]</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{transport}</span><span class="s1">: received invalid authentication parameter(s) &quot;</span><span class="si">{invalid}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">transport</span><span class="o">=</span><span class="n">transport_cls</span><span class="p">,</span> <span class="n">invalid</span><span class="o">=</span><span class="n">invalid_keys</span><span class="p">))</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">authinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_authinfo</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotExistent</span><span class="p">:</span>
            <span class="n">authinfo</span> <span class="o">=</span> <span class="n">authinfos</span><span class="o">.</span><span class="n">AuthInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>

        <span class="n">auth_params</span> <span class="o">=</span> <span class="n">authinfo</span><span class="o">.</span><span class="n">get_auth_params</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">valid_keys</span><span class="p">:</span>
            <span class="n">auth_params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="n">authinfo</span><span class="o">.</span><span class="n">set_auth_params</span><span class="p">(</span><span class="n">auth_params</span><span class="p">)</span>
            <span class="n">authinfo</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">authinfo</span></div>

<div class="viewcode-block" id="Computer.get_configuration"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_configuration">[docs]</a>    <span class="k">def</span> <span class="nf">get_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the configuration of computer for the given user as a dictionary</span>

<span class="sd">        :param user: the user to to get the configuration for.  Uses default user if `None`</span>
<span class="sd">        :type user: :class:`aiida.orm.User`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">backend</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backend</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">user</span> <span class="ow">or</span> <span class="n">users</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>

        <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">authinfo</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">authinfos</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">authinfo</span><span class="o">.</span><span class="n">get_auth_params</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotExistent</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="n">config</span></div>

<div class="viewcode-block" id="Computer.get_schema"><a class="viewcode-back" href="../../../developer_guide/core/orm_overview.html#aiida.orm.Computer.get_schema">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_schema</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Every node property contains:</span>
<span class="sd">            - display_name: display name of the property</span>
<span class="sd">            - help text: short help text of the property</span>
<span class="sd">            - is_foreign_key: is the property foreign key to other type of the node</span>
<span class="sd">            - type: type of the property. e.g. str, dict, int</span>

<span class="sd">        :return: get schema of the computer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Description&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;short description of the Computer&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;hostname&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Host&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the host&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Id&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Id of the object&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the object&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;scheduler_type&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Scheduler&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Scheduler type&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valid_choices&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Support for the direct execution bypassing schedulers.&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;pbsbaseclasses.PbsBaseClass&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Base class with support for the PBSPro scheduler&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;pbspro&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Subclass to support the PBSPro scheduler&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;sge&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span>
                        <span class="s2">&quot;Support for the Sun Grid Engine scheduler and its variants/forks (Son of Grid Engine, &quot;</span>
                        <span class="s2">&quot;Oracle Grid Engine, ...)&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;slurm&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Support for the SLURM scheduler (http://slurm.schedmd.com/).&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;torque&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Subclass to support the Torque scheduler.&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;transport_params&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Transport Parameters&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;transport_type&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Transport type&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Transport Type&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valid_choices&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;local&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span>
                        <span class="s2">&quot;Support copy and command execution on the same host on which AiiDA is running via direct file &quot;</span>
                        <span class="s2">&quot;copy and execution commands.&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;ssh&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;doc&quot;</span><span class="p">:</span>
                        <span class="s2">&quot;Support connection, command execution and data transfer to remote computers via SSH+SFTP.&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique ID&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Universally Unique Identifier&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_foreign_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;unicode&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>