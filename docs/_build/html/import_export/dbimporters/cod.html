

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>COD database importer &mdash; AiiDA 1.0.0b2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AiiDA design" href="../../developer_guide/index.html" />
    <link rel="prev" title="ICSD database importer" href="icsd.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/quick_installation.html">Quick installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/updating_installation.html">Updating AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/index.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/daemon.html">Setup the daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/computers.html">Setup a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/codes.html">Setup a code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/plugins.html">Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../working/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working/functions.html">Calculation and work functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AiiDA</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#scripting">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#data-types">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#groups">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#schedulers">Schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#querying-data">Querying data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#caching">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#result-manager">Result manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#backups">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#rest-api">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#cookbook">Cookbook</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Import and Export</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../main.html">AiiDA graphs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../external_dbs.html">Structures and external databases</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../external_dbs.html#import">Import</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="icsd.html">ICSD database importer</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">COD database importer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/index.html">AiiDA design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/index.html#aiida-core">AiiDA core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/index.html#aiida-plugins">AiiDA plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">StructureData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html#pseudopotentials">Pseudopotentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html#plugin-development">Plugin development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_">`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Import and Export</a> &raquo;</li>
        
          <li><a href="../external_dbs.html">Structures and external databases</a> &raquo;</li>
        
      <li>COD database importer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/import_export/dbimporters/cod.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cod-database-importer">
<h1>COD database importer<a class="headerlink" href="#cod-database-importer" title="Permalink to this headline">¶</a></h1>
<p>COD database importer is used to import crystal structures from the
<a class="reference external" href="http://www.crystallography.net">Crystallography Open Database</a> (COD) to AiiDA.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>An instance of
<a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodDbImporter" title="aiida.tools.dbimporters.plugins.cod.CodDbImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodDbImporter</span></code></a>
is created as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aiida.tools.dbimporters.plugins.cod</span> <span class="k">import</span> <span class="n">CodDbImporter</span>
<span class="n">importer</span> <span class="o">=</span> <span class="n">CodDbImporter</span><span class="p">()</span>
</pre></div>
</div>
<p>No additional parameters are required for standard queries on the main COD
server.</p>
</div>
<div class="section" id="how-to-do-a-query">
<h2>How to do a query<a class="headerlink" href="#how-to-do-a-query" title="Permalink to this headline">¶</a></h2>
<p>A search is initiated by supplying query statements using <code class="docutils literal notranslate"><span class="pre">keyword=value</span></code>
syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">chemical_name</span><span class="o">=</span><span class="s2">&quot;caffeine&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>List of possible keywords can be listed using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">importer</span><span class="o">.</span><span class="n">get_supported_keywords</span><span class="p">()</span>
</pre></div>
</div>
<p>Values for the most of the keywords can be list. In that case the query
will return entries, that match any of the values (binary <cite>OR</cite>) from the
list. Moreover, in the case of multiple keywords, entries, that match all
the conditions imposed by the keywords, will be returned (binary <cite>AND</cite>).</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">chemical_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;caffeine&quot;</span><span class="p">,</span><span class="s2">&quot;serotonin&quot;</span><span class="p">],</span>
                         <span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2001</span><span class="p">])</span>
</pre></div>
</div>
<p>is equivalent to the following SQL statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">data</span> <span class="n">WHERE</span>
            <span class="p">(</span> <span class="n">chemical_name</span> <span class="o">==</span> <span class="s2">&quot;caffeine&quot;</span> <span class="n">OR</span> <span class="n">chemical_name</span> <span class="o">==</span> <span class="s2">&quot;serotonin&quot;</span> <span class="p">)</span> <span class="n">AND</span>
            <span class="p">(</span> <span class="n">year</span> <span class="o">=</span> <span class="mi">2000</span> <span class="n">OR</span> <span class="n">year</span> <span class="o">=</span> <span class="mi">2001</span> <span class="p">)</span>
</pre></div>
</div>
<p>A query returns an instance of
<a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodSearchResults" title="aiida.tools.dbimporters.plugins.cod.CodSearchResults"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodSearchResults</span></code></a>,
which can be used in a same way as a list of
<a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodEntry" title="aiida.tools.dbimporters.plugins.cod.CodEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodEntry</span></code></a> instances:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">entry</span>
</pre></div>
</div>
</div>
<div class="section" id="using-data-from-codentry">
<h2>Using data from <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodEntry" title="aiida.tools.dbimporters.plugins.cod.CodEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodEntry</span></code></a><a class="headerlink" href="#using-data-from-codentry" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodEntry" title="aiida.tools.dbimporters.plugins.cod.CodEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodEntry</span></code></a> has a
few functions to access the contents of it’s instances:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CodEntry</span><span class="o">.</span><span class="n">get_aiida_structure</span><span class="p">()</span>
<span class="n">CodEntry</span><span class="o">.</span><span class="n">get_ase_structure</span><span class="p">()</span>
<span class="n">CodEntry</span><span class="o">.</span><span class="n">get_cif_node</span><span class="p">()</span>
<span class="n">CodEntry</span><span class="o">.</span><span class="n">get_parsed_cif</span><span class="p">()</span>
<span class="n">CodEntry</span><span class="o">.</span><span class="n">get_raw_cif</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../developer_guide/index.html" class="btn btn-neutral float-right" title="AiiDA design" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="icsd.html" class="btn btn-neutral float-left" title="ICSD database importer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>