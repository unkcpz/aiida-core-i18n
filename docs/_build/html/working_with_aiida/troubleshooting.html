

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Some tricks &mdash; AiiDA 1.0.0b2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using the proxy_command option with ssh" href="../setup/ssh_proxycommand.html" />
    <link rel="prev" title="Create database backup" href="../backup/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/quick_installation.html">Quick installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/updating_installation.html">Updating AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/index.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/daemon.html">Setup the daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/computers.html">Setup a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/codes.html">Setup a code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/plugins.html">Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../working/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/functions.html">Calculation and work functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AiiDA</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#scripting">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#data-types">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#groups">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#schedulers">Schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#querying-data">Querying data</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#caching">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#result-manager">Result manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#backups">Backups</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html#troubleshooting">Troubleshooting</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Some tricks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../setup/ssh_proxycommand.html">Using the proxy_command option with ssh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#increasing-the-debug-level">Increasing the debug level</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips-to-ease-the-life-of-the-hard-drive-for-large-databases">Tips to ease the life of the hard drive (for large databases)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#repository-backup">Repository backup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mlocate-cron-job">mlocate cron job</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#rest-api">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#cookbook">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import_export/index.html">Import and Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html">AiiDA design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-core">AiiDA core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-plugins">AiiDA plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">StructureData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#pseudopotentials">Pseudopotentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#plugin-development">Plugin development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_">`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Command line interface</a> &raquo;</li>
        
      <li>Some tricks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/working_with_aiida/troubleshooting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="some-tricks">
<h1>Some tricks<a class="headerlink" href="#some-tricks" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/ssh_proxycommand.html">Using the proxy_command option with ssh</a></li>
</ul>
</div>
</div>
<div class="section" id="increasing-the-debug-level">
<h1>Increasing the debug level<a class="headerlink" href="#increasing-the-debug-level" title="Permalink to this headline">¶</a></h1>
<p>By default, the logging level of AiiDA is minimal to avoid filling logfiles.
Only warnings and errors are logged to the daemon log files, while info and debug
messages are discarded.</p>
<p>If you are experiencing a problem, you can change the default minimum logging
level of AiiDA messages (and circus messages – circus is the library that we
use to manage the daemon process) using, on the command line, the two
following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verdi</span> <span class="n">config</span> <span class="n">logging</span><span class="o">.</span><span class="n">circus_loglevel</span> <span class="n">DEBUG</span>
<span class="n">verdi</span> <span class="n">config</span> <span class="n">logging</span><span class="o">.</span><span class="n">aiida_loglevel</span> <span class="n">DEBUG</span>
</pre></div>
</div>
<p>For each profile that runs a daemon, there will be two unique logfiles, one for
AiiDA log messages and one from the circus daemonizer. These files can be found
in the <code class="docutils literal notranslate"><span class="pre">.aiida</span></code> log folder, which by default can be found at <code class="docutils literal notranslate"><span class="pre">~/.aiida/daemon/log/aiida_daemon.log</span></code>.
After rebooting the daemon (<code class="docutils literal notranslate"><span class="pre">verdi</span> <span class="pre">daemon</span> <span class="pre">restart</span></code>), the number of messages
logged will increase significantly and may help in understanding
the source of the problem.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the command above, you can use a different level than <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>.
The list of the levels and their order is the same of the <a class="reference external" href="https://docs.python.org/2/library/logging.html#logging-levels">standard python
logging module</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When the problem is solved, we suggest to bring back the default
logging level, using the two commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verdi</span> <span class="n">devel</span> <span class="n">delproperty</span> <span class="n">logging</span><span class="o">.</span><span class="n">circus_loglevel</span>
<span class="n">verdi</span> <span class="n">devel</span> <span class="n">delproperty</span> <span class="n">logging</span><span class="o">.</span><span class="n">aiida_loglevel</span>
</pre></div>
</div>
<p class="last">to avoid to fill the logfiles.</p>
</div>
</div>
<div class="section" id="tips-to-ease-the-life-of-the-hard-drive-for-large-databases">
<span id="repo-troubleshooting"></span><h1>Tips to ease the life of the hard drive (for large databases)<a class="headerlink" href="#tips-to-ease-the-life-of-the-hard-drive-for-large-databases" title="Permalink to this headline">¶</a></h1>
<p>Those tips are useful when your database is very large, i.e. several hundreds of
thousands of nodes or more. With such large databases the hard drive
may be constantly working and the computer slowed down a lot. Below are some
solutions to take care of the most typical reasons.</p>
<div class="section" id="repository-backup">
<h2>Repository backup<a class="headerlink" href="#repository-backup" title="Permalink to this headline">¶</a></h2>
<p>The backup of the repository takes an extensively long time if it is done through
a standard rsync or backup software, since it contains as many folders as the number
of nodes (and each folder can contain many files!).
A solution is to use instead the incremental
backup described in the <a class="reference internal" href="../backup/index.html#repository-backup"><span class="std std-ref">repository backup section</span></a>.</p>
</div>
<div class="section" id="mlocate-cron-job">
<h2>mlocate cron job<a class="headerlink" href="#mlocate-cron-job" title="Permalink to this headline">¶</a></h2>
<p>Under typical Linux distributions, there is a cron job (called
<code class="docutils literal notranslate"><span class="pre">updatedb.mlocate</span></code>) running every day to update a database of files and
folders – this is to be used by the <code class="docutils literal notranslate"><span class="pre">locate</span></code> command. This might become
problematic since the repository contains many folders and
will be scanned everyday. The net effect is a hard drive almost constantly
working.</p>
<p>To avoid this issue, edit as root the file <code class="docutils literal notranslate"><span class="pre">/etc/updatedb.conf</span></code>
and put in <code class="docutils literal notranslate"><span class="pre">PRUNEPATHS</span></code> the name of the repository folder.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../setup/ssh_proxycommand.html" class="btn btn-neutral float-right" title="Using the proxy_command option with ssh" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../backup/index.html" class="btn btn-neutral float-left" title="Create database backup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>