

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Groups &mdash; AiiDA 1.0.0b2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Supported schedulers" href="../scheduler/index.html" />
    <link rel="prev" title="Export data nodes to various formats" href="../datatypes/functionality.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/quick_installation.html">Quick installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/updating_installation.html">Updating AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/index.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/daemon.html">Setup the daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/computers.html">Setup a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/codes.html">Setup a code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/plugins.html">Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../working/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/functions.html">Calculation and work functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AiiDA</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#scripting">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#data-types">Data types</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html#groups">Groups</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Groups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#schedulers">Schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#querying-data">Querying data</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#caching">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#result-manager">Result manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#backups">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#rest-api">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#cookbook">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import_export/index.html">Import and Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html">AiiDA design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-core">AiiDA core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html#aiida-plugins">AiiDA plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">StructureData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#pseudopotentials">Pseudopotentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html#plugin-development">Plugin development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_">`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Command line interface</a> &raquo;</li>
        
      <li>Groups</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/working_with_aiida/groups.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="groups">
<h1>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h1>
<p>Groups provide an additional level of data organization based on some common
property(ies) shared between them. As by default AiiDA manages only casual
relationships between calculations and data objecs – it is often desired to
organize them in Groups.</p>
<p>Nodes of any types may be organized in Groups. Unlike Nodes, Groups can be
modified at any time. Here we profide the list of typical operations that may
be performed with Groups:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any deletion operation like delition of a Group or nodes from a Group
will not delete the nodes themselfs. They will remain in you AiiDA database.</p>
</div>
<ol class="arabic">
<li><dl class="first docutils">
<dt><strong>Create a new Group.</strong></dt>
<dd><p class="first">From command line interface:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">verdi</span> <span class="n">group</span> <span class="n">create</span> <span class="n">test_group</span>
</pre></div>
</div>
<p>From python interface:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;test_group&quot;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">group</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">Group</span><span class="p">:</span> <span class="s2">&quot;test_group&quot;</span> <span class="p">[</span><span class="nb">type</span> <span class="n">user</span><span class="p">],</span> <span class="n">of</span> <span class="n">user</span> <span class="n">xxx</span><span class="nd">@xx</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>List available Groups.</strong></dt>
<dd><blockquote class="first">
<div><p>&gt; verdi group list</p>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default <code class="docutils literal notranslate"><span class="pre">verdi</span> <span class="pre">group</span> <span class="pre">list</span></code> only shows groups of type <em>user</em>.
In case you want to show groups of other type use <code class="docutils literal notranslate"><span class="pre">-t/--type</span></code> options. If
you want to show groups of all types, use <code class="docutils literal notranslate"><span class="pre">-a/--all-types</span></code> option.</p>
</div>
<p>From python interface:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">query</span> <span class="o">=</span> <span class="n">QueryBuilder</span><span class="p">()</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">query</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Group</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;type_string&#39;</span><span class="p">:</span><span class="s1">&#39;user&#39;</span><span class="p">})</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">aiida</span><span class="o">.</span><span class="n">orm</span><span class="o">.</span><span class="n">querybuilder</span><span class="o">.</span><span class="n">QueryBuilder</span> <span class="n">at</span> <span class="mh">0x7f20db413ef0</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
<span class="p">[[</span><span class="o">&lt;</span><span class="n">Group</span><span class="p">:</span> <span class="s2">&quot;another_group&quot;</span> <span class="p">[</span><span class="nb">type</span> <span class="n">user</span><span class="p">],</span> <span class="n">of</span> <span class="n">user</span> <span class="n">ya</span><span class="nd">@epfl</span><span class="o">.</span><span class="n">ch</span><span class="o">&gt;</span><span class="p">],</span>
 <span class="p">[</span><span class="o">&lt;</span><span class="n">Group</span><span class="p">:</span> <span class="s2">&quot;old_group&quot;</span> <span class="p">[</span><span class="nb">type</span> <span class="n">user</span><span class="p">],</span> <span class="n">of</span> <span class="n">user</span> <span class="n">ya</span><span class="nd">@epfl</span><span class="o">.</span><span class="n">ch</span><span class="o">&gt;</span><span class="p">],</span>
 <span class="p">[</span><span class="o">&lt;</span><span class="n">Group</span><span class="p">:</span> <span class="s2">&quot;new_group&quot;</span> <span class="p">[</span><span class="nb">type</span> <span class="n">user</span><span class="p">],</span> <span class="n">of</span> <span class="n">user</span> <span class="n">ya</span><span class="nd">@epfl</span><span class="o">.</span><span class="n">ch</span><span class="o">&gt;</span><span class="p">]]</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Add nodes to a Group.</strong></dt>
<dd><p class="first">From command line interface:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">verdi</span> <span class="n">group</span> <span class="n">addnodes</span> <span class="o">-</span><span class="n">G</span> <span class="n">test_group</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Here we are adding Node with pk number 1 to the group we just created</p>
<p>From python interface:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">aiida.orm</span> <span class="k">import</span> <span class="n">Dict</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">()</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">p</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">Dict</span><span class="p">:</span> <span class="n">uuid</span><span class="p">:</span> <span class="mi">09</span><span class="n">b3d52a</span><span class="o">-</span><span class="n">d0c4</span><span class="o">-</span><span class="mf">4e3</span><span class="n">c</span><span class="o">-</span><span class="mi">823</span><span class="n">c</span><span class="o">-</span><span class="mi">6157</span><span class="n">f84af920</span> <span class="p">(</span><span class="n">pk</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">group</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Show information about a Group.</strong></dt>
<dd><p class="first">From command line interface:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">verdi</span> <span class="n">group</span> <span class="n">show</span> <span class="n">test_group</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p class="first"><strong>Remove nodes from a Group.</strong></p>
<blockquote>
<div><p>From command line interface:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">verdi</span> <span class="n">group</span> <span class="n">removenodes</span> <span class="o">-</span><span class="n">G</span> <span class="n">test_group</span> <span class="mi">1</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt><strong>Rename Group.</strong></dt>
<dd><p class="first">From command line interface:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">verdi</span> <span class="n">group</span> <span class="n">rename</span> <span class="n">test_group</span> <span class="n">old_group</span>
</pre></div>
</div>
<p>From python interface:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;test_group&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">group</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;another_group&quot;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Delete Group.</strong></dt>
<dd><p class="first">From command line interface:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">verdi</span> <span class="n">group</span> <span class="n">delete</span> <span class="n">old_group</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Copy one group into anohter.</strong></dt>
<dd><p class="first">This operation will copy the content of source group into the destination
group. Moreover, if the destination group does not exist it will be created
automatically.</p>
<p>From command line interface:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">verdi</span> <span class="n">group</span> <span class="n">copy</span> <span class="n">source_group</span> <span class="n">destination_group</span>
</pre></div>
</div>
<p>From python interface:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">src_group</span> <span class="o">=</span> <span class="n">Group</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;source_group&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">dest_group</span> <span class="o">=</span> <span class="n">Group</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;destination_group&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">dest_group</span><span class="o">.</span><span class="n">add_nodes</span><span class="p">(</span><span class="n">src_group</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../scheduler/index.html" class="btn btn-neutral float-right" title="Supported schedulers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../datatypes/functionality.html" class="btn btn-neutral float-left" title="Export data nodes to various formats" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>