

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ORM documentation: generic aiida.orm &mdash; AiiDA 1.0.0b2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Transport plugins" href="transport.html" />
    <link rel="prev" title="AiiDA internals" href="internals.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/quick_installation.html">Quick installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/updating_installation.html">Updating AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/index.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/daemon.html">Setup the daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/computers.html">Setup a computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/codes.html">Setup a code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/plugins.html">Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../working/processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working/functions.html">Calculation and work functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working/calculations.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working/workflows.html">Workflows</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AiiDA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#scripting">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#data-types">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#groups">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#schedulers">Schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#querying-data">Querying data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#caching">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#result-manager">Result manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#backups">Backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#rest-api">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_aiida/index.html#cookbook">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../import_export/index.html">Import and Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">AiiDA design</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html#aiida-core">AiiDA core</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="internals.html">AiiDA internals</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="internals.html#node">Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#dbnode">DbNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#folders">Folders</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#data">Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#processnode">ProcessNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#calculationnode">CalculationNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#workflownode">WorkflowNode</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="internals.html#orm-overview">ORM overview</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">ORM documentation: generic aiida.orm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orm-documentation-data">ORM documentation: Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orm-documentation-calculations">ORM documentation: Calculations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#deprecated-features-renaming-and-adding-new-methods">Deprecated features, renaming, and adding new methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#changing-the-config-json-structure">Changing the config.json structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="internals.html#daemon-and-signal-handling">Daemon and signal handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="transport.html">Transport plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="database_schema.html">Database schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="modifying_the_schema.html">Modifying the schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="extend_restapi.html">How to extend the AiiDA REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Caching: implementation details</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin_system.html">Developing The Plugin System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/sphinx_cheatsheet.html">Sphinx cheatsheet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#aiida-plugins">AiiDA plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">StructureData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html#pseudopotentials">Pseudopotentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html#plugin-development">Plugin development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_">`aiida package &lt;https://aiida-core.readthedocs.io/en/latest/apidoc/aiida.html&gt;`_</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">AiiDA design</a> &raquo;</li>
        
          <li><a href="internals.html">AiiDA internals</a> &raquo;</li>
        
      <li>ORM documentation: generic aiida.orm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/developer_guide/core/orm_overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="orm-documentation-generic-aiida-orm">
<h1>ORM documentation: generic aiida.orm<a class="headerlink" href="#orm-documentation-generic-aiida-orm" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Some generic methods of the module aiida.orm.utils</p>
<p>Utilities related to the ORM.</p>
<dl class="function">
<dt>
<code class="descclassname">aiida.orm.utils.</code><code class="descname">load_code</code><span class="sig-paren">(</span><em>identifier=None</em>, <em>pk=None</em>, <em>uuid=None</em>, <em>label=None</em>, <em>sub_classes=None</em>, <em>query_with_dashes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils.html#load_code"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load a Code instance by one of its identifiers: pk, uuid or label</p>
<p>If the type of the identifier is unknown simply pass it without a keyword and the loader will attempt to
automatically infer the type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>identifier</strong> – pk (integer), uuid (string) or label (string) of a Code</li>
<li><strong>pk</strong> – pk of a Code</li>
<li><strong>uuid</strong> – uuid of a Code, or the beginning of the uuid</li>
<li><strong>label</strong> – label of a Code</li>
<li><strong>sub_classes</strong> – an optional tuple of orm classes to narrow the queryset. Each class should be a strict sub class
of the ORM class of the given entity loader.</li>
<li><strong>query_with_dashes</strong> (<em>bool</em>) – allow to query for a uuid with dashes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the Code instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ValueError</strong> – if none or more than one of the identifiers are supplied</li>
<li><strong>TypeError</strong> – if the provided identifier has the wrong type</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no matching Code is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if more than one Code was found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.utils.</code><code class="descname">load_computer</code><span class="sig-paren">(</span><em>identifier=None</em>, <em>pk=None</em>, <em>uuid=None</em>, <em>label=None</em>, <em>sub_classes=None</em>, <em>query_with_dashes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils.html#load_computer"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load a Computer instance by one of its identifiers: pk, uuid or label</p>
<p>If the type of the identifier is unknown simply pass it without a keyword and the loader will attempt to
automatically infer the type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>identifier</strong> – pk (integer), uuid (string) or label (string) of a Computer</li>
<li><strong>pk</strong> – pk of a Computer</li>
<li><strong>uuid</strong> – uuid of a Computer, or the beginning of the uuid</li>
<li><strong>label</strong> – label of a Computer</li>
<li><strong>sub_classes</strong> – an optional tuple of orm classes to narrow the queryset. Each class should be a strict sub class
of the ORM class of the given entity loader.</li>
<li><strong>query_with_dashes</strong> (<em>bool</em>) – allow to query for a uuid with dashes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the Computer instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ValueError</strong> – if none or more than one of the identifiers are supplied</li>
<li><strong>TypeError</strong> – if the provided identifier has the wrong type</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no matching Computer is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if more than one Computer was found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.utils.</code><code class="descname">load_group</code><span class="sig-paren">(</span><em>identifier=None</em>, <em>pk=None</em>, <em>uuid=None</em>, <em>label=None</em>, <em>sub_classes=None</em>, <em>query_with_dashes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils.html#load_group"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load a Group instance by one of its identifiers: pk, uuid or label</p>
<p>If the type of the identifier is unknown simply pass it without a keyword and the loader will attempt to
automatically infer the type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>identifier</strong> – pk (integer), uuid (string) or label (string) of a Group</li>
<li><strong>pk</strong> – pk of a Group</li>
<li><strong>uuid</strong> – uuid of a Group, or the beginning of the uuid</li>
<li><strong>label</strong> – label of a Group</li>
<li><strong>sub_classes</strong> – an optional tuple of orm classes to narrow the queryset. Each class should be a strict sub class
of the ORM class of the given entity loader.</li>
<li><strong>query_with_dashes</strong> (<em>bool</em>) – allow to query for a uuid with dashes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the Group instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ValueError</strong> – if none or more than one of the identifiers are supplied</li>
<li><strong>TypeError</strong> – if the provided identifier has the wrong type</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no matching Group is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if more than one Group was found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.utils.</code><code class="descname">load_node</code><span class="sig-paren">(</span><em>identifier=None</em>, <em>pk=None</em>, <em>uuid=None</em>, <em>label=None</em>, <em>sub_classes=None</em>, <em>query_with_dashes=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils.html#load_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load a node by one of its identifiers: pk or uuid. If the type of the identifier is unknown
simply pass it without a keyword and the loader will attempt to infer the type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>identifier</strong> – pk (integer) or uuid (string)</li>
<li><strong>pk</strong> – pk of a node</li>
<li><strong>uuid</strong> – uuid of a node, or the beginning of the uuid</li>
<li><strong>label</strong> – label of a Node</li>
<li><strong>sub_classes</strong> – an optional tuple of orm classes to narrow the queryset. Each class should be a strict sub class
of the ORM class of the given entity loader.</li>
<li><strong>query_with_dashes</strong> (<em>bool</em>) – allow to query for a uuid with dashes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the node instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ValueError</strong> – if none or more than one of the identifiers are supplied</li>
<li><strong>TypeError</strong> – if the provided identifier has the wrong type</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no matching Node is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if more than one Node was found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="computer">
<h2>Computer<a class="headerlink" href="#computer" title="Permalink to this headline">¶</a></h2>
<p>Module for Computer entities</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.computers.</code><code class="descname">Computer</code><span class="sig-paren">(</span><em>name</em>, <em>hostname</em>, <em>description=''</em>, <em>transport_type=''</em>, <em>scheduler_type=''</em>, <em>workdir=None</em>, <em>backend=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class to map a node in the DB + its permanent repository counterpart.</p>
<p>Stores attributes starting with an underscore.</p>
<p>Caches files and attributes before the first save, and saves everything only on store().
After the call to store(), attributes cannot be changed.</p>
<p>Only after storing (or upon loading from uuid) metadata can be modified
and in this case they are directly set on the db.</p>
<p>In the plugin, also set the _plugin_type_string, to be set in the DB in the ‘type’ field.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">Collection</code><span class="sig-paren">(</span><em>backend</em>, <em>entity_class</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.Collection"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>The collection of Computer entries.</p>
<dl class="method">
<dt>
<code class="descname">delete</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.Collection.delete"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete the computer with the given id</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">list_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.Collection.list_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list with all the names of the computers in the DB.</p>
</dd></dl>

</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_append_text_validator</code><span class="sig-paren">(</span><em>append_text</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._append_text_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the append text string.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_default_mpiprocs_per_machine_validator</code><span class="sig-paren">(</span><em>def_cpus_per_machine</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._default_mpiprocs_per_machine_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the default number of CPUs per machine (node)</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_description_validator</code><span class="sig-paren">(</span><em>description</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._description_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the description.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_hostname_validator</code><span class="sig-paren">(</span><em>hostname</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._hostname_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the hostname.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_mpirun_command_validator</code><span class="sig-paren">(</span><em>mpirun_cmd</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._mpirun_command_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the mpirun_command variable. MUST be called after properly
checking for a valid scheduler.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_name_validator</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._name_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the name.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_prepend_text_validator</code><span class="sig-paren">(</span><em>prepend_text</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._prepend_text_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the prepend text string.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_scheduler_type_validator</code><span class="sig-paren">(</span><em>scheduler_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._scheduler_type_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the transport string.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_transport_type_validator</code><span class="sig-paren">(</span><em>transport_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._transport_type_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the transport string.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">_workdir_validator</code><span class="sig-paren">(</span><em>workdir</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer._workdir_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates the transport string.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">configure</code><span class="sig-paren">(</span><em>user=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.configure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Configure a computer for a user with valid auth params passed via kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> – the user to configure the computer for</td>
</tr>
<tr class="field-even field"><th class="field-name">Kwargs:</th><td class="field-body">the configuration keywords with corresponding values</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the authinfo object for the configured user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.orm.html#aiida.orm.AuthInfo" title="aiida.orm.AuthInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.AuthInfo</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.copy"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a copy of the current object to work with, not stored yet.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_property</code><span class="sig-paren">(</span><em>name</em>, <em>raise_exception=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.delete_property"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete a property from this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – the name of the property</li>
<li><strong>raise_exception</strong> – if True raise if the property does not exist, otherwise return None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">description</code></dt>
<dd><p>Get a description of the computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the description</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">full_text_info</code></dt>
<dd><p>Return a (multiline) string with a human-readable detailed information on this computer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Rypte:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_authinfo</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_authinfo"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the aiida.orm.authinfo.AuthInfo instance for the
given user on this computer, if the computer
is configured for the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> – a User instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a AuthInfo instance</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if the computer is not configured for the given
user.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_configuration</code><span class="sig-paren">(</span><em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_configuration"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the configuration of computer for the given user as a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> (<a class="reference internal" href="../../apidoc/aiida.orm.html#aiida.orm.User" title="aiida.orm.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.User</span></code></a>) – the user to to get the configuration for.  Uses default user if <cite>None</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_default_mpiprocs_per_machine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_default_mpiprocs_per_machine"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the default number of CPUs per machine (node) for this computer,
or None if it was not set.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the description for this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the description</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_hostname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_hostname"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get this computer hostname
:rtype: str</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_minimum_job_poll_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_minimum_job_poll_interval"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the minimum interval between subsequent requests to update the list
of jobs currently running on this computer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The minimum interval (in seconds)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_mpirun_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_mpirun_command"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the mpirun command. Must be a list of strings, that will be
then joined with spaces when submitting.</p>
<p>I also provide a sensible default that may be ok in many cases.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_property</code><span class="sig-paren">(</span><em>name</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_property"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a property of this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> – the property name</li>
<li><strong>args</strong> – additional arguments</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the property value</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_scheduler"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a scheduler instance for this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the scheduler instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.schedulers.html#aiida.schedulers.Scheduler" title="aiida.schedulers.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.Scheduler</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_scheduler_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the scheduler type for this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the scheduler type</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">get_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_schema"><span class="viewcode-link">[source]</span></a></dt>
<dd><dl class="docutils">
<dt>Every node property contains:</dt>
<dd><ul class="first last simple">
<li>display_name: display name of the property</li>
<li>help text: short help text of the property</li>
<li>is_foreign_key: is the property foreign key to other type of the node</li>
<li>type: type of the property. e.g. str, dict, int</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">get schema of the computer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_transport</code><span class="sig-paren">(</span><em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_transport"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a Transport class, configured with all correct parameters.
The Transport is closed (meaning that if you want to run any operation with
it, you have to open it first (i.e., e.g. for a SSH transport, you have
to open a connection). To do this you can call <code class="docutils literal notranslate"><span class="pre">transports.open()</span></code>, or simply
run within a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transport</span> <span class="o">=</span> <span class="n">Computer</span><span class="o">.</span><span class="n">get_transport</span><span class="p">()</span>
<span class="k">with</span> <span class="n">transport</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">transports</span><span class="o">.</span><span class="n">whoami</span><span class="p">())</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> – if None, try to obtain a transport for the default user.
Otherwise, pass a valid User.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a (closed) Transport, already configured with the connection
parameters to the supercomputer, as configured with <code class="docutils literal notranslate"><span class="pre">verdi</span> <span class="pre">computer</span> <span class="pre">configure</span></code>
for the user specified as a parameter <code class="docutils literal notranslate"><span class="pre">user</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_transport_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_transport_class"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the transport class for this computer.  Can be used to instantiate a transport instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the transport class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_transport_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_transport_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the current transport type for this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the transport type</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_workdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.get_workdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the working directory for this computer
:return: The currently configured working directory
:rtype: str</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">is_user_configured</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.is_user_configured"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Is the user configured on this computer?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> – the user to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if configured, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">is_user_enabled</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.is_user_enabled"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Is the given user enabled to run on this computer?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> – the user to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if enabled, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">label</code></dt>
<dd><p>The computer label</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_default_mpiprocs_per_machine</code><span class="sig-paren">(</span><em>def_cpus_per_machine</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_default_mpiprocs_per_machine"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the default number of CPUs per machine (node) for this computer.
Accepts None if you do not want to set this value.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_description</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the description for this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>val</strong> (<em>str</em>) – the new description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_hostname</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_hostname"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the hostname of this computer
:param val: The new hostname
:type val: str</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_metadata</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_metadata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the metadata.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_minimum_job_poll_interval</code><span class="sig-paren">(</span><em>interval</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_minimum_job_poll_interval"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the minimum interval between subsequent requests to update the list
of jobs currently running on this computer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>interval</strong> (<em>float</em>) – The minimum interval in seconds</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_mpirun_command</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_mpirun_command"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the mpirun command. It must be a list of strings (you can use
string.split() if you have a single, space-separated string).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_property</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_property"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a property on this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – the property name</li>
<li><strong>value</strong> – the new value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_scheduler_type</code><span class="sig-paren">(</span><em>scheduler_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_scheduler_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scheduler_type</strong> – the new scheduler type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_shebang</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_shebang"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>val</strong> (<em>str</em>) – A valid shebang line</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_transport_type</code><span class="sig-paren">(</span><em>transport_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.set_transport_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the transport type for this computer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>transport_type</strong> (<em>str</em>) – the new transport type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the computer in the DB.</p>
<p>Differently from Nodes, a computer can be re-stored if its properties
are to be changed (e.g. a new mpirun command, etc.)</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/computers.html#Computer.validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Check if the attributes and files retrieved from the DB are valid.
Raise a ValidationError if something is wrong.</p>
<p>Must be able to work even before storing: therefore, use the get_attr and similar methods
that automatically read either from the DB or from the internal attribute cache.</p>
<p>For the base class, this is always valid. Subclasses will reimplement this.
In the subclass, always call the super().validate() method first!</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="group">
<h2>Group<a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h2>
<p>AiiDA Group entites</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.groups.</code><code class="descname">Group</code><span class="sig-paren">(</span><em>label=None</em>, <em>user=None</em>, <em>description=''</em>, <em>type_string='user'</em>, <em>backend=None</em>, <em>name=None</em>, <em>type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>An AiiDA ORM implementation of group of nodes.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">Collection</code><span class="sig-paren">(</span><em>backend</em>, <em>entity_class</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.Collection"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Collection of Groups</p>
<dl class="method">
<dt>
<code class="descname">delete</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.Collection.delete"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> – the id of the group to delete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_or_create</code><span class="sig-paren">(</span><em>label=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.Collection.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Try to retrieve a group from the DB with the given arguments;
create (and store) a new group if such a group was not present yet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(group, created) where group is the group (new or existing,
in any case already stored) and created is a boolean saying</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt>
<code class="descname">add_nodes</code><span class="sig-paren">(</span><em>nodes</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.add_nodes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add a node or a set of nodes to the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">all the nodes <em>and</em> the group itself have to be stored.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nodes</strong> – a single <cite>Node</cite> or a list of <cite>Nodes</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.clear"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove all the nodes from this group.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.count"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the number of entities in this group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">integer number of entities contained within the group</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">description</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the description of the group as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.get"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Custom get for group which can be used to get a group with the given attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – the attributes to match the group to</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the group</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.orm.html#aiida.orm.Group" title="aiida.orm.Group"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.Group</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_from_string</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.get_from_string"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a group from a string.
If only the label is provided, without colons,
only user-defined groups are searched;
add ‘:type_str’ after the group label to choose also
the type of the group equal to ‘type_str’
(e.g. ‘data.upf’, ‘import’, etc.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ValueError</strong> – if the group type does not exist.</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if the group is not found.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_or_create</code><span class="sig-paren">(</span><em>backend=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Try to retrieve a group from the DB with the given arguments;
create (and store) a new group if such a group was not present yet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(group, created) where group is the group (new or existing,
in any case already stored) and created is a boolean saying</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">get_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.get_schema"><span class="viewcode-link">[source]</span></a></dt>
<dd><dl class="docutils">
<dt>Every node property contains:</dt>
<dd><ul class="first last simple">
<li>display_name: display name of the property</li>
<li>help text: short help text of the property</li>
<li>is_foreign_key: is the property foreign key to other type of the node</li>
<li>type: type of the property. e.g. str, dict, int</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">get schema of the group</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_empty</code></dt>
<dd><p>Return whether the group is empty, i.e. it does not contain any nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if it contains no nodes, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">is_user_defined</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.is_user_defined"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the group is user defined, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">label</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the label of the group as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">name</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the label of the group as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">nodes</code></dt>
<dd><p>Return a generator/iterator that iterates over all nodes and returns
the respective AiiDA subclasses of Node, and also allows to ask for
the number of nodes in the group using len().</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">remove_nodes</code><span class="sig-paren">(</span><em>nodes</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/groups.html#Group.remove_nodes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove a node or a set of nodes to the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">all the nodes <em>and</em> the group itself have to be stored.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nodes</strong> – a single <cite>Node</cite> or a list of <cite>Nodes</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">type</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the string defining the type of the group</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">type_string</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the string defining the type of the group</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">user</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the user associated with this group</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">uuid</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string with the uuid</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.groups.</code><code class="descname">GroupTypeString</code><a class="reference internal" href="../../_modules/aiida/orm/groups.html#GroupTypeString"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A simple enum of allowed group type strings.</p>
</dd></dl>

</div>
<div class="section" id="user">
<h2>User<a class="headerlink" href="#user" title="Permalink to this headline">¶</a></h2>
<p>Module for the ORM user class.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.users.</code><code class="descname">User</code><span class="sig-paren">(</span><em>email</em>, <em>first_name=''</em>, <em>last_name=''</em>, <em>institution=''</em>, <em>password=None</em>, <em>backend=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>AiiDA User</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">Collection</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User.Collection"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>The collection of users stored in a backend</p>
<dl class="method">
<dt>
<code class="descname">get_default</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User.Collection.get_default"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the current default user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.orm.html#aiida.orm.User" title="aiida.orm.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.User</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_or_create</code><span class="sig-paren">(</span><em>email</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User.Collection.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the existing user with a given email address or create an unstored one</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – The properties of the user to get or create</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The corresponding user object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.orm.html#aiida.orm.User" title="aiida.orm.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.User</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.MultipleObjectsError" title="aiida.common.exceptions.MultipleObjectsError"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.common.exceptions.MultipleObjectsError</span></code></a>,
<a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.NotExistent" title="aiida.common.exceptions.NotExistent"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.common.exceptions.NotExistent</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_full_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User.get_full_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the user full name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the user full name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">get_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User.get_schema"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Every node property contains:</p>
<blockquote>
<div><ul class="simple">
<li>display_name: display name of the property</li>
<li>help text: short help text of the property</li>
<li>is_foreign_key: is the property foreign key to other type of the node</li>
<li>type: type of the property. e.g. str, dict, int</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">schema of the user</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User.get_short_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the user short name (typically, this returns the email)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The short name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">normalize_email</code><span class="sig-paren">(</span><em>email</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/users.html#User.normalize_email"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Normalize the address by lowercasing the domain part of the email address (taken from Django).</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="node">
<h2>Node<a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h2>
<p>Module with <cite>Node</cite> sub classes for data and processes.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Data</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class is base class for all data objects.</p>
<p>Specifications of the Data class:
AiiDA Data objects are subclasses of Node and should have</p>
<p>Multiple inheritance must be supported, i.e. Data should have methods for
querying and be able to inherit other library objects such as ASE for
structures.</p>
<p>Architecture note:
The code plugin is responsible for converting a raw data object produced by
code to AiiDA standard object format. The data object then validates itself
according to its method. This is done independently in order to allow
cross-validation of plugins.</p>
<dl class="method">
<dt>
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.clone"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a clone of the Data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an unstored clone of this Data node</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">convert</code><span class="sig-paren">(</span><em>object_format=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.convert"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert the AiiDA StructureData into another python object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>object_format</strong> – Specify the output format</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">creator</code></dt>
<dd><p>Return the creator of this node or None if it does not exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the creating node or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">export</code><span class="sig-paren">(</span><em>path</em>, <em>fileformat=None</em>, <em>overwrite=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.export"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Save a Data object to a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> – string with file name. Can be an absolute or relative path.</li>
<li><strong>fileformat</strong> – kind of format to use for the export. If not present,
it will try to use the extension of the file name.</li>
<li><strong>overwrite</strong> – if set to True, overwrites file found at path. Default=False</li>
<li><strong>kwargs</strong> – additional parameters to be passed to the
_exportcontent method</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the list of files created</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_export_formats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.get_export_formats"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the list of valid export format strings</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of valid formats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">importfile</code><span class="sig-paren">(</span><em>fname</em>, <em>fileformat=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.importfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Populate a Data object from a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fname</strong> – string with file name. Can be an absolute or relative path.</li>
<li><strong>fileformat</strong> – kind of format to use for the export. If not present,
it will try to use the extension of the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">importstring</code><span class="sig-paren">(</span><em>inputstring</em>, <em>fileformat</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.importstring"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts a Data object to other text format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fileformat</strong> – a string (the extension) to describe the file format.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a string with the structure description.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_source</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.set_source"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the dictionary describing the source of Data object.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">source</code></dt>
<dd><p>Gets the dictionary describing the source of Data object. Possible fields:</p>
<ul class="simple">
<li><strong>db_name</strong>: name of the source database.</li>
<li><strong>db_uri</strong>: URI of the source database.</li>
<li><strong>uri</strong>: URI of the object’s source. Should be a permanent link.</li>
<li><strong>id</strong>: object’s source identifier in the source database.</li>
<li><strong>version</strong>: version of the object’s source.</li>
<li><strong>extras</strong>: a dictionary with other fields for source description.</li>
<li><strong>source_md5</strong>: MD5 checksum of object’s source.</li>
<li><strong>description</strong>: human-readable free form description of the object’s source.</li>
<li><strong>license</strong>: a string with a type of license.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">some limitations for setting the data source exist, see <code class="docutils literal notranslate"><span class="pre">_validate</span></code> method.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary describing the source of Data object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">BaseType</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/base.html#BaseType"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to be used as a base for data containers that represent base python data types.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">ArrayData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a set of arrays on disk (rather than on the database) in an efficient
way using numpy.save() (therefore, this class requires numpy to be
installed).</p>
<p>Each array is stored within the Node folder as a different .npy file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">Before storing, no caching is done: if you perform a
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.html#aiida.orm.nodes.ArrayData.get_array" title="aiida.orm.nodes.ArrayData.get_array"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_array()</span></code></a> call, the array will be re-read from disk.
If instead the ArrayData node has already been stored,
the array is cached in memory after the first read, and the cached array
is used thereafter.
If too much RAM memory is used, you can clear the
cache with the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.html#aiida.orm.nodes.ArrayData.clear_internal_cache" title="aiida.orm.nodes.ArrayData.clear_internal_cache"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_internal_cache()</span></code></a> method.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">clear_internal_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.clear_internal_cache"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Clear the internal memory cache where the arrays are stored after being
read from disk (used in order to reduce at minimum the readings from
disk).
This function is useful if you want to keep the node in memory, but you
do not want to waste memory to cache the arrays in RAM.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_array</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.delete_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete an array from the node. Can only be called before storing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array to delete from the node.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_array</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an array stored in the node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array to return.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_arraynames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_arraynames"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all arrays stored in the node, listing the files (and
not relying on the properties).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from arraynames</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_iterarrays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_iterarrays"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator that returns tuples (name, array) for each array stored in the
node.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from iterarrays</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_shape</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_shape"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the shape of an array (read from the value cached in the
properties for efficiency reasons).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.initialize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Initialize internal variables for the backend node</p>
<p>This needs to be called explicitly in each specific subclass implementation of the init.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">iterarrays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.iterarrays"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator that returns tuples (name, array) for each array stored in the
node.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_array</code><span class="sig-paren">(</span><em>name</em>, <em>array</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.set_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a new numpy array inside the node. Possibly overwrite the array
if it already existed.</p>
<p>Internally, it stores a name.npy file in numpy format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – The name of the array.</li>
<li><strong>array</strong> – The numpy array to store.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">BandsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle bands data</p>
<dl class="attribute">
<dt>
<code class="descname">array_labels</code></dt>
<dd><p>Get the labels associated with the band arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_bands</code><span class="sig-paren">(</span><em>also_occupations=False</em>, <em>also_labels=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.get_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns an array (nkpoints x num_bands or nspins x nkpoints x num_bands)
of energies.
:param also_occupations: if True, returns also the occupations array.
Default = False</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_bands</code><span class="sig-paren">(</span><em>bands</em>, <em>units=None</em>, <em>occupations=None</em>, <em>labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an array of band energies of dimension (nkpoints x nbands).
Kpoints must be set in advance. Can contain floats or None.
:param bands: a list of nkpoints lists of nbands bands, or a 2D array
of shape (nkpoints x nbands), with band energies for each kpoint
:param units: optional, energy units
:param occupations: optional, a 2D list or array of floats of same
shape as bands, with the occupation associated to each band</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpointsdata</code><span class="sig-paren">(</span><em>kpointsdata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_kpointsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the kpoints from a kpoint object.
:param kpointsdata: an instance of KpointsData class</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.show_mpl"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Call a show() command for the band structure using matplotlib.
This uses internally the ‘mpl_singlefile’ format, with empty
main_file_name.</p>
<p>Other kwargs are passed to self._exportcontent.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">units</code></dt>
<dd><p>Units in which the data in bands were stored. A string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">KpointsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle array of kpoints in the Brillouin zone. Provide methods to
generate either user-defined k-points or path of k-points along symmetry
lines.
Internally, all k-points are defined in terms of crystal (fractional)
coordinates.
Cell and lattice vector coordinates are in Angstroms, reciprocal lattice
vectors in Angstrom^-1 .
:note: The methods setting and using the Bravais lattice info assume the
PRIMITIVE unit cell is provided in input to the set_cell or
set_cell_from_structure methods.</p>
<dl class="attribute">
<dt>
<code class="descname">bravais_lattice</code></dt>
<dd><p>The dictionary containing informations about the cell symmetry</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell</code></dt>
<dd><p>The crystal unit cell. Rows are the crystal vectors in Angstroms.
:return: a 3x3 numpy.array</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">find_bravais_lattice</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.find_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Analyze the symmetry of the cell. Allows to relax or tighten the
thresholds used to compare angles and lengths of the cell. Save the
information of the cell used for later use (like getting special
points). It has to be used if the user wants to be sure the right
symmetries are recognized. Otherwise, this function is automatically
called with the default values.</p>
<p>If the right symmetry is not found, be sure also you are providing cells
with enough digits.</p>
<p>If node is already stored, just returns the symmetry found before
storing (if any).</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Return (str) lattice_name:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">the name of the bravais lattice and its
eventual variation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a string with infos retrieved from  kpoints node’s properties.
:param node:
:return: retstr</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints</code><span class="sig-paren">(</span><em>also_weights=False</em>, <em>cartesian=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>also_weights</strong> – if True, returns also the list of weights.
Default = False</li>
<li><strong>cartesian</strong> – if True, returns points in cartesian coordinates,
otherwise, returns in crystal coordinates. Default = False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints_mesh</code><span class="sig-paren">(</span><em>print_list=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the mesh of kpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>print_list</strong> – default=False. If True, prints the mesh of kpoints as a list</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if no mesh has been set</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return mesh,offset:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">(if print_list=False) a list of 3 integers and a list of three
floats 0&lt;x&lt;1, representing the mesh and the offset of kpoints</td>
</tr>
<tr class="field-even field"><th class="field-name">Return kpoints:</th><td class="field-body">(if print_list = True) an explicit list of kpoints coordinates,
similar to what returned by get_kpoints()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_special_points</code><span class="sig-paren">(</span><em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_special_points"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the special point and path of a given structure.</p>
<p>References:</p>
<ul class="simple">
<li>In 2D, coordinates are based on the paper:
R. Ramirez and M. C. Bohm,  Int. J. Quant. Chem., XXX, pp. 391-411 (1986)</li>
<li>In 3D, coordinates are based on the paper:
W. Setyawan, S. Curtarolo, Comp. Mat. Sci. 49, 299 (2010)</li>
</ul>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cartesian</strong> – If true, returns points in cartesian coordinates.
Crystal coordinates otherwise. Default=False</li>
<li><strong>epsilon_length</strong> – threshold on lengths comparison, used to get the bravais lattice info</li>
<li><strong>epsilon_angle</strong> – threshold on angles comparison, used to get the bravais lattice info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns point_coords:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">a dictionary of point_name:point_coords key,values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns path:</th><td class="field-body"><p class="first">the suggested path which goes through all high symmetry lines.
A list of lists for all path segments. e.g. [(‘G’,’X’),(‘X’,’M’),…]
It’s not necessarily a continuous line.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">We assume that the cell given by the cell property is the primitive unit cell</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">labels</code></dt>
<dd><p>Labels associated with the list of kpoints.
List of tuples with kpoint index and kpoint name: <code class="docutils literal notranslate"><span class="pre">[(0,'G'),(13,'M'),...]</span></code></p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pbc</code></dt>
<dd><p>The periodic boundary conditions along the vectors a1,a2,a3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three booleans, each one tells if there are periodic
boundary conditions for the i-th real-space direction (i=1,2,3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">reciprocal_cell</code></dt>
<dd><p>Return the reciprocal cell in units of 1/Angstrom from the internally set cell</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell</code><span class="sig-paren">(</span><em>cell</em>, <em>pbc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis.
To set a cell from an AiiDA structure, use “set_cell_from_structure”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cell</strong> – 3x3 matrix of cell vectors. Orientation: each row
represent a lattice vector. Units are Angstroms.</li>
<li><strong>pbc</strong> – list of 3 booleans, True if in the nth crystal direction the
structure is periodic. Default = [True,True,True]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell_from_structure</code><span class="sig-paren">(</span><em>structuredata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell_from_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis from an AiiDA structure.
Inherits both the cell and the pbc’s.
To set manually a cell, use “set_cell”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structuredata</strong> – an instance of StructureData</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints</code><span class="sig-paren">(</span><em>kpoints</em>, <em>cartesian=False</em>, <em>labels=None</em>, <em>weights=None</em>, <em>fill_values=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the list of kpoints. If a mesh has already been stored, raise a
ModificationNotAllowed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kpoints</strong> – <p>a list of kpoints, each kpoint being a list of one, two
or three coordinates, depending on self.pbc: if structure is 1D
(only one True in self.pbc) one allows singletons or scalars for
each k-point, if it’s 2D it can be a length-2 list, and in all
cases it can be a length-3 list.
Examples:</p>
<blockquote>
<div><ul>
<li>[[0.,0.,0.],[0.1,0.1,0.1],…] for 1D, 2D or 3D</li>
<li>[[0.,0.],[0.1,0.1,],…] for 1D or 2D</li>
<li>[[0.],[0.1],…] for 1D</li>
<li>[0., 0.1, …] for 1D (list of scalars)</li>
</ul>
</div></blockquote>
<p>For 0D (all pbc are False), the list can be any of the above
or empty - then only Gamma point is set.
The value of k for the non-periodic dimension(s) is set by
fill_values</p>
</li>
<li><strong>cartesian</strong> – if True, the coordinates given in input are treated
as in cartesian units. If False, the coordinates are crystal,
i.e. in units of b1,b2,b3. Default = False</li>
<li><strong>labels</strong> – optional, the list of labels to be set for some of the
kpoints. See labels for more info</li>
<li><strong>weights</strong> – optional, a list of floats with the weight associated
to the kpoint list</li>
<li><strong>fill_values</strong> – scalar to be set to all
non-periodic dimensions (indicated by False in self.pbc), or list of
values for each of the non-periodic dimensions.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh</code><span class="sig-paren">(</span><em>mesh</em>, <em>offset=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set KpointsData to represent a uniformily spaced mesh of kpoints in the
Brillouin zone. This excludes the possibility of set/get kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mesh</strong> – a list of three integers, representing the size of the
kpoint mesh along b1,b2,b3.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
[1.,1.,1.] by periodicity should be equivalent to [0.,0.,0.]
Default = [0.,0.,0.].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh_from_density</code><span class="sig-paren">(</span><em>distance</em>, <em>offset=None</em>, <em>force_parity=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh_from_density"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a kpoints mesh using a kpoints density, expressed as the maximum
distance between adjacent points along a reciprocal axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>distance</strong> – distance (in 1/Angstrom) between adjacent
kpoints, i.e. the number of kpoints along each reciprocal
axis i is <span class="math">|b_i|/distance</span>
where <span class="math">|b_i|</span> is the norm of the reciprocal cell vector.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
Default = [0.,0.,0.].</li>
<li><strong>force_parity</strong> – (optional) if True, force each integer in the mesh
to be even (except for the non-periodic directions).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first">a cell should be defined first.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">the number of kpoints along non-periodic axes is always 1.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_path</code><span class="sig-paren">(</span><em>value=None</em>, <em>kpoint_distance=None</em>, <em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_path"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a path of kpoints in the Brillouin zone.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – <p>description of the path, in various possible formats.</p>
<p>None: automatically sets all irreducible high symmetry paths.
Requires that a cell was set</p>
<p>or</p>
<p>[(‘G’,’M’), (…), …]
[(‘G’,’M’,30), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1)), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1),30), (…), …]</p>
</li>
<li><strong>cartesian</strong> (<em>bool</em>) – if set to true, reads the coordinates eventually
passed in value as cartesian coordinates. Default: False.</li>
<li><strong>kpoint_distance</strong> (<em>float</em>) – parameter controlling the distance between
kpoints. Distance is given in crystal coordinates, i.e. the distance
is computed in the space of b1,b2,b3. The distance set will be the
closest possible to this value, compatible with the requirement of
putting equispaced points between two special points (since extrema
are included).</li>
<li><strong>epsilon_length</strong> (<em>float</em>) – threshold on lengths comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
<li><strong>epsilon_angle</strong> (<em>float</em>) – threshold on angles comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">ProjectionData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A class to handle arrays of projected wavefunction data. That is projections
of a orbitals, usually an atomic-hydrogen orbital, onto a
given bloch wavefunction, the bloch wavefunction being indexed by
s, n, and k. E.g. the elements are the projections described as
&lt; orbital | Bloch wavefunction (s,n,k) &gt;</p>
<dl class="method">
<dt>
<code class="descname">get_pdos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_pdos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, energy array and pdos
array associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_projections</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_projections"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, and projection arrays
associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_reference_bandsdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the reference BandsData, using the set uuid via
set_reference_bandsdata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BandsData instance</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AttributeError</strong> – if the bandsdata has not been set yet</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.NotExistent" title="aiida.common.exceptions.NotExistent"><strong>exceptions.NotExistent</strong></a> – if the bandsdata uuid did not retrieve bandsdata</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_orbitals</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method is inherited from OrbitalData, but is blocked here.
If used will raise a NotImplementedError</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_projectiondata</code><span class="sig-paren">(</span><em>list_of_orbitals</em>, <em>list_of_projections=None</em>, <em>list_of_energy=None</em>, <em>list_of_pdos=None</em>, <em>tags=None</em>, <em>bands_check=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_projectiondata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores the projwfc_array using the projwfc_label, after validating both.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list_of_orbitals</strong> – list of orbitals, of class orbital data.
They should be the ones up on which the
projection array corresponds with.</li>
<li><strong>list_of_projections</strong> – list of arrays of projections of a atomic
wavefunctions onto bloch wavefunctions. Since the
projection is for every bloch wavefunction which
can be specified by its spin (if used), band, and
kpoint the dimensions must be
nspin x nbands x nkpoints for the projwfc array.
Or nbands x nkpoints if spin is not used.</li>
<li><strong>energy_axis</strong> – list of energy axis for the list_of_pdos</li>
<li><strong>list_of_pdos</strong> – a list of projected density of states for the
atomic wavefunctions, units in states/eV</li>
<li><strong>tags</strong> – A list of tags, not supported currently.</li>
<li><strong>bands_check</strong> – if false, skips checks of whether the bands has
been already set, and whether the sizes match. For
use in parsers, where the BandsData has not yet
been stored and therefore get_reference_bandsdata
cannot be called</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_reference_bandsdata</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets a reference bandsdata, creates a uuid link between this data
object and a bandsdata object, must be set before any projection arrays</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – a BandsData instance, a uuid or a pk</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">exceptions.NotExistent if there was no BandsData associated with uuid or pk</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">TrajectoryData</code><span class="sig-paren">(</span><em>structurelist=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores a trajectory (a sequence of crystal structures with timestamps, and
possibly with velocities).</p>
<dl class="method">
<dt>
<code class="descname">get_cells</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cells"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of cells, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cif</code><span class="sig-paren">(</span><em>index=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_cif</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_index_from_stepid</code><span class="sig-paren">(</span><em>stepid</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_index_from_stepid"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a value for the stepid (i.e., a value among those of the <code class="docutils literal notranslate"><span class="pre">steps</span></code>
array), return the array index of that stepid, that can be used in other
methods such as <a class="reference internal" href="../../apidoc/aiida.orm.nodes.html#aiida.orm.nodes.TrajectoryData.get_step_data" title="aiida.orm.nodes.TrajectoryData.get_step_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_data()</span></code></a> or
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.html#aiida.orm.nodes.TrajectoryData.get_step_structure" title="aiida.orm.nodes.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_step_index</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this function returns the first index found
(i.e. if multiple steps are present with the same value,
only the index of the first one is returned).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if no step with the given value is found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_positions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_positions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of positions, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a tuple with all information concerning
the stepid with given index (0 is the first step, 1 the second step
and so on). If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.html#aiida.orm.nodes.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a>  method to get the
corresponding index.</p>
<p>If no velocities were specified, None is returned as the last element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tuple in the format
<code class="docutils literal notranslate"><span class="pre">(stepid,</span> <span class="pre">time,</span> <span class="pre">cell,</span> <span class="pre">symbols,</span> <span class="pre">positions,</span> <span class="pre">velocities)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">stepid</span></code> is an integer, <code class="docutils literal notranslate"><span class="pre">time</span></code> is a float, <code class="docutils literal notranslate"><span class="pre">cell</span></code> is a
<span class="math">3 \times 3</span> matrix, <code class="docutils literal notranslate"><span class="pre">symbols</span></code> is an array of length <code class="docutils literal notranslate"><span class="pre">n</span></code>,
positions is a <span class="math">n \times 3</span> array, and velocities is either
<code class="docutils literal notranslate"><span class="pre">None</span></code> or a <span class="math">n \times 3</span> array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>IndexError</strong> – if you require an index beyond the limits.</li>
<li><strong>KeyError</strong> – if you did not store the trajectory yet.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_structure</code><span class="sig-paren">(</span><em>index</em>, <em>custom_kinds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an AiiDA <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node
(not stored yet!) with the coordinates of the given step, identified by
its index. If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.html#aiida.orm.nodes.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a> method to get the corresponding index.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The periodic boundary conditions are always set to True.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from step_to_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps-</span> <span class="pre">1</span></code>.</li>
<li><strong>custom_kinds</strong> – (Optional) If passed must be a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.Kind" title="aiida.orm.nodes.data.structure.Kind"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.Kind</span></code></a> objects. There must be one
kind object for each different string in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array, with
<code class="docutils literal notranslate"><span class="pre">kind.name</span></code> set to this string.
If this parameter is omitted, the automatic kind generation of AiiDA
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> nodes is used,
meaning that the strings in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array must be valid
chemical symbols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_stepids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_stepids"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of steps, if it has already been set.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_steps</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_structure</code><span class="sig-paren">(</span><em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_aiida_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_times"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of times (in ps), if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_velocities"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of velocities, if it has already been set.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function (differently from all other <code class="docutils literal notranslate"><span class="pre">get_*</span></code>
functions, will not raise an exception if the velocities are not
set, but rather return <code class="docutils literal notranslate"><span class="pre">None</span></code> (both if no trajectory was not set yet,
and if it the trajectory was set but no velocities were specified).</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsites</code></dt>
<dd><p>Return the number of stored sites, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsteps</code></dt>
<dd><p>Return the number of stored steps, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_structurelist</code><span class="sig-paren">(</span><em>structurelist</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_structurelist"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create trajectory from the list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structurelist</strong> – a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if symbol lists of supplied structures are
different</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_trajectory</code><span class="sig-paren">(</span><em>symbols</em>, <em>positions</em>, <em>stepids=None</em>, <em>cells=None</em>, <em>times=None</em>, <em>velocities=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_trajectory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the whole trajectory, after checking that types and dimensions
are correct.</p>
<p>Parameters <code class="docutils literal notranslate"><span class="pre">stepids</span></code>, <code class="docutils literal notranslate"><span class="pre">cells</span></code> and <code class="docutils literal notranslate"><span class="pre">velocities</span></code> are optional
variables. If nothing is passed for <code class="docutils literal notranslate"><span class="pre">cells</span></code> or <code class="docutils literal notranslate"><span class="pre">velocities</span></code>
nothing will be stored. However, if no input is given for <code class="docutils literal notranslate"><span class="pre">stepids</span></code>
a consecutive sequence [0,1,2,…,len(positions)-1] will be assumed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>symbols</strong> – string list with dimension <code class="docutils literal notranslate"><span class="pre">n</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the
number of atoms (i.e., sites) in the structure.
The same list is used for each step. Normally, the string
should be a valid chemical symbol, but actually any unique
string works and can be used as the name of the atomic kind
(see also the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.html#aiida.orm.nodes.TrajectoryData.get_step_structure" title="aiida.orm.nodes.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a> method).</li>
<li><strong>positions</strong> – float array with dimension <span class="math">s \times n \times 3</span>,
where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array and <code class="docutils literal notranslate"><span class="pre">n</span></code> is the length
of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array. Units are angstrom.
In particular,
<code class="docutils literal notranslate"><span class="pre">positions[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component of the
<code class="docutils literal notranslate"><span class="pre">j</span></code>-th atom (or site) in the structure at the time step
with index <code class="docutils literal notranslate"><span class="pre">i</span></code> (identified
by step number <code class="docutils literal notranslate"><span class="pre">step[i]</span></code> and with timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>stepids</strong> – integer array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
number of steps. Typically represents an internal counter
within the code. For instance, if you want to store a
trajectory with one step every 10, starting from step 65,
the array will be <code class="docutils literal notranslate"><span class="pre">[65,75,85,...]</span></code>.
No checks are done on duplicate elements
or on the ordering, but anyway this array should be
sorted in ascending order, without duplicate elements.
(If not specified, stepids will be set to <code class="docutils literal notranslate"><span class="pre">numpy.arange(s)</span></code>
by default) It is internally stored as an array named ‘steps’.</li>
<li><strong>cells</strong> – if specified float array with dimension
<span class="math">s \times 3 \times 3</span>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Units are angstrom.
In particular, <code class="docutils literal notranslate"><span class="pre">cells[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component
of the <code class="docutils literal notranslate"><span class="pre">j</span></code>-th cell vector at the time step with index
<code class="docutils literal notranslate"><span class="pre">i</span></code> (identified by step number <code class="docutils literal notranslate"><span class="pre">stepid[i]</span></code> and with
timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>times</strong> – if specified, float array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where
<code class="docutils literal notranslate"><span class="pre">s</span></code> is the length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Contains the
timestamp of each step in picoseconds (ps).</li>
<li><strong>velocities</strong> – if specified, must be a float array with the same
dimensions of the <code class="docutils literal notranslate"><span class="pre">positions</span></code> array.
The array contains the velocities in the atoms.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Choose suitable units for velocities</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_heatmap</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_heatmap"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Show a heatmap of the trajectory with matplotlib.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_pos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_pos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Shows the positions as a function of time, separate for XYZ coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stepsize</strong> (<em>int</em>) – The stepsize for the trajectory, set higher than 1 to
reduce number of points</li>
<li><strong>mintime</strong> (<em>int</em>) – Time to start from</li>
<li><strong>maxtime</strong> (<em>int</em>) – Maximum time</li>
<li><strong>elements</strong> (<em>list</em>) – A list of atomic symbols that should be displayed.
If not specified, all atoms are displayed.</li>
<li><strong>indices</strong> (<em>list</em>) – A list of indices of that atoms that can be displayed.
If not specified, all atoms of the correct species are displayed.</li>
<li><strong>dont_block</strong> (<em>bool</em>) – If True, interpreter is not blocked when figure is displayed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">symbols</code></dt>
<dd><p>Return the array of symbols, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">XyData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A subclass designed to handle arrays that have an “XY” relationship to
each other. That is there is one array, the X array, and there are several
Y arrays, which can be considered functions of X.</p>
<dl class="method">
<dt>
<code class="descname">get_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the x array and x name raises a NotExistent
exception if no x array has been set yet.
:return x_name: the name set for the x_array
:return x_array: the x array set earlier
:return x_units: the x units set earlier</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the y arrays and the y names, raises a
NotExistent exception if they have not been set yet, or cannot be
retrieved
:return y_names: list of strings naming the y_arrays
:return y_arrays: list of y_arrays
:return y_units: list of strings giving the units for the y_arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_x</code><span class="sig-paren">(</span><em>x_array</em>, <em>x_name</em>, <em>x_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the array and the name for the x values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x_array</strong> – A numpy.ndarray, containing only floats</li>
<li><strong>x_name</strong> – a string for the x array name</li>
<li><strong>x_units</strong> – the units of x</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_y</code><span class="sig-paren">(</span><em>y_arrays</em>, <em>y_names</em>, <em>y_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set array(s) for the y part of the dataset. Also checks if the
x_array has already been set, and that, the shape of the y_arrays
agree with the x_array.
:param y_arrays: A list of y_arrays, numpy.ndarray
:param y_names: A list of strings giving the names of the y_arrays
:param y_units: A list of strings giving the units of the y_arrays</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Bool</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/bool.html#Bool"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a boolean value.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">CifData</code><span class="sig-paren">(</span><em>ase=None</em>, <em>file=None</em>, <em>values=None</em>, <em>source=None</em>, <em>scan_type='standard'</em>, <em>parse_policy='eager'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Wrapper for Crystallographic Interchange File (CIF)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the file (physical) is held as the authoritative source of
information, so all conversions are done through the physical file:
when setting <code class="docutils literal notranslate"><span class="pre">ase</span></code> or <code class="docutils literal notranslate"><span class="pre">values</span></code>, a physical CIF file is generated
first, the values are updated from the physical CIF file.</p>
</div>
<dl class="attribute">
<dt>
<code class="descname">ase</code></dt>
<dd><p>ASE object, representing the CIF.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires ASE module.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">from_md5</code><span class="sig-paren">(</span><em>md5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.from_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all CIF files that match a given MD5 hash.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the hash has to be stored in a <code class="docutils literal notranslate"><span class="pre">_md5</span></code> attribute,
otherwise the CIF file will not be found.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">generate_md5</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.generate_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Computes and returns MD5 hash of the CIF file.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_ase</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns ASE object, representing the CIF. This function differs
from the property <code class="docutils literal notranslate"><span class="pre">ase</span></code> by the possibility to pass the keyworded
arguments (kwargs) to ase.io.cif.read_cif().</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires ASE module.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_formulae</code><span class="sig-paren">(</span><em>mode='sum'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_formulae"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return chemical formulae specified in CIF file.</p>
<p>Note: This does not compute the formula, it only reads it from the
appropriate tag. Use refine_inline to compute formulae.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_or_create</code><span class="sig-paren">(</span><em>filename</em>, <em>use_first=False</em>, <em>store_cif=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass the same parameter of the init; if a file with the same md5
is found, that CifData is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – an absolute filename on disk</li>
<li><strong>use_first</strong> – if False (default), raise an exception if more than                 one CIF file is found.                If it is True, instead, use the first available CIF file.</li>
<li><strong>store_cif</strong> (<em>bool</em>) – If false, the CifData objects are not stored in
the database. default=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return (cif, created):</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">where cif is the CifData object, and create is either            True if the object was created, or False if the object was retrieved            from the DB.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_spacegroup_numbers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_spacegroup_numbers"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the spacegroup international number.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_structure</code><span class="sig-paren">(</span><em>converter='pymatgen'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_aiida_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘pymatgen’.</li>
<li><strong>store</strong> – if True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
<li><strong>primitive_cell</strong> – if True, primitive cell is returned,
conventional cell if False. Default False.</li>
<li><strong>occupancy_tolerance</strong> – If total occupancy of a site is between 1 and occupancy_tolerance,
the occupancies will be scaled down to 1. (pymatgen only)</li>
<li><strong>site_tolerance</strong> – This tolerance is used to determine if two sites are sitting in the same position,
in which case they will be combined to a single disordered site. Defaults to 1e-4. (pymatgen only)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_atomic_sites</code></dt>
<dd><p>Returns whether there are any atomic sites defined in the cif data. That
is to say, it will check all the values for the <cite>_atom_site_fract_*</cite> tags
and if they are all equal to <cite>?</cite> that means there are no relevant atomic
sites defined and the function will return False. In all other cases the
function will return True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">False when at least one atomic site fractional coordinate is not
equal to <cite>?</cite> and True otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_attached_hydrogens</code></dt>
<dd><p>Check if there are hydrogens without coordinates, specified as attached
to the atoms of the structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if there are attached hydrogens, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_partial_occupancies</code></dt>
<dd><p>Return if the cif data contains partial occupancies</p>
<p>A partial occupancy is defined as site with an occupancy that differs from unity, within a precision of 1E-6</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if there are partial occupancies, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_undefined_atomic_sites</code></dt>
<dd><p>Return whether the cif data contains any undefined atomic sites.</p>
<p>An undefined atomic site is defined as a site where at least one of the fractional coordinates specified in the
<cite>_atom_site_fract_*</cite> tags, cannot be successfully interpreted as a float. If the cif data contains any site that
matches this description, or it does not contain any atomic site tags at all, the cif data is said to have
undefined atomic sites.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if no atomic sites are defined or if any of the defined sites contain undefined positions
and False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_unknown_species</code></dt>
<dd><p>Returns whether the cif contains atomic species that are not recognized by AiiDA.</p>
<p>The known species are taken from the elements dictionary in <cite>aiida.common.constants</cite>, with the exception of
the “unknown” placeholder element with symbol ‘X’, as this could not be used to construct a real structure.
If any of the formula of the cif data contain species that are not in that elements dictionary, the function
will return True and False in all other cases. If there is no formulae to be found, it will return None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True when there are unknown species in any of the formulae, False if not, None if no formula found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">parse</code><span class="sig-paren">(</span><em>scan_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.parse"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Parses CIF file and sets attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scan_type</strong> – See set_scan_type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">read_cif</code><span class="sig-paren">(</span><em>fileobj</em>, <em>index=-1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.read_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A wrapper method that simulates the behavior of the old
function ase.io.cif.read_cif by using the new generic ase.io.read
function.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_ase</code><span class="sig-paren">(</span><em>aseatoms</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the contents of the CifData starting from an ASE atoms object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>aseatoms</strong> – the ASE atoms object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the file.</p>
<p>If the source is set and the MD5 checksum of new file
is different from the source, the source has to be deleted.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_parse_policy</code><span class="sig-paren">(</span><em>parse_policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_parse_policy"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the parse policy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parse_policy</strong> – Either ‘eager’ (parse CIF file on set_file)
or ‘lazy’ (defer parsing until needed)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_scan_type</code><span class="sig-paren">(</span><em>scan_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_scan_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the scan_type for PyCifRW.</p>
<p>The ‘flex’ scan_type of PyCifRW is faster for large CIF files but
does not yet support the CIF2 format as of 02/2018.
See the CifFile.ReadCif function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scan_type</strong> – Either ‘standard’ or ‘flex’ (see _scan_types)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_values</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_values"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set internal representation to <cite>values</cite>.</p>
<p>Warning: This also writes a new CIF file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>values</strong> – PyCifRW CifFile object</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires PyCifRW module.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">values</code></dt>
<dd><p>PyCifRW structure, representing the CIF datablocks.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires PyCifRW module.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Code</code><span class="sig-paren">(</span><em>remote_computer_exec=None</em>, <em>local_executable=None</em>, <em>input_plugin_name=None</em>, <em>files=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A code entity.
It can either be ‘local’, or ‘remote’.</p>
<ul class="simple">
<li>Local code: it is a collection of files/dirs (added using the add_path() method), where one     file is flagged as executable (using the set_local_executable() method).</li>
<li>Remote code: it is a pair (remotecomputer, remotepath_of_executable) set using the     set_remote_computer_exec() method.</li>
</ul>
<p>For both codes, one can set some code to be executed right before or right after
the execution of the code, using the set_preexec_code() and set_postexec_code()
methods (e.g., the set_preexec_code() can be used to load specific modules required
for the code to be run).</p>
<dl class="method">
<dt>
<code class="descname">can_run_on</code><span class="sig-paren">(</span><em>computer</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.can_run_on"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return True if this code can run on the given computer, False otherwise.</p>
<p>Local codes can run on any machine; remote codes can run only on the machine
on which they reside.</p>
<p>TODO: add filters to mask the remote machines on which a local code can run.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">full_label</code></dt>
<dd><p>Get full label of this code.</p>
<p>Returns label of the form &lt;code-label&gt;&#64;&lt;computer-name&gt;.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">full_text_info</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.full_text_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a (multiline) string with a human-readable detailed information on this computer</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get</code><span class="sig-paren">(</span><em>pk=None</em>, <em>label=None</em>, <em>machinename=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a Computer object with given identifier string, that can either be
the numeric ID (pk), or the label (and computername) (if unique).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pk</strong> – the numeric ID (pk) for code</li>
<li><strong>label</strong> – the code label identifying the code to load</li>
<li><strong>machinename</strong> – the machine name where code is setup</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.InputValidationError" title="aiida.common.InputValidationError"><strong>aiida.common.InputValidationError</strong></a> – if neither a pk nor a label was passed in</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_append_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_append_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the postexec_code, or an empty string if no post-exec code was defined.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_builder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create and return a new ProcessBuilder for the default Calculation
plugin, as obtained by the self.get_input_plugin_name() method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first">it also sets the <code class="docutils literal notranslate"><span class="pre">builder.code</span></code> value.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.EntryPointError" title="aiida.common.EntryPointError"><strong>aiida.common.EntryPointError</strong></a> – if the specified plugin does not exist.</li>
<li><strong>ValueError</strong> – if no default plugin was specified.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_code_helper</code><span class="sig-paren">(</span><em>label</em>, <em>machinename=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_code_helper"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> – the code label identifying the code to load</li>
<li><strong>machinename</strong> – the machine name where code is setup</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_computer_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_computer_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get name of this code’s computer.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string description of this Code instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string description of this Code instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_execname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_execname"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the executable string to be put in the script.
For local codes, it is ./LOCAL_EXECUTABLE_NAME
For remote codes, it is the absolute path to the executable.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_from_string</code><span class="sig-paren">(</span><em>code_string</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_from_string"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a Computer object with given identifier string in the format
<a class="reference external" href="mailto:label&#37;&#52;&#48;machinename">label<span>&#64;</span>machinename</a>. See the note below for details on the string
detection algorithm.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the (leftmost) ‘&#64;’ symbol is always used to split code
and computername. Therefore do not use
‘&#64;’ in the code name if you want to use this function
(‘&#64;’ in the computer name are instead valid).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code_string</strong> – the code string identifying the code to load</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.InputValidationError" title="aiida.common.InputValidationError"><strong>aiida.common.InputValidationError</strong></a> – if code_string is not of string type</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_full_text_info</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_full_text_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a (multiline) string with a human-readable detailed information on this computer</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_input_plugin_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_input_plugin_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the name of the default input plugin (or None if no input plugin
was set.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_prepend_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_prepend_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the code that will be put in the scheduler script before the
execution, or an empty string if no pre-exec code was defined.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">hidden</code></dt>
<dd><p>Determines whether the Code is hidden or not</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">hide</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.hide"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Hide the code (prevents from showing it in the verdi code list)</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">is_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.is_local"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return True if the code is ‘local’, False if it is ‘remote’ (see also documentation
of the set_local and set_remote functions).</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">list_for_plugin</code><span class="sig-paren">(</span><em>plugin</em>, <em>labels=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.list_for_plugin"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of valid code strings for a given plugin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plugin</strong> – The string of the plugin.</li>
<li><strong>labels</strong> – if True, return a list of code names, otherwise
return the code PKs (integers).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of string, with the code names if labels is True,
otherwise a list of integers with the code PKs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">relabel</code><span class="sig-paren">(</span><em>new_label</em>, <em>raise_error=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.relabel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Relabel this code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>new_label</strong> – new code label</li>
<li><strong>raise_error</strong> – Set to False in order to return a list of errors
instead of raising them.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reveal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.reveal"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reveal the code (allows to show it in the verdi code list)
By default, it is revealed</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_append_text</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_append_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass a string of code that will be put in the scheduler script after the
execution of the code.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_files</code><span class="sig-paren">(</span><em>files</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a list of filenames (or a single filename string),
add it to the path (all at level zero, i.e. without folders).
Therefore, be careful for files with the same name!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body">decide whether to check if the Code must be a local executable
to be able to call this function.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_input_plugin_name</code><span class="sig-paren">(</span><em>input_plugin</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_input_plugin_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the name of the default input plugin, to be used for the automatic
generation of a new calculation.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_local_executable</code><span class="sig-paren">(</span><em>exec_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_local_executable"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the filename of the local executable.
Implicitly set the code as local.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_prepend_text</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_prepend_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass a string of code that will be put in the scheduler script before the
execution of the code.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_remote_computer_exec</code><span class="sig-paren">(</span><em>remote_computer_exec</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_remote_computer_exec"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the code as remote, and pass the computer on which it resides
and the absolute path on that computer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_computer_exec</strong> – a tuple (computer, remote_exec_path), where computer is a aiida.orm.Computer and
remote_exec_path is the absolute path of the main executable on remote computer.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Float</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/float.html#Float"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a float value.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">FolderData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/folder.html#FolderData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a folder on a file system.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Int</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/int.html#Int"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent an integer value.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">List</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a list.</p>
<dl class="method">
<dt>
<code class="descname">append</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.append"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.append(value) – append value to the end of the sequence</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &#x2192; integer -- return number of occurrences of value<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.count"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">extend</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.extend"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.extend(iterable) – extend sequence by appending elements from the iterable</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.get_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the contents of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">index</code><span class="sig-paren">(</span><em>value</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; integer -- return first index of value.<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.index"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
<p>Supporting start and stop arguments is optional, but
recommended.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">insert</code><span class="sig-paren">(</span><em>i</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.insert"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.insert(index, value) – insert value before index</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">pop</code><span class="sig-paren">(</span><span class="optional">[</span><em>index</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; item -- remove and return item at index (default last).<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.pop"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Raise IndexError if list is empty or index is out of range.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">remove</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.remove"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.remove(value) – remove first occurrence of value.
Raise ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.reverse"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_list</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.set_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the contents of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – the list to set</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">OrbitalData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Used for storing collections of orbitals, as well as
providing methods for accessing them internally.</p>
<dl class="method">
<dt>
<code class="descname">clear_orbitals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.clear_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove all orbitals that were added to the class
Cannot work if OrbitalData has been already stored</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_orbitals</code><span class="sig-paren">(</span><em>with_tags=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.get_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns all orbitals by default. If a site is provided, returns
all orbitals cooresponding to the location of that site, additional
arguments may be provided, which act as filters on the retrieved
orbitals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> – if provided, returns all orbitals with position of site</li>
<li><strong>with_tags</strong> – if provided returns all tags stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Kwargs:</th><td class="field-body"><p class="first">attributes than can filter the set of returned orbitals</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return list_of_outputs:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first last">a list of orbitals and also tags if
with_tags was set to True</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_orbitals</code><span class="sig-paren">(</span><em>orbital</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.set_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the orbitals into the database. Uses the orbital’s inherent
set_orbital_dict method to generate a orbital dict string at is stored
along with the tags, if provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>orbital</strong> – an orbital or list of orbitals to be set</li>
<li><strong>tag</strong> – a list of strings must be of length orbital</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Dict</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a dictionary.</p>
<dl class="attribute">
<dt>
<code class="descname">dict</code></dt>
<dd><p>Return an instance of <cite>AttributeManager</cite> that transforms the dictionary into an attribute dict.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this will allow one to do <cite>node.dict.key</cite> as well as <cite>node.dict[key]</cite>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of the <cite>AttributeResultManager</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.get_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a dictionary with the parameters currently set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator of valid keys stored in the Dict object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">iterator over the keys of the current dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.set_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Replace the current dictionary with another one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dictionary</strong> – dictionary to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.update_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update the current dictionary with the keys provided in the dictionary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">works exactly as <cite>dict.update()</cite> where new keys are simply added and existing keys are overwritten.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dictionary</strong> – a dictionary with the keys to substitute</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">RemoteData</code><span class="sig-paren">(</span><em>remote_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a link to a file or folder on a remote machine.</p>
<p>Remember to pass a computer!</p>
<dl class="method">
<dt>
<code class="descname">getfile</code><span class="sig-paren">(</span><em>relpath</em>, <em>destpath</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.getfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and gets a string with the (full) content of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>relpath</strong> – The relative path of the file to show.</li>
<li><strong>destpath</strong> – A path on the local computer to get the file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a string with the file content</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_empty</code></dt>
<dd><p>Check if remote folder is empty</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">listdir</code><span class="sig-paren">(</span><em>relpath='.'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.listdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and lists the directory content.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>relpath</strong> – If ‘relpath’ is specified, lists the content of the given subfolder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a flat list of file/directory names (as strings).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">listdir_withattributes</code><span class="sig-paren">(</span><em>path='.'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.listdir_withattributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and lists the directory content.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>relpath</strong> – If ‘relpath’ is specified, lists the content of the given subfolder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of dictionaries, where the documentation is in :py:class:Transport.listdir_withattributes.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">SinglefileData</code><span class="sig-paren">(</span><em>file</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Data class that can be used to store a single file in its repository.</p>
<dl class="attribute">
<dt>
<code class="descname">filename</code></dt>
<dd><p>Return the name of the file stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the filename under which the file is stored in the repository</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.get_content"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the content of the single file stored for this data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the content of the file as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">open</code><span class="sig-paren">(</span><em>key=None</em>, <em>mode='r'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.open"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an open file handle to the content of this data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – optional key within the repository, by default is the <cite>filename</cite> set in the attributes</li>
<li><strong>mode</strong> – the mode with which to open the file handle (default: read mode)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a file handle</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the content of the file in the node’s repository, deleting any other existing objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> – an absolute filepath or filelike object whose contents to copy
Hint: Pass io.StringIO(“my string”) to construct the file directly from a string.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Str</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/str.html#Str"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a string value.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">StructureData</code><span class="sig-paren">(</span><em>cell=None</em>, <em>pbc=None</em>, <em>ase=None</em>, <em>pymatgen=None</em>, <em>pymatgen_structure=None</em>, <em>pymatgen_molecule=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class contains the information about a given structure, i.e. a
collection of sites together with a cell, the
boundary conditions (whether they are periodic or not) and other
related useful information.</p>
<dl class="method">
<dt>
<code class="descname">append_atom</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_atom"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append an atom to the Structure, taking care of creating the
corresponding kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ase</strong> – the ase Atom object from which we want to create a new atom
(if present, this must be the only parameter)</li>
<li><strong>position</strong> – the position of the atom (three numbers in angstrom)</li>
<li><strong>symbols</strong> – passed to the constructor of the Kind object.</li>
<li><strong>weights</strong> – passed to the constructor of the Kind object.</li>
<li><strong>name</strong> – passed to the constructor of the Kind object. See also the note below.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Note on the ‘name’ parameter (that is, the name of the kind):</p>
<ul class="last simple">
<li>if specified, no checks are done on existing species. Simply,
a new kind with that name is created. If there is a name
clash, a check is done: if the kinds are identical, no error
is issued; otherwise, an error is issued because you are trying
to store two different kinds with the same name.</li>
<li>if not specified, the name is automatically generated. Before
adding the kind, a check is done. If other species with the
same properties already exist, no new kinds are created, but
the site is added to the existing (identical) kind.
(Actually, the first kind that is encountered).
Otherwise, the name is made unique first, by adding to the string
containing the list of chemical symbols a number starting from 1,
until an unique name is found</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">checks of equality of species are done using
the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.Kind.compare_with" title="aiida.orm.nodes.data.structure.Kind.compare_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare_with()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_kind</code><span class="sig-paren">(</span><em>kind</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_kind"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append a kind to the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>.
It makes a copy of the kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kind</strong> – the site to append, must be a Kind object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_site</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_site"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append a site to the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>.
It makes a copy of the site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>site</strong> – the site to append. It must be a Site object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell</code></dt>
<dd><p>Returns the cell shape.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 3x3 list of lists.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell_angles</code></dt>
<dd><p>Get the angles between the cell lattice vectors in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell_lengths</code></dt>
<dd><p>Get the lengths of cell lattice vectors in angstroms.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_kinds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.clear_kinds"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Removes all kinds for the StructureData object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Also clear all sites!</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_sites</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.clear_sites"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Removes all sites for the StructureData object.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_ase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the ASE object.
Requires to be able to import ase.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an ASE object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If any site is an alloy or has vacancies, a ValueError
is raised (from the site.get_ase() routine).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cell_volume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_cell_volume"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the cell volume in Angstrom^3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a float.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cif</code><span class="sig-paren">(</span><em>converter='ase'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_cif</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_composition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_composition"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the chemical composition of this structure as a dictionary,
where each key is the kind symbol (e.g. H, Li, Ba),
and each value is the number of occurences of that element in this
structure. For BaZrO3 it would return {‘Ba’:1, ‘Zr’:1, ‘O’:3}.
No reduction with smallest common divisor!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary with the composition</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a string with infos retrieved from StructureData node’s properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>self</strong> – the StructureData node</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">retsrt: the description string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_dimensionality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_dimensionality"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function checks the dimensionality of the structure and
calculates its length/surface/volume
:return: returns the dimensionality and length/surface/volume</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_formula</code><span class="sig-paren">(</span><em>mode='hill'</em>, <em>separator=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_formula"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string with the chemical formula.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mode</strong> – <p>a string to specify how to generate the formula, can
assume one of the following values:</p>
<ul>
<li>’hill’ (default): count the number of atoms of each species,
then use Hill notation, i.e. alphabetical order with C and H
first if one or several C atom(s) is (are) present, e.g.
<code class="docutils literal notranslate"><span class="pre">['C','H','H','H','O','C','H','H','H']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'C2H6O'</span></code>
<code class="docutils literal notranslate"><span class="pre">['S','O','O','H','O','H','O']</span></code>  will return <code class="docutils literal notranslate"><span class="pre">'H2O4S'</span></code>
From E. A. Hill, J. Am. Chem. Soc., 22 (8), pp 478–494 (1900)</li>
<li>’hill_compact’: same as hill but the number of atoms for each
species is divided by the greatest common divisor of all of them, e.g.
<code class="docutils literal notranslate"><span class="pre">['C','H','H','H','O','C','H','H','H','O','O','O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'CH3O2'</span></code></li>
<li>’reduce’: group repeated symbols e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span>
<span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'BaTiO3BaTiO3BaTi2O3'</span></code></li>
<li>’group’: will try to group as much as possible parts of the formula
e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span>
<span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'(BaTiO3)2BaTi2O3'</span></code></li>
<li>’count’: same as hill (i.e. one just counts the number
of atoms of each species) without the re-ordering (take the
order of the atomic sites), e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O','Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'Ba2Ti2O6'</span></code></li>
<li>’count_compact’: same as count but the number of atoms
for each species is divided by the greatest common divisor of
all of them, e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O','Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'BaTiO3'</span></code></li>
</ul>
</li>
<li><strong>separator</strong> – a string used to concatenate symbols. Default empty.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a string with the formula</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">in modes reduce, group, count and count_compact, the
initial order in which the atoms were appended by the user is
used to group and/or order the symbols in the formula</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kind</code><span class="sig-paren">(</span><em>kind_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_kind"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the kind object associated with the given kind name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kind_name</strong> – String, the name of the kind you want to get</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The Kind object associated with the given kind_name, if
a Kind with the given name is present in the structure.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">ValueError if the kind_name is not present.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kind_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_kind_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of kind names (in the same order of the <code class="docutils literal notranslate"><span class="pre">self.kinds</span></code>
property, but return the names rather than Kind objects)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is NOT necessarily a list of chemical symbols! Use
get_symbols_set for chemical symbols</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of strings.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get pymatgen object. Returns Structure for structures with
periodic boundary conditions (in three dimensions) and Molecule
otherwise.
:param add_spin: True to add the spins to the pymatgen structure.
Default is False (no spin added).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The spins are set according to the following rule:</p>
<ul class="last simple">
<li>if the kind name ends with 1 -&gt; spin=+1</li>
<li>if the kind name ends with 2 -&gt; spin=-1</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen_molecule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen_molecule"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the pymatgen Molecule object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Molecule object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen_structure</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the pymatgen Structure object.
:param add_spin: True to add the spins to the pymatgen structure.
Default is False (no spin added).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The spins are set according to the following rule:</p>
<ul class="last simple">
<li>if the kind name ends with 1 -&gt; spin=+1</li>
<li>if the kind name ends with 2 -&gt; spin=-1</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Structure object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if periodic boundary conditions do not hold
in at least one dimension of real space.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_site_kindnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_site_kindnames"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list with length equal to the number of sites of this structure,
where each element of the list is the kind name of the corresponding site.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is NOT necessarily a list of chemical symbols! Use
<code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">self.get_kind(s.kind_name).get_symbols_string()</span> <span class="pre">for</span> <span class="pre">s</span> <span class="pre">in</span> <span class="pre">self.sites]</span></code>
for chemical symbols</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_symbols_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_symbols_set"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a set containing the names of all elements involved in
this structure (i.e., for it joins the list of symbols for each
kind k in the structure).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a set of strings of element names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_vacancies</code></dt>
<dd><p>Return whether the structure has vacancies in the structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boolean, True if at least one kind has a vacancy</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_alloy</code></dt>
<dd><p>Return whether the structure contains any alloy kinds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boolean, True if at least one kind is an alloy</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">kinds</code></dt>
<dd><p>Returns a list of kinds.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pbc</code></dt>
<dd><p>Get the periodic boundary conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three booleans, each one tells if there are periodic
boundary conditions for the i-th real-space direction (i=1,2,3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_cell</code><span class="sig-paren">(</span><em>new_cell</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.reset_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reset the cell of a structure not yet stored to a new value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_cell</strong> – list specifying the cell vectors</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">ModificationNotAllowed: if object is already stored</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_sites_positions</code><span class="sig-paren">(</span><em>new_positions</em>, <em>conserve_particle=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.reset_sites_positions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Replace all the Site positions attached to the Structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_positions</strong> – list of (3D) positions for every sites.</li>
<li><strong>conserve_particle</strong> – if True, allows the possibility of removing a site.
currently not implemented.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if object is stored already</li>
<li><strong>ValueError</strong> – if positions are invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">it is assumed that the order of the new_positions is
given in the same order of the one it’s substituting, i.e. the
kind of the site will not be checked.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_ase</code><span class="sig-paren">(</span><em>aseatoms</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a ASE object</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen</code><span class="sig-paren">(</span><em>obj</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen_molecule</code><span class="sig-paren">(</span><em>mol</em>, <em>margin=5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen_molecule"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen Molecule object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>margin</strong> – the margin to be added in all directions of the
bounding box of the molecule.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen_structure</code><span class="sig-paren">(</span><em>struct</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen Structure object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">periodic boundary conditions are set to True in all
three directions.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.3.5, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if there are partial occupancies together with spins.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">sites</code></dt>
<dd><p>Returns a list of sites.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">UpfData</code><span class="sig-paren">(</span><em>file=None</em>, <em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Function not yet documented.</p>
<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">from_md5</code><span class="sig-paren">(</span><em>md5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.from_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all UPF pseudopotentials that match a given MD5 hash.</p>
<p>Note that the hash has to be stored in a _md5 attribute, otherwise
the pseudo will not be found.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_or_create</code><span class="sig-paren">(</span><em>filepath</em>, <em>use_first=False</em>, <em>store_upf=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass the same parameter of the init; if a file with the same md5
is found, that UpfData is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filepath</strong> – an absolute filepath on disk</li>
<li><strong>use_first</strong> – if False (default), raise an exception if more than                 one potential is found.                If it is True, instead, use the first available pseudopotential.</li>
<li><strong>store_upf</strong> (<em>bool</em>) – If false, the UpfData objects are not stored in
the database. default=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return (upf, created):</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">where upf is the UpfData object, and create is either            True if the object was created, or False if the object was retrieved            from the DB.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_upf_family_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_family_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the list of all upf family names to which the pseudo belongs.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_upf_group</code><span class="sig-paren">(</span><em>group_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_group"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the UpfFamily group with the given name.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_upf_groups</code><span class="sig-paren">(</span><em>filter_elements=None</em>, <em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_groups"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all names of groups of type UpfFamily, possibly with some filters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter_elements</strong> – A string or a list of strings.
If present, returns only the groups that contains one Upf for
every element present in the list. Default=None, meaning that
all families are returned.</li>
<li><strong>user</strong> – if None (default), return the groups for all users.
If defined, it should be either a DbUser instance, or a string
for the username (that is, the user email).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>I pre-parse the file to store the attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node, reparsing the file so that the md5 and the element
are correctly reset.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">NumericType</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/numeric.html#NumericType"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sub class of Data to store numbers, overloading common operators (<code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, …).</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">CalculationNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calculation.html#CalculationNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes representing the execution of a calculation process.</p>
<dl class="attribute">
<dt>
<code class="descname">inputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage incoming INPUT_CALC links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an incoming INPUT_CALC link.
The incoming nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">outputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage outgoing CREATE links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an outgoing CREATE link.
The outgoing nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">CalcFunctionNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcfunction.html#CalcFunctionNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a calcfunction.</p>
<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcfunction.html#CalcFunctionNode.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>A calcfunction cannot return Data, so if we receive an outgoing link to a stored Data node, that means
the user created a Data node within our function body and stored it themselves or they are returning an input
node. The latter use case is reserved for &#64;workfunctions, as they can have RETURN links.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>target</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">CalcJobNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a CalcJob.</p>
<dl class="method">
<dt>
<code class="descname">delete_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.delete_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete the calculation job state attribute if it exists.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_authinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_authinfo"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the <cite>AuthInfo</cite> that is configured for the <cite>Computer</cite> set for this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>AuthInfo</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder_restart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_builder_restart"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a <cite>ProcessBuilder</cite> that is ready to relaunch the same <cite>CalcJob</cite> that created this node.</p>
<p>The process class will be set based on the <cite>process_type</cite> of this node and the inputs of the builder will be
prepopulated with the inputs registered for this node. This functionality is very useful if a process has
completed and you want to relaunch it with slightly different inputs.</p>
<p>In addition to prepopulating the input nodes, which is implemented by the base <cite>ProcessNode</cite> class, here we
also add the <cite>options</cite> that were passed in the <cite>metadata</cite> input of the <cite>CalcJob</cite> process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>~aiida.engine.processes.builder.ProcessBuilder</cite> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string with a description of the node based on its properties.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_hash</code><span class="sig-paren">(</span><em>ignore_errors=True</em>, <em>ignored_folder_content=('raw_input'</em>, <em>)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_hash"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the hash for this node based on its attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_job_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_job_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return job id that was assigned to the calculation by the scheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the string representation of the scheduler job id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_last_job_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_last_job_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the last information asked to the scheduler about the status of the job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <cite>JobInfo</cite> object (that closely resembles a dictionary) or None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_option</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_option"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retun the value of an option that was set for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – the option name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the option value or None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">ValueError for unknown option</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_options</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the dictionary of options set for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary of the options and their values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_parser_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_parser_class"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the output parser object for this calculation or None if no parser is set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <cite>Parser</cite> class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.EntryPointError" title="aiida.common.exceptions.EntryPointError"><strong>aiida.common.exceptions.EntryPointError</strong></a> – if the parser entry point can not be resolved.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_remote_workdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_remote_workdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the path to the remote (on cluster) scratch folder of the calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string with the remote path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of files/directories to be retrieved on the cluster after the calculation has completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_singlefile_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_singlefile_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of files to be retrieved on the cluster after the calculation has completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of single file retrieval directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_temporary_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_temporary_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return list of files to be retrieved from the cluster which will be available during parsing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieved_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieved_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the retrieved data folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the retrieved FolderData node or None if not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_lastchecktime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_lastchecktime"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the time of the last update of the scheduler state by the daemon or None if it was never set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a datetime object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the status of the calculation according to the cluster scheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a JobState enum instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_stderr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_stderr"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the scheduler stdout output if the calculation has finished and been retrieved, None otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">scheduler stdout output or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_stdout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_stdout"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the scheduler stderr output if the calculation has finished and been retrieved, None otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">scheduler stderr output or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the state of the calculation job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the calculation job state</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_transport</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_transport"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the transport for this calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>Transport</cite> configured with the <cite>AuthInfo</cite> associated to the computer of this node</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">link_label_retrieved</code></dt>
<dd><p>Return the link label used for the retrieved FolderData node.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">res</code></dt>
<dd><p>To be used to get direct access to the parsed parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of the CalcJobResultManager.</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">a practical example on how it is meant to be used: let’s say that there is a key ‘energy’
in the dictionary of the parsed results which contains a list of floats.
The command <cite>calc.res.energy</cite> will return such a list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_job_id</code><span class="sig-paren">(</span><em>job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_job_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the job id that was assigned to the calculation by the scheduler.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the id will always be stored as a string</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>job_id</strong> – the id assigned by the scheduler after submission</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_last_job_info</code><span class="sig-paren">(</span><em>last_job_info</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_last_job_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the last job info.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>last_job_info</strong> – a <cite>JobInfo</cite> object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_option</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_option"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an option to the given value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> – the option name</li>
<li><strong>value</strong> – the value to set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">ValueError for unknown option</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">TypeError for values with invalid type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_options</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the options for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>options</strong> – dictionary of option and their values to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_remote_workdir</code><span class="sig-paren">(</span><em>remote_workdir</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_remote_workdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the absolute path to the working directory on the remote computer where the calculation is run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_workdir</strong> – absolute filepath to the remote working directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_list</code><span class="sig-paren">(</span><em>retrieve_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve list.</p>
<p>This list of directives will instruct the daemon what files to retrieve after the calculation has completed.
list or tuple of files or paths that should be retrieved by the daemon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_list</strong> – list or tuple of with filepath directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_singlefile_list</code><span class="sig-paren">(</span><em>retrieve_singlefile_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_singlefile_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve singlefile list.</p>
<p>The files will be stored as <cite>SinglefileData</cite> instances and added as output nodes to this calculation node.
The format of a single file directive is a tuple or list of length 3 with the following entries:</p>
<blockquote>
<div><ol class="arabic simple">
<li>the link label under which the file should be added</li>
<li>the <cite>SinglefileData</cite> class or sub class to use to store</li>
<li>the filepath relative to the remote working directory of the calculation</li>
</ol>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_singlefile_list</strong> – list or tuple of single file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_temporary_list</code><span class="sig-paren">(</span><em>retrieve_temporary_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_temporary_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve temporary list.</p>
<p>The retrieve temporary list stores files that are retrieved after completion and made available during parsing
and are deleted as soon as the parsing has been completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_temporary_list</strong> – list or tuple of with filepath directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_scheduler_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_scheduler_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the scheduler state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – an instance of <cite>JobState</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the state of the calculation job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – a string with the state from <code class="docutils literal notranslate"><span class="pre">aiida.common.datastructures.CalcJobState</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">ValueError if state is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">tools</code></dt>
<dd><p>Return the calculation tools that are registered for the process type associated with this calculation.</p>
<p>If the entry point name stored in the <cite>process_type</cite> of the CalcJobNode has an accompanying entry point in the
<cite>aiida.tools.calculations</cite> entry point category, it will attempt to load the entry point and instantiate it
passing the node to the constructor. If the entry point does not exist, cannot be resolved or loaded, a warning
will be logged and the base CalculationTools class will be instantiated and returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">CalculationTools instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">ProcessNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes representing the execution of a process</p>
<p>This class and its subclasses serve as proxies in the database, for actual <cite>Process</cite> instances being run. The
<cite>Process</cite> instance in memory will leverage an instance of this class (the exact sub class depends on the sub class
of <cite>Process</cite>) to persist important information of its state to the database. This serves as a way for the user to
inspect the state of the <cite>Process</cite> during its execution as well as a permanent record of its execution in the
provenance graph, after the execution has terminated.</p>
<dl class="attribute">
<dt>
<code class="descname">called</code></dt>
<dd><p>Return a list of nodes that the process called</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of process nodes called by this process</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">called_descendants</code></dt>
<dd><p>Return a list of all nodes that have been called downstream of this process</p>
<p>This will recursively find all the called processes for this process and its children.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">caller</code></dt>
<dd><p>Return the process node that called this process node, or None if it does not have a caller</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">process node that called this process node instance or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">checkpoint</code></dt>
<dd><p>Return the checkpoint bundle set for the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">checkpoint bundle if it exists, None otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.delete_checkpoint"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete the checkpoint bundle set for the process</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">exception</code></dt>
<dd><p>Return the exception of the process or None if the process is not excepted.</p>
<p>If the process is marked as excepted yet there is no exception attribute, an empty string will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the exception message or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">exit_message</code></dt>
<dd><p>Return the exit message of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the exit message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">exit_status</code></dt>
<dd><p>Return the exit status of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the exit status, an integer exit code or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder_restart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.get_builder_restart"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a <cite>ProcessBuilder</cite> that is ready to relaunch the process that created this node.</p>
<p>The process class will be set based on the <cite>process_type</cite> of this node and the inputs of the builder will be
prepopulated with the inputs registered for this node. This functionality is very useful if a process has
completed and you want to relaunch it with slightly different inputs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>~aiida.engine.processes.builder.ProcessBuilder</cite> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_excepted</code></dt>
<dd><p>Return whether the process has excepted</p>
<p>Excepted means that during execution of the process, an exception was raised that was not caught.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if during execution of the process an exception occurred, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_failed</code></dt>
<dd><p>Return whether the process has failed</p>
<p>Failed means that the process terminated nominally but it had a non-zero exit status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has failed, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_finished</code></dt>
<dd><p>Return whether the process has finished</p>
<p>Finished means that the process reached a terminal state nominally.
Note that this does not necessarily mean successfully, but there were no exceptions and it was not killed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has finished, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_finished_ok</code></dt>
<dd><p>Return whether the process has finished successfully</p>
<p>Finished successfully means that it terminated nominally and had a zero exit status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has finished successfully, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_killed</code></dt>
<dd><p>Return whether the process was killed</p>
<p>Killed means the process was killed directly by the user or by the calling process being killed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process was killed, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_terminated</code></dt>
<dd><p>Return whether the process has terminated</p>
<p>Terminated means that the process has reached any terminal state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has terminated, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_valid_cache</code></dt>
<dd><p>Return whether the node is valid for caching</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if this process node is valid to be used for caching, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">logger</code></dt>
<dd><p>Get the logger of the Calculation object, so that it also logs to the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">LoggerAdapter object, that works like a logger, but also has the ‘extra’ embedded</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">pause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.pause"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Mark the process as paused by setting the corresponding attribute.</p>
<p>This serves only to reflect that the corresponding Process is paused and so this method should not be called
by anyone but the Process instance itself.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">paused</code></dt>
<dd><p>Return whether the process is paused</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the Calculation is marked as paused, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_class</code></dt>
<dd><p>Return the process class that was used to create this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>Process</cite> class</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if no process type is defined, it is an invalid process type string or cannot be resolved
to load the corresponding class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_label</code></dt>
<dd><p>Return the process label</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the process label</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_state</code></dt>
<dd><p>Return the process state</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the process state instance of ProcessState enum</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_status</code></dt>
<dd><p>Return the process status</p>
<p>The process status is a generic status message e.g. the reason it might be paused or when it is being killed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the process status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_checkpoint</code><span class="sig-paren">(</span><em>checkpoint</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_checkpoint"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the checkpoint bundle set for the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – string representation of the stepper state info</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_exception</code><span class="sig-paren">(</span><em>exception</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_exception"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the exception of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exception</strong> – the exception message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_exit_message</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_exit_message"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the exit message of the process, if None nothing will be done</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> – a string message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_exit_status</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_exit_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the exit status of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – an integer exit code or None, which will be interpreted as zero</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_label</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_label"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process label</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> – process label string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process state</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – value or instance of ProcessState enum</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_status</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process status</p>
<p>The process status is a generic status message e.g. the reason it might be paused or when it is being killed.
If status is None, the corresponding attribute will be deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> – string process status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_type</code><span class="sig-paren">(</span><em>process_type_string</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process type string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>process_type</strong> – the process type string identifying the class using this process node as storage.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">unpause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.unpause"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Mark the process as unpaused by removing the corresponding attribute.</p>
<p>This serves only to reflect that the corresponding Process is unpaused and so this method should not be called
by anyone but the Process instance itself.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_incoming</code><span class="sig-paren">(</span><em>source</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.validate_incoming"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from a given node to ourself.</p>
<p>Adding an input link to a <cite>ProcessNode</cite> once it is stored is illegal because this should be taken care of
by the engine in one go. If a link is being added after the node is stored, it is most likely not by the engine
and it should not be allowed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> – the node from which the link is coming</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>source</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">WorkflowNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workflow.html#WorkflowNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes representing the execution of a workflow process.</p>
<dl class="attribute">
<dt>
<code class="descname">inputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage incoming INPUT_WORK links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an incoming INPUT_WORK link.
The incoming nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">outputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage outgoing RETURN links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an outgoing RETURN link.
The outgoing nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workflow.html#WorkflowNode.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>A workflow cannot ‘create’ Data, so if we receive an outgoing link to an unstored Data node, that means
the user created a Data node within our function body and tries to attach it as an output. This is strictly
forbidden and can cause provenance to be lost.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>target</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">WorkChainNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workchain.html#WorkChainNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a WorkChain.</p>
<dl class="method">
<dt>
<code class="descname">set_stepper_state_info</code><span class="sig-paren">(</span><em>stepper_state_info</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workchain.html#WorkChainNode.set_stepper_state_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the stepper state info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – string representation of the stepper state info</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">stepper_state_info</code></dt>
<dd><p>Return the stepper state info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string representation of the stepper state info</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">WorkFunctionNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workfunction.html#WorkFunctionNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a workfunction.</p>
<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workfunction.html#WorkFunctionNode.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>A workfunction cannot create Data, so if we receive an outgoing RETURN link to an unstored Data node, that means
the user created a Data node within our function body and is trying to return it. This use case should be
reserved for &#64;calcfunctions, as they can have CREATE links.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>target</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.</code><code class="descname">Node</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes in AiiDA.</p>
<p>Stores attributes starting with an underscore.</p>
<p>Caches files and attributes before the first save, and saves everything
only on store(). After the call to store(), attributes cannot be changed.</p>
<p>Only after storing (or upon loading from uuid) extras can be modified
and in this case they are directly set on the db.</p>
<p>In the plugin, also set the _plugin_type_string, to be set in the DB in
the ‘type’ field.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descname">Collection</code><span class="sig-paren">(</span><em>backend</em>, <em>entity_class</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.Collection"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>The collection of AuthInfo entries.</p>
<dl class="method">
<dt>
<code class="descname">delete</code><span class="sig-paren">(</span><em>node_id</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.Collection.delete"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete a <cite>Node</cite> from the collection with the given id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node_id</strong> – the node id</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt>
<code class="descname">add_comment</code><span class="sig-paren">(</span><em>content</em>, <em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.add_comment"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add a new comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>content</strong> – string with comment</li>
<li><strong>user</strong> – the user to associate with the comment, will use default if not supplied</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the newly created comment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">add_incoming</code><span class="sig-paren">(</span><em>source</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.add_incoming"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add a link of the given type from a given node to ourself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> – the node from which the link is coming</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>source</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_to_attr</code><span class="sig-paren">(</span><em>key</em>, <em>value</em>, <em>clean=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.append_to_attr"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append value to an attribute of the Node (in the DbAttribute table).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – key name of “list-type” attribute
If attribute doesn’t exist, it is created.</li>
<li><strong>value</strong> – the value to append to the list</li>
<li><strong>clean</strong> – whether to clean the value
WARNING: when set to False, storing will throw errors
for any data types not recognized by the db backend</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ValidationError" title="aiida.common.ValidationError"><strong>aiida.common.ValidationError</strong></a> – if the key is not valid, e.g. it contains the separator symbol</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">attributes</code></dt>
<dd><p>Return the attributes dictionary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will fetch all the attributes from the database which can be a heavy operation. If you only need
the keys or some values, use the iterators <cite>attributes_keys</cite> and <cite>attributes_items</cite>, or the getters
<cite>get_attribute</cite> and <cite>get_attributes</cite> instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the attributes as a dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">attributes_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.attributes_items"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an iterator over the attribute items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an iterator with attribute key value pairs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">attributes_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.attributes_keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an iterator over the attribute keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an iterator with attribute keys</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_attributes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.clear_attributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete all attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_extras</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.clear_extras"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete all extras.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_hash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.clear_hash"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the stored hash of the Node to None.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">computer</code></dt>
<dd><p>Return the computer of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the computer or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><cite>Computer</cite> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">ctime</code></dt>
<dd><p>Return the node ctime.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the ctime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_attribute</code><span class="sig-paren">(</span><em>key</em>, <em>stored_check=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.delete_attribute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete an attribute.</p>
<p>Deleting attributes on a stored node is forbidden unless <cite>stored_check</cite> is set to False.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – name of the attribute</li>
<li><strong>stored_check</strong> – boolean, if True skips the check whether the node is stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AttributeError</strong> – if the attribute does not exist</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if the node is stored and <cite>stored_check=False</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_attributes</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.delete_attributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete multiple attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> – names of the attributes to delete</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if at least on of the attribute does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_extra</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.delete_extra"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete an extra.</p>
<p>Deleting extras on unstored nodes is forbidden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – name of the extra</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if the extra does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_extras</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.delete_extras"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete multiple extras.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> – names of the extras to delete</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if at least on of the extra does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_object</code><span class="sig-paren">(</span><em>key</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.delete_object"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete the object from the repository.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the repository belongs to a stored node, a <cite>ModificationNotAllowed</cite> exception will be raised.
This check can be avoided by using the <cite>force</cite> flag, but this should be used with extreme caution!</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – fully qualified identifier for the object within the repository</li>
<li><strong>force</strong> – boolean, if True, will skip the mutability check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if repository is immutable and <cite>force=False</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">description</code></dt>
<dd><p>Return the node description.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">extras</code></dt>
<dd><p>Return the extras dictionary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will fetch all the extras from the database which can be a heavy operation. If you only need
the keys or some values, use the iterators <cite>extras_keys</cite> and <cite>extras_items</cite>, or the getters <cite>get_extra</cite>
and <cite>get_extras</cite> instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the extras as a dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">extras_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.extras_items"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an iterator over the extra items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an iterator with extra key value pairs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">extras_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.extras_keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an iterator over the attribute keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an iterator with attribute keys</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">from_backend_entity</code><span class="sig-paren">(</span><em>backend_entity</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.from_backend_entity"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Construct an entity from a backend entity instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>backend_entity</strong> – the backend entity</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an AiiDA entity instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_all_same_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_all_same_nodes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of stored nodes which match the type and hash of the current node.</p>
<p>All returned nodes are valid caches, meaning their <cite>_aiida_hash</cite> extra matches <cite>self.get_hash()</cite>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_attribute</code><span class="sig-paren">(</span><em>key</em>, <em>default=()</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_attribute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – name of the attribute</li>
<li><strong>default</strong> – return this value instead of raising if the extra does not exist</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the value of the attribute</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>AttributeError</strong> – if the attribute does not exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_attributes</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_attributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a set of attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> – names of the attributes</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the values of the attributes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if at least one attribute does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cache_source</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_cache_source"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the UUID of the node that was used in creating this node from the cache, or None if it was not cached.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">source node UUID or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_comment</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_comment"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a comment corresponding to the given identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>identifier</strong> – the comment pk</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if the comment with the given id does not exist</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the id cannot be uniquely resolved to a comment</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the comment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_comments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_comments"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a sorted list of comments for this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the list of comments, sorted by pk</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string with a description of the node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a description string</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_extra</code><span class="sig-paren">(</span><em>key</em>, <em>default=()</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_extra"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an extra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – name of the extra</li>
<li><strong>default</strong> – return this value instead of raising if the extra does not exist</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the value of the extra</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>AttributeError</strong> – if the extra does not exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_extras</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_extras"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a set of extras.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> – names of the extras</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the values of the extras</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if at least one extra does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_hash</code><span class="sig-paren">(</span><em>ignore_errors=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_hash"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the hash for this node based on its attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_incoming</code><span class="sig-paren">(</span><em>node_class=None</em>, <em>link_type=()</em>, <em>link_label_filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_incoming"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of link triples that are (directly) incoming into this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node_class</strong> – If specified, should be a class or tuple of classes, and it filters only
elements of that specific type (or a subclass of ‘type’)</li>
<li><strong>link_type</strong> – If specified should be a string or tuple to get the inputs of this
link type, if None then returns all inputs of all link types.</li>
<li><strong>link_label_filter</strong> – filters the incoming nodes by its link label.
Here wildcards (% and _) can be passed in link label filter as we are using “like” in QB.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_object</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_object"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the object identified by key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – fully qualified identifier for the object within the repository</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a <cite>File</cite> named tuple representing the object located at key</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_object_content</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_object_content"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the content of a object identified by key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – fully qualified identifier for the object within the repository</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_outgoing</code><span class="sig-paren">(</span><em>node_class=None</em>, <em>link_type=()</em>, <em>link_label_filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of link triples that are (directly) outgoing of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node_class</strong> – If specified, should be a class or tuple of classes, and it filters only
elements of that specific type (or a subclass of ‘type’)</li>
<li><strong>link_type</strong> – If specified should be a string or tuple to get the inputs of this
link type, if None then returns all outputs of all link types.</li>
<li><strong>link_label_filter</strong> – filters the outgoing nodes by its link label.
Here wildcards (% and _) can be passed in link label filter as we are using “like” in QB.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">get_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_schema"><span class="viewcode-link">[source]</span></a></dt>
<dd><dl class="docutils">
<dt>Every node property contains:</dt>
<dd><ul class="first last simple">
<li>display_name: display name of the property</li>
<li>help text: short help text of the property</li>
<li>is_foreign_key: is the property foreign key to other type of the node</li>
<li>type: type of the property. e.g. str, dict, int</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">get schema of the node</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_stored_link_triples</code><span class="sig-paren">(</span><em>node_class=None</em>, <em>link_type=()</em>, <em>link_label_filter=None</em>, <em>link_direction='incoming'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.get_stored_link_triples"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of stored link triples directly incoming to or outgoing of this node.</p>
<p>Note this will only return link triples that are stored in the database. Anything in the cache is ignored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node_class</strong> – If specified, should be a class, and it filters only elements of that (subclass of) type</li>
<li><strong>link_type</strong> – Only get inputs of this link type, if empty tuple then returns all inputs of all link types.</li>
<li><strong>link_label_filter</strong> – filters the incoming nodes by its link label. This should be a regex statement as
one would pass directly to a QuerBuilder filter statement with the ‘like’ operation.</li>
<li><strong>link_direction</strong> – <cite>incoming</cite> or <cite>outgoing</cite> to get the incoming or outgoing links, respectively.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">has_cached_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.has_cached_links"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Feturn whether there are unstored incoming links in the cache.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True when there are links in the incoming cache, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.initialize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Initialize internal variables for the backend node</p>
<p>This needs to be called explicitly in each specific subclass implementation of the init.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_created_from_cache</code></dt>
<dd><p>Return whether this node was created from a cached node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if the node was created by cloning a cached node, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_valid_cache</code></dt>
<dd><p>Hook to exclude certain <cite>Node</cite> instances from being considered a valid cache.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">label</code></dt>
<dd><p>Return the node label.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the label</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">list_object_names</code><span class="sig-paren">(</span><em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.list_object_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of the object names contained in this repository, optionally in the given sub directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – fully qualified identifier for the object within the repository</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of <cite>File</cite> named tuples representing the objects present in directory with the given key</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">list_objects</code><span class="sig-paren">(</span><em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.list_objects"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of the objects contained in this repository, optionally in the given sub directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – fully qualified identifier for the object within the repository</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of <cite>File</cite> named tuples representing the objects present in directory with the given key</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">logger</code></dt>
<dd><p>Return the logger configured for this Node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Logger object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">mtime</code></dt>
<dd><p>Return the node mtime.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the mtime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">node_type</code></dt>
<dd><p>Return the node type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the node type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">open</code><span class="sig-paren">(</span><em>key</em>, <em>mode='r'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.open"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Open a file handle to an object stored under the given key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> – fully qualified identifier for the object within the repository</li>
<li><strong>mode</strong> – the mode under which to open the handle</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_type</code></dt>
<dd><p>Return the node process type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the process type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">public</code></dt>
<dd><p>Return the node public attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the public attribute</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">put_object_from_file</code><span class="sig-paren">(</span><em>path</em>, <em>key</em>, <em>mode='w'</em>, <em>encoding='utf8'</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.put_object_from_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a new object under <cite>key</cite> with contents of the file located at <cite>path</cite> on this file system.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the repository belongs to a stored node, a <cite>ModificationNotAllowed</cite> exception will be raised.
This check can be avoided by using the <cite>force</cite> flag, but this should be used with extreme caution!</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> – absolute path of file whose contents to copy to the repository</li>
<li><strong>key</strong> – fully qualified identifier for the object within the repository</li>
<li><strong>mode</strong> – the file mode with which the object will be written</li>
<li><strong>encoding</strong> – the file encoding with which the object will be written</li>
<li><strong>force</strong> – boolean, if True, will skip the mutability check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if repository is immutable and <cite>force=False</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">put_object_from_filelike</code><span class="sig-paren">(</span><em>handle</em>, <em>key</em>, <em>mode='w'</em>, <em>encoding='utf8'</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.put_object_from_filelike"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a new object under <cite>key</cite> with contents of filelike object <cite>handle</cite>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the repository belongs to a stored node, a <cite>ModificationNotAllowed</cite> exception will be raised.
This check can be avoided by using the <cite>force</cite> flag, but this should be used with extreme caution!</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>handle</strong> – filelike object with the content to be stored</li>
<li><strong>key</strong> – fully qualified identifier for the object within the repository</li>
<li><strong>mode</strong> – the file mode with which the object will be written</li>
<li><strong>encoding</strong> – the file encoding with which the object will be written</li>
<li><strong>force</strong> – boolean, if True, will skip the mutability check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if repository is immutable and <cite>force=False</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">put_object_from_tree</code><span class="sig-paren">(</span><em>path</em>, <em>key=None</em>, <em>contents_only=True</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.put_object_from_tree"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a new object under <cite>key</cite> with the contents of the directory located at <cite>path</cite> on this file system.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the repository belongs to a stored node, a <cite>ModificationNotAllowed</cite> exception will be raised.
This check can be avoided by using the <cite>force</cite> flag, but this should be used with extreme caution!</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> – absolute path of directory whose contents to copy to the repository</li>
<li><strong>key</strong> – fully qualified identifier for the object within the repository</li>
<li><strong>contents_only</strong> – boolean, if True, omit the top level directory of the path and only copy its contents.</li>
<li><strong>force</strong> – boolean, if True, will skip the mutability check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if repository is immutable and <cite>force=False</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">rehash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.rehash"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Regenerate the stored hash of the Node.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">remove_comment</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.remove_comment"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete an existing comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> – the comment pk</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_attributes</code><span class="sig-paren">(</span><em>attributes</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.reset_attributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reset the attributes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will completely reset any existing attributes and replace them with the new dictionary.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>attributes</strong> – the new attributes to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_extras</code><span class="sig-paren">(</span><em>extras</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.reset_extras"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reset the extras.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will completely reset any existing extras and replace them with the new dictionary.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extras</strong> – the new extras to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_attribute</code><span class="sig-paren">(</span><em>key</em>, <em>value</em>, <em>clean=True</em>, <em>stored_check=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.set_attribute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an attribute to the given value.</p>
<p>Setting attributes on a stored node is forbidden unless <cite>stored_check</cite> is set to False.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – name of the attribute</li>
<li><strong>value</strong> – value of the attribute</li>
<li><strong>clean</strong> – boolean, when True will clean the value before passing it to the backend</li>
<li><strong>stored_check</strong> – boolean, if True skips the check whether the node is stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if the node is stored and <cite>stored_check=False</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_attributes</code><span class="sig-paren">(</span><em>attributes</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.set_attributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set attributes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will override any existing attributes that are present in the new dictionary.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>attributes</strong> – the new attributes to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_extra</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.set_extra"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an extra to the given value.</p>
<p>Setting extras on unstored nodes is forbidden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – name of the extra</li>
<li><strong>value</strong> – value of the extra</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if the node is not stored</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_extras</code><span class="sig-paren">(</span><em>extras</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.set_extras"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set extras.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will override any existing extras that are present in the new dictionary.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extras</strong> – the new extras to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><em>with_transaction=True</em>, <em>use_cache=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node in the database while saving its attributes and repository directory.</p>
<p>After being called attributes cannot be changed anymore! Instead, extras can be changed only AFTER calling
this store() function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">After successful storage, those links that are in the cache, and for which also the parent node is
already stored, will be automatically stored. The others will remain unstored.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>with_transaction</strong> – if False, do not use a transaction because the caller will already have opened one.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store_all</code><span class="sig-paren">(</span><em>with_transaction=True</em>, <em>use_cache=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.store_all"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node, together with all input links.</p>
<p>Unstored nodes from cached incoming linkswill also be stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>with_transaction</strong> – if False, do not use a transaction because the caller will already have opened one.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_comment</code><span class="sig-paren">(</span><em>identifier</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.update_comment"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update the content of an existing comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>identifier</strong> – the comment pk</li>
<li><strong>content</strong> – the new comment content</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if the comment with the given id does not exist</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the id cannot be uniquely resolved to a comment</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">user</code></dt>
<dd><p>Return the user of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><cite>User</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">uuid</code></dt>
<dd><p>Return the node UUID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the string representation of the UUID</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_incoming</code><span class="sig-paren">(</span><em>source</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.validate_incoming"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from a given node to ourself.</p>
<p>This function will first validate the types of the inputs, followed by the node and link types and validate
whether in principle a link of that type between the nodes of these types is allowed.the</p>
<p>Subsequently, the validity of the “degree” of the proposed link is validated, which means validating the
number of links of the given type from the given node type is allowed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> – the node from which the link is coming</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>source</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>The validity of the triple (source, link, target) should be validated in the <cite>validate_incoming</cite> call.
This method will be called afterwards and can be overriden by subclasses to add additional checks that are
specific to that subclass.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>target</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">verify_are_parents_stored</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node.verify_are_parents_stored"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Verify that all <cite>parent</cite> nodes are already stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if one of the source nodes of incoming links is not stored.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">version</code></dt>
<dd><p>Return the node version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the version</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.node.</code><code class="descname">Node</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/node.html#Node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes in AiiDA.</p>
<p>Stores attributes starting with an underscore.</p>
<p>Caches files and attributes before the first save, and saves everything
only on store(). After the call to store(), attributes cannot be changed.</p>
<p>Only after storing (or upon loading from uuid) extras can be modified
and in this case they are directly set on the db.</p>
<p>In the plugin, also set the _plugin_type_string, to be set in the DB in
the ‘type’ field.</p>
</dd></dl>

</div>
<div class="section" id="code">
<h2>Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.code.</code><code class="descname">Code</code><span class="sig-paren">(</span><em>remote_computer_exec=None</em>, <em>local_executable=None</em>, <em>input_plugin_name=None</em>, <em>files=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A code entity.
It can either be ‘local’, or ‘remote’.</p>
<ul class="simple">
<li>Local code: it is a collection of files/dirs (added using the add_path() method), where one     file is flagged as executable (using the set_local_executable() method).</li>
<li>Remote code: it is a pair (remotecomputer, remotepath_of_executable) set using the     set_remote_computer_exec() method.</li>
</ul>
<p>For both codes, one can set some code to be executed right before or right after
the execution of the code, using the set_preexec_code() and set_postexec_code()
methods (e.g., the set_preexec_code() can be used to load specific modules required
for the code to be run).</p>
<dl class="method">
<dt>
<code class="descname">__init__</code><span class="sig-paren">(</span><em>remote_computer_exec=None</em>, <em>local_executable=None</em>, <em>input_plugin_name=None</em>, <em>files=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>backend_entity</strong> (<a class="reference internal" href="../../apidoc/aiida.orm.implementation.html#aiida.orm.implementation.BackendEntity" title="aiida.orm.implementation.BackendEntity"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.implementation.BackendEntity</span></code></a>) – the backend model supporting this entity</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">can_run_on</code><span class="sig-paren">(</span><em>computer</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.can_run_on"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return True if this code can run on the given computer, False otherwise.</p>
<p>Local codes can run on any machine; remote codes can run only on the machine
on which they reside.</p>
<p>TODO: add filters to mask the remote machines on which a local code can run.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">full_label</code></dt>
<dd><p>Get full label of this code.</p>
<p>Returns label of the form &lt;code-label&gt;&#64;&lt;computer-name&gt;.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">full_text_info</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.full_text_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a (multiline) string with a human-readable detailed information on this computer</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get</code><span class="sig-paren">(</span><em>pk=None</em>, <em>label=None</em>, <em>machinename=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a Computer object with given identifier string, that can either be
the numeric ID (pk), or the label (and computername) (if unique).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pk</strong> – the numeric ID (pk) for code</li>
<li><strong>label</strong> – the code label identifying the code to load</li>
<li><strong>machinename</strong> – the machine name where code is setup</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.InputValidationError" title="aiida.common.InputValidationError"><strong>aiida.common.InputValidationError</strong></a> – if neither a pk nor a label was passed in</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_append_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_append_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the postexec_code, or an empty string if no post-exec code was defined.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_builder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create and return a new ProcessBuilder for the default Calculation
plugin, as obtained by the self.get_input_plugin_name() method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first">it also sets the <code class="docutils literal notranslate"><span class="pre">builder.code</span></code> value.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.EntryPointError" title="aiida.common.EntryPointError"><strong>aiida.common.EntryPointError</strong></a> – if the specified plugin does not exist.</li>
<li><strong>ValueError</strong> – if no default plugin was specified.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_code_helper</code><span class="sig-paren">(</span><em>label</em>, <em>machinename=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_code_helper"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> – the code label identifying the code to load</li>
<li><strong>machinename</strong> – the machine name where code is setup</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_computer_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_computer_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get name of this code’s computer.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string description of this Code instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string description of this Code instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_execname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_execname"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the executable string to be put in the script.
For local codes, it is ./LOCAL_EXECUTABLE_NAME
For remote codes, it is the absolute path to the executable.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_from_string</code><span class="sig-paren">(</span><em>code_string</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_from_string"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a Computer object with given identifier string in the format
<a class="reference external" href="mailto:label&#37;&#52;&#48;machinename">label<span>&#64;</span>machinename</a>. See the note below for details on the string
detection algorithm.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the (leftmost) ‘&#64;’ symbol is always used to split code
and computername. Therefore do not use
‘&#64;’ in the code name if you want to use this function
(‘&#64;’ in the computer name are instead valid).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code_string</strong> – the code string identifying the code to load</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.InputValidationError" title="aiida.common.InputValidationError"><strong>aiida.common.InputValidationError</strong></a> – if code_string is not of string type</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_full_text_info</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_full_text_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a (multiline) string with a human-readable detailed information on this computer</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_input_plugin_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_input_plugin_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the name of the default input plugin (or None if no input plugin
was set.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_prepend_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_prepend_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the code that will be put in the scheduler script before the
execution, or an empty string if no pre-exec code was defined.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">hidden</code></dt>
<dd><p>Determines whether the Code is hidden or not</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">hide</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.hide"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Hide the code (prevents from showing it in the verdi code list)</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">is_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.is_local"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return True if the code is ‘local’, False if it is ‘remote’ (see also documentation
of the set_local and set_remote functions).</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">list_for_plugin</code><span class="sig-paren">(</span><em>plugin</em>, <em>labels=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.list_for_plugin"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of valid code strings for a given plugin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plugin</strong> – The string of the plugin.</li>
<li><strong>labels</strong> – if True, return a list of code names, otherwise
return the code PKs (integers).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of string, with the code names if labels is True,
otherwise a list of integers with the code PKs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">relabel</code><span class="sig-paren">(</span><em>new_label</em>, <em>raise_error=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.relabel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Relabel this code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>new_label</strong> – new code label</li>
<li><strong>raise_error</strong> – Set to False in order to return a list of errors
instead of raising them.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reveal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.reveal"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reveal the code (allows to show it in the verdi code list)
By default, it is revealed</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_append_text</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_append_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass a string of code that will be put in the scheduler script after the
execution of the code.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_files</code><span class="sig-paren">(</span><em>files</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a list of filenames (or a single filename string),
add it to the path (all at level zero, i.e. without folders).
Therefore, be careful for files with the same name!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body">decide whether to check if the Code must be a local executable
to be able to call this function.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_input_plugin_name</code><span class="sig-paren">(</span><em>input_plugin</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_input_plugin_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the name of the default input plugin, to be used for the automatic
generation of a new calculation.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_local_executable</code><span class="sig-paren">(</span><em>exec_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_local_executable"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the filename of the local executable.
Implicitly set the code as local.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_prepend_text</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_prepend_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass a string of code that will be put in the scheduler script before the
execution of the code.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_remote_computer_exec</code><span class="sig-paren">(</span><em>remote_computer_exec</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_remote_computer_exec"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the code as remote, and pass the computer on which it resides
and the absolute path on that computer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_computer_exec</strong> – a tuple (computer, remote_exec_path), where computer is a aiida.orm.Computer and
remote_exec_path is the absolute path of the main executable on remote computer.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mixins">
<h2>Mixins<a class="headerlink" href="#mixins" title="Permalink to this headline">¶</a></h2>
<p>Mixin classes for ORM classes.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.utils.mixins.</code><code class="descname">FunctionCalculationMixin</code><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#FunctionCalculationMixin"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This mixin should be used for ProcessNode subclasses that are used to record the execution
of a python function. For example the process nodes that are used for a function that
was wrapped by the <cite>workfunction</cite> or <cite>calcfunction</cite> function decorators. The <cite>store_source_info</cite>
method can then be called with the wrapped function to store information about that function
in the calculation node through the inspect module. Various property getters are defined to
later retrieve that information from the node</p>
<dl class="attribute">
<dt>
<code class="descname">function_name</code></dt>
<dd><p>Return the function name of the wrapped function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the function name or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">function_namespace</code></dt>
<dd><p>Return the function namespace of the wrapped function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the function namespace or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">function_starting_line_number</code></dt>
<dd><p>Return the starting line number of the wrapped function in its source file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the starting line number or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_function_source_code</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#FunctionCalculationMixin.get_function_source_code"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the absolute path to the source file in the repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the absolute path of the source file in the repository, or None if it does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store_source_info</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#FunctionCalculationMixin.store_source_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieve source information about the wrapped function <cite>func</cite> through the inspect module,
and store it in the attributes and repository of the node. The function name, namespace
and the starting line number in the source file will be stored in the attributes. The
source file itself will be copied into the repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> – the function to inspect and whose information to store in the node</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.utils.mixins.</code><code class="descname">Sealable</code><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#Sealable"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Mixin to mark a Node as <cite>sealable</cite>.</p>
<dl class="method">
<dt>
<code class="descname">delete_attribute</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#Sealable.delete_attribute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete an attribute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>key</strong> – attribute name</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AttributeError</strong> – if key does not exist</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if the node is already sealed or if the node is already stored
and the attribute is not updatable</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_sealed</code></dt>
<dd><p>Returns whether the node is sealed, i.e. whether the sealed attribute has been set to True</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">seal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#Sealable.seal"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Seal the node by setting the sealed attribute to True</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_attribute</code><span class="sig-paren">(</span><em>key</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#Sealable.set_attribute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a new attribute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – attribute name</li>
<li><strong>value</strong> – attribute value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if the node is already sealed or if the node is already stored
and the attribute is not updatable</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_incoming</code><span class="sig-paren">(</span><em>source</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#Sealable.validate_incoming"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from a given node to ourself.</p>
<p>Adding an incoming link to a sealed node is forbidden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> – the node from which the link is coming</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if the target node (self) is sealed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#Sealable.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>Adding an outgoing link from a sealed node is forbidden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if the source node (self) is sealed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.utils.mixins.</code><code class="descname">Sealable</code><a class="reference internal" href="../../_modules/aiida/orm/utils/mixins.html#Sealable"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Mixin to mark a Node as <cite>sealable</cite>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="orm-documentation-data">
<h1>ORM documentation: Data<a class="headerlink" href="#orm-documentation-data" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This list only includes the classes included in AiiDA-core. For all the plugin subclasses,
check the corresponding plugin repositories.</p>
</div>
<p>Module with <cite>Node</cite> sub classes for data structures.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">Data</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class is base class for all data objects.</p>
<p>Specifications of the Data class:
AiiDA Data objects are subclasses of Node and should have</p>
<p>Multiple inheritance must be supported, i.e. Data should have methods for
querying and be able to inherit other library objects such as ASE for
structures.</p>
<p>Architecture note:
The code plugin is responsible for converting a raw data object produced by
code to AiiDA standard object format. The data object then validates itself
according to its method. This is done independently in order to allow
cross-validation of plugins.</p>
<dl class="method">
<dt>
<code class="descname">_exportcontent</code><span class="sig-paren">(</span><em>fileformat</em>, <em>main_file_name=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data._exportcontent"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts a Data node to one (or multiple) files.</p>
<p>Note: Export plugins should return utf8-encoded <strong>bytes</strong>, which can be
directly dumped to file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fileformat</strong> (<em>str</em>) – the extension, uniquely specifying the file format.</li>
<li><strong>main_file_name</strong> (<em>str</em>) – (empty by default) Can be used by plugin to
infer sensible names for additional files, if necessary.  E.g. if the
main file is ‘../myplot.gnu’, the plugin may decide to store the dat
file under ‘../myplot_data.dat’.</li>
<li><strong>kwargs</strong> – other parameters are passed down to the plugin</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple of length 2. The first element is the content of the
otuput file. The second is a dictionary (possibly empty) in the format
{filename: filecontent} for any additional file that should be produced.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(bytes, dict)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_converters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data._get_converters"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get all implemented converter formats.
The convention is to find all _get_object_… methods.
Returns a list of strings.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_exporters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data._get_exporters"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get all implemented export formats.
The convention is to find all _prepare_… methods.
Returns a dictionary of method_name: method_function</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_importers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data._get_importers"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get all implemented import formats.
The convention is to find all _parse_… methods.
Returns a list of strings.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Perform validation of the Data object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">validation of data source checks license and requires
attribution to be provided in field ‘description’ of source in
the case of any CC-BY* license. If such requirement is too
strict, one can remove/comment it out.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.clone"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a clone of the Data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an unstored clone of this Data node</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">convert</code><span class="sig-paren">(</span><em>object_format=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.convert"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert the AiiDA StructureData into another python object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>object_format</strong> – Specify the output format</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">creator</code></dt>
<dd><p>Return the creator of this node or None if it does not exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the creating node or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">export</code><span class="sig-paren">(</span><em>path</em>, <em>fileformat=None</em>, <em>overwrite=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.export"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Save a Data object to a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> – string with file name. Can be an absolute or relative path.</li>
<li><strong>fileformat</strong> – kind of format to use for the export. If not present,
it will try to use the extension of the file name.</li>
<li><strong>overwrite</strong> – if set to True, overwrites file found at path. Default=False</li>
<li><strong>kwargs</strong> – additional parameters to be passed to the
_exportcontent method</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the list of files created</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_export_formats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.get_export_formats"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the list of valid export format strings</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of valid formats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">importfile</code><span class="sig-paren">(</span><em>fname</em>, <em>fileformat=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.importfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Populate a Data object from a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fname</strong> – string with file name. Can be an absolute or relative path.</li>
<li><strong>fileformat</strong> – kind of format to use for the export. If not present,
it will try to use the extension of the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">importstring</code><span class="sig-paren">(</span><em>inputstring</em>, <em>fileformat</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.importstring"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts a Data object to other text format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fileformat</strong> – a string (the extension) to describe the file format.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a string with the structure description.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_source</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/data.html#Data.set_source"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the dictionary describing the source of Data object.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">source</code></dt>
<dd><p>Gets the dictionary describing the source of Data object. Possible fields:</p>
<ul class="simple">
<li><strong>db_name</strong>: name of the source database.</li>
<li><strong>db_uri</strong>: URI of the source database.</li>
<li><strong>uri</strong>: URI of the object’s source. Should be a permanent link.</li>
<li><strong>id</strong>: object’s source identifier in the source database.</li>
<li><strong>version</strong>: version of the object’s source.</li>
<li><strong>extras</strong>: a dictionary with other fields for source description.</li>
<li><strong>source_md5</strong>: MD5 checksum of object’s source.</li>
<li><strong>description</strong>: human-readable free form description of the object’s source.</li>
<li><strong>license</strong>: a string with a type of license.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">some limitations for setting the data source exist, see <code class="docutils literal notranslate"><span class="pre">_validate</span></code> method.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary describing the source of Data object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">BaseType</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/base.html#BaseType"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to be used as a base for data containers that represent base python data types.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">ArrayData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a set of arrays on disk (rather than on the database) in an efficient
way using numpy.save() (therefore, this class requires numpy to be
installed).</p>
<p>Each array is stored within the Node folder as a different .npy file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">Before storing, no caching is done: if you perform a
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.ArrayData.get_array" title="aiida.orm.nodes.data.ArrayData.get_array"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_array()</span></code></a> call, the array will be re-read from disk.
If instead the ArrayData node has already been stored,
the array is cached in memory after the first read, and the cached array
is used thereafter.
If too much RAM memory is used, you can clear the
cache with the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.ArrayData.clear_internal_cache" title="aiida.orm.nodes.data.ArrayData.clear_internal_cache"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_internal_cache()</span></code></a> method.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">_arraynames_from_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData._arraynames_from_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all arrays stored in the node, listing the files (and
not relying on the properties).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_arraynames_from_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData._arraynames_from_properties"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all arrays stored in the node, listing the attributes
starting with the correct prefix.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Check if the list of .npy files stored inside the node and the
list of properties match. Just a name check, no check on the size
since this would require to reload all arrays and this may take time
and memory.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_internal_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.clear_internal_cache"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Clear the internal memory cache where the arrays are stored after being
read from disk (used in order to reduce at minimum the readings from
disk).
This function is useful if you want to keep the node in memory, but you
do not want to waste memory to cache the arrays in RAM.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_array</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.delete_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete an array from the node. Can only be called before storing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array to delete from the node.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_array</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an array stored in the node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array to return.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_arraynames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_arraynames"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all arrays stored in the node, listing the files (and
not relying on the properties).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from arraynames</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_iterarrays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_iterarrays"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator that returns tuples (name, array) for each array stored in the
node.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from iterarrays</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_shape</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_shape"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the shape of an array (read from the value cached in the
properties for efficiency reasons).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.initialize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Initialize internal variables for the backend node</p>
<p>This needs to be called explicitly in each specific subclass implementation of the init.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">iterarrays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.iterarrays"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator that returns tuples (name, array) for each array stored in the
node.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_array</code><span class="sig-paren">(</span><em>name</em>, <em>array</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.set_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a new numpy array inside the node. Possibly overwrite the array
if it already existed.</p>
<p>Internally, it stores a name.npy file in numpy format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – The name of the array.</li>
<li><strong>array</strong> – The numpy array to store.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">BandsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle bands data</p>
<dl class="method">
<dt>
<code class="descname">_get_bandplot_data</code><span class="sig-paren">(</span><em>cartesian</em>, <em>prettify_format=None</em>, <em>join_symbol=None</em>, <em>get_segments=False</em>, <em>y_origin=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._get_bandplot_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get data to plot a band structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cartesian</strong> – if True, distances (for the x-axis) are computed in
cartesian coordinates, otherwise they are computed in reciprocal
coordinates. cartesian=True will fail if no cell has been set.</li>
<li><strong>prettify_format</strong> – by default, strings are not prettified. If you want
to prettify them, pass a valid prettify_format string (see valid options
in the docstring of :py:func:prettify_labels).</li>
<li><strong>join_symbols</strong> – by default, strings are not joined. If you pass a string,
this is used to join strings that are much closer than a given threshold.
The most typical string is the pipe symbol: <code class="docutils literal notranslate"><span class="pre">|</span></code>.</li>
<li><strong>get_segments</strong> – if True, also computes the band split into segments</li>
<li><strong>y_origin</strong> – if present, shift bands so to set the value specified at <code class="docutils literal notranslate"><span class="pre">y=0</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a plot_info dictiorary, whose keys are <code class="docutils literal notranslate"><span class="pre">x</span></code> (array of distances
for the x axis of the plot); <code class="docutils literal notranslate"><span class="pre">y</span></code> (array of bands), <code class="docutils literal notranslate"><span class="pre">labels</span></code> (list
of tuples in the format (float x value of the label, label string),
<code class="docutils literal notranslate"><span class="pre">band_type_idx</span></code> (array containing an index for each band: if there is only
one spin, then it’s an array of zeros, of length equal to the number of bands
at each point; if there are two spins, then it’s an array of zeros or ones
depending on the type of spin; the length is always equalt to the total
number of bands per kpoint).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_matplotlib_get_dict</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>comments=True</em>, <em>title=''</em>, <em>legend=None</em>, <em>legend2=None</em>, <em>y_max_lim=None</em>, <em>y_min_lim=None</em>, <em>y_origin=0.0</em>, <em>prettify_format=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._matplotlib_get_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare the data to send to the python-matplotlib plotting script.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>comments</strong> – if True, print comments (if it makes sense for the given
format)</li>
<li><strong>plot_info</strong> – a dictionary</li>
<li><strong>setnumber_offset</strong> – an offset to be applied to all set numbers
(i.e. s0 is replaced by s[offset], s1 by s[offset+1], etc.)</li>
<li><strong>color_number</strong> – the color number for lines, symbols, error bars
and filling (should be less than the parameter max_num_agr_colors
defined below)</li>
<li><strong>title</strong> – the title</li>
<li><strong>legend</strong> – the legend (applied only to the first of the set)</li>
<li><strong>legend2</strong> – the legend for second-type spins 
(applied only to the first of the set)</li>
<li><strong>y_max_lim</strong> – the maximum on the y axis (if None, put the
maximum of the bands)</li>
<li><strong>y_min_lim</strong> – the minimum on the y axis (if None, put the
minimum of the bands)</li>
<li><strong>y_origin</strong> – the new origin of the y axis -&gt; all bands are replaced
by bands-y_origin</li>
<li><strong>prettify_format</strong> – if None, use the default prettify format. Otherwise
specify a string with the prettifier to use.</li>
<li><strong>kwargs</strong> – additional customization variables; only a subset is
accepted, see internal variable ‘valid_additional_keywords</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_agr</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>comments=True</em>, <em>setnumber_offset=0</em>, <em>color_number=1</em>, <em>color_number2=2</em>, <em>legend=''</em>, <em>title=''</em>, <em>y_max_lim=None</em>, <em>y_min_lim=None</em>, <em>y_origin=0.0</em>, <em>prettify_format=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_agr"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare an xmgrace agr file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>comments</strong> – if True, print comments 
(if it makes sense for the given format)</li>
<li><strong>plot_info</strong> – a dictionary</li>
<li><strong>setnumber_offset</strong> – an offset to be applied to all set numbers
(i.e. s0 is replaced by s[offset], s1 by s[offset+1], etc.)</li>
<li><strong>color_number</strong> – the color number for lines, symbols, error bars
and filling (should be less than the parameter max_num_agr_colors
defined below)</li>
<li><strong>color_number2</strong> – the color number for lines, symbols, error bars
and filling for the second-type spins (should be less than the
parameter max_num_agr_colors defined below)</li>
<li><strong>legend</strong> – the legend (applied only to the first set)</li>
<li><strong>title</strong> – the title</li>
<li><strong>y_max_lim</strong> – the maximum on the y axis (if None, put the
maximum of the bands); applied <em>after</em> shifting the origin
by <code class="docutils literal notranslate"><span class="pre">y_origin</span></code></li>
<li><strong>y_min_lim</strong> – the minimum on the y axis (if None, put the
minimum of the bands); applied <em>after</em> shifting the origin
by <code class="docutils literal notranslate"><span class="pre">y_origin</span></code></li>
<li><strong>y_origin</strong> – the new origin of the y axis -&gt; all bands are replaced
by bands-y_origin</li>
<li><strong>prettify_format</strong> – if None, use the default prettify format. Otherwise
specify a string with the prettifier to use.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_agr_batch</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>comments=True</em>, <em>prettify_format=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_agr_batch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare two files, data and batch, to be plot with xmgrace as:
xmgrace -batch file.dat</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>main_file_name</strong> – if the user asks to write the main content on a
file, this contains the filename. This should be used to infer a
good filename for the additional files.
In this case, we remove the extension, and add ‘_data.dat’</li>
<li><strong>comments</strong> – if True, print comments (if it makes sense for the given
format)</li>
<li><strong>prettify_format</strong> – if None, use the default prettify format. Otherwise
specify a string with the prettifier to use.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_dat_1</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_dat_1"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Output data in .dat format, using multiple columns for all y values
associated to the same x.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.8.1: </span>Use ‘dat_multicolumn’ format instead</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_dat_2</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_dat_2"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Output data in .dat format, using blocks.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.8.1: </span>Use ‘dat_block’ format instead</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_dat_blocks</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>comments=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_dat_blocks"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Format suitable for gnuplot using blocks.
Columns with x and y (path and band energy). Several blocks, separated
by two empty lines, one per energy band.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>comments</strong> – if True, print comments (if it makes sense for the given
format)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_dat_multicolumn</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>comments=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_dat_multicolumn"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write an N x M matrix. First column is the distance between kpoints,
The other columns are the bands. Header contains number of kpoints and
the number of bands (commented).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>comments</strong> – if True, print comments (if it makes sense for the given
format)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_gnuplot</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>title=''</em>, <em>comments=True</em>, <em>prettify_format=None</em>, <em>y_max_lim=None</em>, <em>y_min_lim=None</em>, <em>y_origin=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_gnuplot"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare an gnuplot script to plot the bands, with the .dat file
returned as an independent file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>main_file_name</strong> – if the user asks to write the main content on a
file, this contains the filename. This should be used to infer a
good filename for the additional files.
In this case, we remove the extension, and add ‘_data.dat’</li>
<li><strong>title</strong> – if specified, add a title to the plot</li>
<li><strong>comments</strong> – if True, print comments (if it makes sense for the given
format)</li>
<li><strong>prettify_format</strong> – if None, use the default prettify format. Otherwise
specify a string with the prettifier to use.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_json</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>comments=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_json"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare a json file in a format compatible with the AiiDA band visualizer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>comments</strong> – if True, print comments (if it makes sense for the given
format)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_mpl_pdf</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_mpl_pdf"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare a python script using matplotlib to plot the bands, with the JSON
returned as an independent file.</p>
<p>For the possible parameters, see documentation of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict" title="aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_matplotlib_get_dict()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_mpl_png</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_mpl_png"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare a python script using matplotlib to plot the bands, with the JSON
returned as an independent file.</p>
<p>For the possible parameters, see documentation of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict" title="aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_matplotlib_get_dict()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_mpl_singlefile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_mpl_singlefile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare a python script using matplotlib to plot the bands</p>
<p>For the possible parameters, see documentation of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict" title="aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_matplotlib_get_dict()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_mpl_withjson</code><span class="sig-paren">(</span><em>main_file_name=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._prepare_mpl_withjson"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepare a python script using matplotlib to plot the bands, with the JSON
returned as an independent file.</p>
<p>For the possible parameters, see documentation of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict" title="aiida.orm.nodes.data.array.bands.BandsData._matplotlib_get_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_matplotlib_get_dict()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_pbc</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._set_pbc"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>validate the pbc, then store them</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate_bands_occupations</code><span class="sig-paren">(</span><em>bands</em>, <em>occupations=None</em>, <em>labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData._validate_bands_occupations"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate the list of bands and of occupations before storage.
Kpoints must be set in advance.
Bands and occupations must be convertible into arrays of
Nkpoints x Nbands floats or Nspins x Nkpoints x Nbands; Nkpoints must
correspond to the number of kpoints.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">array_labels</code></dt>
<dd><p>Get the labels associated with the band arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_bands</code><span class="sig-paren">(</span><em>also_occupations=False</em>, <em>also_labels=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.get_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns an array (nkpoints x num_bands or nspins x nkpoints x num_bands)
of energies.
:param also_occupations: if True, returns also the occupations array.
Default = False</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_bands</code><span class="sig-paren">(</span><em>bands</em>, <em>units=None</em>, <em>occupations=None</em>, <em>labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an array of band energies of dimension (nkpoints x nbands).
Kpoints must be set in advance. Can contain floats or None.
:param bands: a list of nkpoints lists of nbands bands, or a 2D array
of shape (nkpoints x nbands), with band energies for each kpoint
:param units: optional, energy units
:param occupations: optional, a 2D list or array of floats of same
shape as bands, with the occupation associated to each band</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpointsdata</code><span class="sig-paren">(</span><em>kpointsdata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_kpointsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the kpoints from a kpoint object.
:param kpointsdata: an instance of KpointsData class</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.show_mpl"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Call a show() command for the band structure using matplotlib.
This uses internally the ‘mpl_singlefile’ format, with empty
main_file_name.</p>
<p>Other kwargs are passed to self._exportcontent.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">units</code></dt>
<dd><p>Units in which the data in bands were stored. A string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">KpointsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle array of kpoints in the Brillouin zone. Provide methods to
generate either user-defined k-points or path of k-points along symmetry
lines.
Internally, all k-points are defined in terms of crystal (fractional)
coordinates.
Cell and lattice vector coordinates are in Angstroms, reciprocal lattice
vectors in Angstrom^-1 .
:note: The methods setting and using the Bravais lattice info assume the
PRIMITIVE unit cell is provided in input to the set_cell or
set_cell_from_structure methods.</p>
<dl class="method">
<dt>
<code class="descname">_change_reference</code><span class="sig-paren">(</span><em>kpoints</em>, <em>to_cartesian=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._change_reference"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Change reference system, from cartesian to crystal coordinates (units of b1,b2,b3) or viceversa.
:param kpoints: a list of (3) point coordinates
:return kpoints: a list of (3) point coordinates in the new reference</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">_dimension</code></dt>
<dd><p>Dimensionality of the structure, found from its pbc (i.e. 1 if it’s a 1D
structure, 2 if its 2D, 3 if it’s 3D …).
:return dimensionality: 0, 1, 2 or 3
:note: will return 3 if pbc has not been set beforehand</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_find_bravais_info</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._find_bravais_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Finds the Bravais lattice of the cell passed in input to the Kpoint class
:note: We assume that the cell given by the cell property is the
primitive unit cell.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary, with keys short_name, extended_name, index
(index of the Bravais lattice), and sometimes variation (name of
the variation of the Bravais lattice) and extra (a dictionary
with extra parameters used by the get_special_points method)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_or_create_bravais_lattice</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._get_or_create_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Try to get the bravais_lattice info if stored already, otherwise analyze
the cell with the default settings and save this in the attribute.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>epsilon_length</strong> – threshold on lengths comparison, used
to get the bravais lattice info</li>
<li><strong>epsilon_angle</strong> – threshold on angles comparison, used
to get the bravais lattice info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return bravais_lattice:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">the dictionary containing the symmetry info</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_bravais_lattice</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validating function to set the bravais_lattice dictionary</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_cell</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate if ‘value’ is a allowed crystal unit cell
:param value: something compatible with a 3x3 tuple of floats</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_labels</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_labels"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set label names. Must pass in input a list like: <code class="docutils literal notranslate"><span class="pre">[[0,'X'],[34,'L'],...</span> <span class="pre">]</span></code></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_pbc</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_pbc"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>validate the pbc, then store them</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate_kpoints_weights</code><span class="sig-paren">(</span><em>kpoints</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._validate_kpoints_weights"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate the list of kpoints and of weights before storage.
Kpoints and weights must be convertible respectively to an array of
N x dimension and N floats</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">bravais_lattice</code></dt>
<dd><p>The dictionary containing informations about the cell symmetry</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell</code></dt>
<dd><p>The crystal unit cell. Rows are the crystal vectors in Angstroms.
:return: a 3x3 numpy.array</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">find_bravais_lattice</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.find_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Analyze the symmetry of the cell. Allows to relax or tighten the
thresholds used to compare angles and lengths of the cell. Save the
information of the cell used for later use (like getting special
points). It has to be used if the user wants to be sure the right
symmetries are recognized. Otherwise, this function is automatically
called with the default values.</p>
<p>If the right symmetry is not found, be sure also you are providing cells
with enough digits.</p>
<p>If node is already stored, just returns the symmetry found before
storing (if any).</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Return (str) lattice_name:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">the name of the bravais lattice and its
eventual variation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a string with infos retrieved from  kpoints node’s properties.
:param node:
:return: retstr</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints</code><span class="sig-paren">(</span><em>also_weights=False</em>, <em>cartesian=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>also_weights</strong> – if True, returns also the list of weights.
Default = False</li>
<li><strong>cartesian</strong> – if True, returns points in cartesian coordinates,
otherwise, returns in crystal coordinates. Default = False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints_mesh</code><span class="sig-paren">(</span><em>print_list=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the mesh of kpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>print_list</strong> – default=False. If True, prints the mesh of kpoints as a list</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if no mesh has been set</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return mesh,offset:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">(if print_list=False) a list of 3 integers and a list of three
floats 0&lt;x&lt;1, representing the mesh and the offset of kpoints</td>
</tr>
<tr class="field-even field"><th class="field-name">Return kpoints:</th><td class="field-body">(if print_list = True) an explicit list of kpoints coordinates,
similar to what returned by get_kpoints()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_special_points</code><span class="sig-paren">(</span><em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_special_points"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the special point and path of a given structure.</p>
<p>References:</p>
<ul class="simple">
<li>In 2D, coordinates are based on the paper:
R. Ramirez and M. C. Bohm,  Int. J. Quant. Chem., XXX, pp. 391-411 (1986)</li>
<li>In 3D, coordinates are based on the paper:
W. Setyawan, S. Curtarolo, Comp. Mat. Sci. 49, 299 (2010)</li>
</ul>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cartesian</strong> – If true, returns points in cartesian coordinates.
Crystal coordinates otherwise. Default=False</li>
<li><strong>epsilon_length</strong> – threshold on lengths comparison, used to get the bravais lattice info</li>
<li><strong>epsilon_angle</strong> – threshold on angles comparison, used to get the bravais lattice info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns point_coords:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">a dictionary of point_name:point_coords key,values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns path:</th><td class="field-body"><p class="first">the suggested path which goes through all high symmetry lines.
A list of lists for all path segments. e.g. [(‘G’,’X’),(‘X’,’M’),…]
It’s not necessarily a continuous line.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">We assume that the cell given by the cell property is the primitive unit cell</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">labels</code></dt>
<dd><p>Labels associated with the list of kpoints.
List of tuples with kpoint index and kpoint name: <code class="docutils literal notranslate"><span class="pre">[(0,'G'),(13,'M'),...]</span></code></p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pbc</code></dt>
<dd><p>The periodic boundary conditions along the vectors a1,a2,a3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three booleans, each one tells if there are periodic
boundary conditions for the i-th real-space direction (i=1,2,3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">reciprocal_cell</code></dt>
<dd><p>Return the reciprocal cell in units of 1/Angstrom from the internally set cell</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell</code><span class="sig-paren">(</span><em>cell</em>, <em>pbc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis.
To set a cell from an AiiDA structure, use “set_cell_from_structure”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cell</strong> – 3x3 matrix of cell vectors. Orientation: each row
represent a lattice vector. Units are Angstroms.</li>
<li><strong>pbc</strong> – list of 3 booleans, True if in the nth crystal direction the
structure is periodic. Default = [True,True,True]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell_from_structure</code><span class="sig-paren">(</span><em>structuredata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell_from_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis from an AiiDA structure.
Inherits both the cell and the pbc’s.
To set manually a cell, use “set_cell”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structuredata</strong> – an instance of StructureData</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints</code><span class="sig-paren">(</span><em>kpoints</em>, <em>cartesian=False</em>, <em>labels=None</em>, <em>weights=None</em>, <em>fill_values=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the list of kpoints. If a mesh has already been stored, raise a
ModificationNotAllowed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kpoints</strong> – <p>a list of kpoints, each kpoint being a list of one, two
or three coordinates, depending on self.pbc: if structure is 1D
(only one True in self.pbc) one allows singletons or scalars for
each k-point, if it’s 2D it can be a length-2 list, and in all
cases it can be a length-3 list.
Examples:</p>
<blockquote>
<div><ul>
<li>[[0.,0.,0.],[0.1,0.1,0.1],…] for 1D, 2D or 3D</li>
<li>[[0.,0.],[0.1,0.1,],…] for 1D or 2D</li>
<li>[[0.],[0.1],…] for 1D</li>
<li>[0., 0.1, …] for 1D (list of scalars)</li>
</ul>
</div></blockquote>
<p>For 0D (all pbc are False), the list can be any of the above
or empty - then only Gamma point is set.
The value of k for the non-periodic dimension(s) is set by
fill_values</p>
</li>
<li><strong>cartesian</strong> – if True, the coordinates given in input are treated
as in cartesian units. If False, the coordinates are crystal,
i.e. in units of b1,b2,b3. Default = False</li>
<li><strong>labels</strong> – optional, the list of labels to be set for some of the
kpoints. See labels for more info</li>
<li><strong>weights</strong> – optional, a list of floats with the weight associated
to the kpoint list</li>
<li><strong>fill_values</strong> – scalar to be set to all
non-periodic dimensions (indicated by False in self.pbc), or list of
values for each of the non-periodic dimensions.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh</code><span class="sig-paren">(</span><em>mesh</em>, <em>offset=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set KpointsData to represent a uniformily spaced mesh of kpoints in the
Brillouin zone. This excludes the possibility of set/get kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mesh</strong> – a list of three integers, representing the size of the
kpoint mesh along b1,b2,b3.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
[1.,1.,1.] by periodicity should be equivalent to [0.,0.,0.]
Default = [0.,0.,0.].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh_from_density</code><span class="sig-paren">(</span><em>distance</em>, <em>offset=None</em>, <em>force_parity=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh_from_density"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a kpoints mesh using a kpoints density, expressed as the maximum
distance between adjacent points along a reciprocal axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>distance</strong> – distance (in 1/Angstrom) between adjacent
kpoints, i.e. the number of kpoints along each reciprocal
axis i is <span class="math">|b_i|/distance</span>
where <span class="math">|b_i|</span> is the norm of the reciprocal cell vector.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
Default = [0.,0.,0.].</li>
<li><strong>force_parity</strong> – (optional) if True, force each integer in the mesh
to be even (except for the non-periodic directions).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first">a cell should be defined first.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">the number of kpoints along non-periodic axes is always 1.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_path</code><span class="sig-paren">(</span><em>value=None</em>, <em>kpoint_distance=None</em>, <em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_path"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a path of kpoints in the Brillouin zone.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – <p>description of the path, in various possible formats.</p>
<p>None: automatically sets all irreducible high symmetry paths.
Requires that a cell was set</p>
<p>or</p>
<p>[(‘G’,’M’), (…), …]
[(‘G’,’M’,30), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1)), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1),30), (…), …]</p>
</li>
<li><strong>cartesian</strong> (<em>bool</em>) – if set to true, reads the coordinates eventually
passed in value as cartesian coordinates. Default: False.</li>
<li><strong>kpoint_distance</strong> (<em>float</em>) – parameter controlling the distance between
kpoints. Distance is given in crystal coordinates, i.e. the distance
is computed in the space of b1,b2,b3. The distance set will be the
closest possible to this value, compatible with the requirement of
putting equispaced points between two special points (since extrema
are included).</li>
<li><strong>epsilon_length</strong> (<em>float</em>) – threshold on lengths comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
<li><strong>epsilon_angle</strong> (<em>float</em>) – threshold on angles comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">ProjectionData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A class to handle arrays of projected wavefunction data. That is projections
of a orbitals, usually an atomic-hydrogen orbital, onto a
given bloch wavefunction, the bloch wavefunction being indexed by
s, n, and k. E.g. the elements are the projections described as
&lt; orbital | Bloch wavefunction (s,n,k) &gt;</p>
<dl class="method">
<dt>
<code class="descname">_check_projections_bands</code><span class="sig-paren">(</span><em>projection_array</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData._check_projections_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Checks to make sure that a reference bandsdata is already set, and that
projection_array is of the same shape of the bands data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>projwfc_arrays</strong> – nk x nb x nwfc array, to be
checked against bands</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">AttributeError if energy is not already set</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">AttributeError if input_array is not of same shape as
dos_energy</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_find_orbitals_and_indices</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData._find_orbitals_and_indices"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Finds all the orbitals and their indicies associated with kwargs
essential for retrieving the other indexed array parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – kwargs that can call orbitals as in get_orbitals()</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">retrieve_indexes, list of indicicies of orbitals corresponding
to the kwargs</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">all_orbitals, list of orbitals to which the indexes correspond</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_from_index_to_arrayname</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData._from_index_to_arrayname"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Used internally to determine the array names.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pdos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_pdos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, energy array and pdos
array associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_projections</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_projections"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, and projection arrays
associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_reference_bandsdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the reference BandsData, using the set uuid via
set_reference_bandsdata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BandsData instance</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AttributeError</strong> – if the bandsdata has not been set yet</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.NotExistent" title="aiida.common.exceptions.NotExistent"><strong>exceptions.NotExistent</strong></a> – if the bandsdata uuid did not retrieve bandsdata</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_orbitals</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method is inherited from OrbitalData, but is blocked here.
If used will raise a NotImplementedError</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_projectiondata</code><span class="sig-paren">(</span><em>list_of_orbitals</em>, <em>list_of_projections=None</em>, <em>list_of_energy=None</em>, <em>list_of_pdos=None</em>, <em>tags=None</em>, <em>bands_check=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_projectiondata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores the projwfc_array using the projwfc_label, after validating both.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list_of_orbitals</strong> – list of orbitals, of class orbital data.
They should be the ones up on which the
projection array corresponds with.</li>
<li><strong>list_of_projections</strong> – list of arrays of projections of a atomic
wavefunctions onto bloch wavefunctions. Since the
projection is for every bloch wavefunction which
can be specified by its spin (if used), band, and
kpoint the dimensions must be
nspin x nbands x nkpoints for the projwfc array.
Or nbands x nkpoints if spin is not used.</li>
<li><strong>energy_axis</strong> – list of energy axis for the list_of_pdos</li>
<li><strong>list_of_pdos</strong> – a list of projected density of states for the
atomic wavefunctions, units in states/eV</li>
<li><strong>tags</strong> – A list of tags, not supported currently.</li>
<li><strong>bands_check</strong> – if false, skips checks of whether the bands has
been already set, and whether the sizes match. For
use in parsers, where the BandsData has not yet
been stored and therefore get_reference_bandsdata
cannot be called</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_reference_bandsdata</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets a reference bandsdata, creates a uuid link between this data
object and a bandsdata object, must be set before any projection arrays</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – a BandsData instance, a uuid or a pk</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">exceptions.NotExistent if there was no BandsData associated with uuid or pk</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">TrajectoryData</code><span class="sig-paren">(</span><em>structurelist=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores a trajectory (a sequence of crystal structures with timestamps, and
possibly with velocities).</p>
<dl class="method">
<dt>
<code class="descname">_get_aiida_structure</code><span class="sig-paren">(</span><em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._get_aiida_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_cif</code><span class="sig-paren">(</span><em>index=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_internal_validate</code><span class="sig-paren">(</span><em>stepids</em>, <em>cells</em>, <em>symbols</em>, <em>positions</em>, <em>times</em>, <em>velocities</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._internal_validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Internal function to validate the type and shape of the arrays. See
the documentation of py:meth:<cite>.set_trajectory</cite> for a description of the
valid shape and type of the parameters.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_parse_xyz_pos</code><span class="sig-paren">(</span><em>inputstring</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._parse_xyz_pos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load positions from a XYZ file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The steps and symbols must be set manually before calling this
import function as a consistency measure. Even though the symbols
and steps could be extracted from the XYZ file, the data present in
the XYZ file may or may not be correct and the same logic would have
to be present in the XYZ-velocities function. It was therefore
decided not to implement it at all but require it to be set
explicitly.</p>
</div>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aiida.orm.nodes.data.array.trajectory</span> <span class="k">import</span> <span class="n">TrajectoryData</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">TrajectoryData</span><span class="p">()</span>
<span class="c1"># get sites and number of timesteps</span>
<span class="n">t</span><span class="o">.</span><span class="n">set_array</span><span class="p">(</span><span class="s1">&#39;steps&#39;</span><span class="p">,</span> <span class="n">arange</span><span class="p">(</span><span class="n">ntimesteps</span><span class="p">))</span>
<span class="n">t</span><span class="o">.</span><span class="n">set_array</span><span class="p">(</span><span class="s1">&#39;symbols&#39;</span><span class="p">,</span> <span class="n">array</span><span class="p">([</span><span class="n">site</span><span class="o">.</span><span class="n">kind</span> <span class="k">for</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">sites</span><span class="p">]))</span>
<span class="n">t</span><span class="o">.</span><span class="n">importfile</span><span class="p">(</span><span class="s1">&#39;some-calc/AIIDA-PROJECT-pos-1.xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;xyz_pos&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_parse_xyz_vel</code><span class="sig-paren">(</span><em>inputstring</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._parse_xyz_vel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load velocities from a XYZ file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The steps and symbols must be set manually before calling this
import function as a consistency measure. See also comment for
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.TrajectoryData._parse_xyz_pos" title="aiida.orm.nodes.data.TrajectoryData._parse_xyz_pos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_parse_xyz_pos()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_cif</code><span class="sig-paren">(</span><em>trajectory_index=None</em>, <em>main_file_name=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._prepare_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write the given trajectory to a string of format CIF.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_xsf</code><span class="sig-paren">(</span><em>index=None</em>, <em>main_file_name=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._prepare_xsf"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write the given trajectory to a string of format XSF (for XCrySDen).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Verify that the required arrays are present and that their type and
dimension are correct.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cells</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cells"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of cells, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cif</code><span class="sig-paren">(</span><em>index=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_cif</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_index_from_stepid</code><span class="sig-paren">(</span><em>stepid</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_index_from_stepid"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a value for the stepid (i.e., a value among those of the <code class="docutils literal notranslate"><span class="pre">steps</span></code>
array), return the array index of that stepid, that can be used in other
methods such as <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.TrajectoryData.get_step_data" title="aiida.orm.nodes.data.TrajectoryData.get_step_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_data()</span></code></a> or
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.TrajectoryData.get_step_structure" title="aiida.orm.nodes.data.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_step_index</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this function returns the first index found
(i.e. if multiple steps are present with the same value,
only the index of the first one is returned).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if no step with the given value is found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_positions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_positions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of positions, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a tuple with all information concerning
the stepid with given index (0 is the first step, 1 the second step
and so on). If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.data.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a>  method to get the
corresponding index.</p>
<p>If no velocities were specified, None is returned as the last element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tuple in the format
<code class="docutils literal notranslate"><span class="pre">(stepid,</span> <span class="pre">time,</span> <span class="pre">cell,</span> <span class="pre">symbols,</span> <span class="pre">positions,</span> <span class="pre">velocities)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">stepid</span></code> is an integer, <code class="docutils literal notranslate"><span class="pre">time</span></code> is a float, <code class="docutils literal notranslate"><span class="pre">cell</span></code> is a
<span class="math">3 \times 3</span> matrix, <code class="docutils literal notranslate"><span class="pre">symbols</span></code> is an array of length <code class="docutils literal notranslate"><span class="pre">n</span></code>,
positions is a <span class="math">n \times 3</span> array, and velocities is either
<code class="docutils literal notranslate"><span class="pre">None</span></code> or a <span class="math">n \times 3</span> array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>IndexError</strong> – if you require an index beyond the limits.</li>
<li><strong>KeyError</strong> – if you did not store the trajectory yet.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_structure</code><span class="sig-paren">(</span><em>index</em>, <em>custom_kinds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an AiiDA <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node
(not stored yet!) with the coordinates of the given step, identified by
its index. If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.data.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a> method to get the corresponding index.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The periodic boundary conditions are always set to True.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from step_to_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps-</span> <span class="pre">1</span></code>.</li>
<li><strong>custom_kinds</strong> – (Optional) If passed must be a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.Kind" title="aiida.orm.nodes.data.structure.Kind"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.Kind</span></code></a> objects. There must be one
kind object for each different string in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array, with
<code class="docutils literal notranslate"><span class="pre">kind.name</span></code> set to this string.
If this parameter is omitted, the automatic kind generation of AiiDA
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> nodes is used,
meaning that the strings in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array must be valid
chemical symbols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_stepids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_stepids"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of steps, if it has already been set.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_steps</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_structure</code><span class="sig-paren">(</span><em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_aiida_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_times"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of times (in ps), if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_velocities"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of velocities, if it has already been set.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function (differently from all other <code class="docutils literal notranslate"><span class="pre">get_*</span></code>
functions, will not raise an exception if the velocities are not
set, but rather return <code class="docutils literal notranslate"><span class="pre">None</span></code> (both if no trajectory was not set yet,
and if it the trajectory was set but no velocities were specified).</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsites</code></dt>
<dd><p>Return the number of stored sites, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsteps</code></dt>
<dd><p>Return the number of stored steps, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_structurelist</code><span class="sig-paren">(</span><em>structurelist</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_structurelist"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create trajectory from the list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structurelist</strong> – a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if symbol lists of supplied structures are
different</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_trajectory</code><span class="sig-paren">(</span><em>symbols</em>, <em>positions</em>, <em>stepids=None</em>, <em>cells=None</em>, <em>times=None</em>, <em>velocities=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_trajectory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the whole trajectory, after checking that types and dimensions
are correct.</p>
<p>Parameters <code class="docutils literal notranslate"><span class="pre">stepids</span></code>, <code class="docutils literal notranslate"><span class="pre">cells</span></code> and <code class="docutils literal notranslate"><span class="pre">velocities</span></code> are optional
variables. If nothing is passed for <code class="docutils literal notranslate"><span class="pre">cells</span></code> or <code class="docutils literal notranslate"><span class="pre">velocities</span></code>
nothing will be stored. However, if no input is given for <code class="docutils literal notranslate"><span class="pre">stepids</span></code>
a consecutive sequence [0,1,2,…,len(positions)-1] will be assumed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>symbols</strong> – string list with dimension <code class="docutils literal notranslate"><span class="pre">n</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the
number of atoms (i.e., sites) in the structure.
The same list is used for each step. Normally, the string
should be a valid chemical symbol, but actually any unique
string works and can be used as the name of the atomic kind
(see also the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.TrajectoryData.get_step_structure" title="aiida.orm.nodes.data.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a> method).</li>
<li><strong>positions</strong> – float array with dimension <span class="math">s \times n \times 3</span>,
where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array and <code class="docutils literal notranslate"><span class="pre">n</span></code> is the length
of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array. Units are angstrom.
In particular,
<code class="docutils literal notranslate"><span class="pre">positions[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component of the
<code class="docutils literal notranslate"><span class="pre">j</span></code>-th atom (or site) in the structure at the time step
with index <code class="docutils literal notranslate"><span class="pre">i</span></code> (identified
by step number <code class="docutils literal notranslate"><span class="pre">step[i]</span></code> and with timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>stepids</strong> – integer array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
number of steps. Typically represents an internal counter
within the code. For instance, if you want to store a
trajectory with one step every 10, starting from step 65,
the array will be <code class="docutils literal notranslate"><span class="pre">[65,75,85,...]</span></code>.
No checks are done on duplicate elements
or on the ordering, but anyway this array should be
sorted in ascending order, without duplicate elements.
(If not specified, stepids will be set to <code class="docutils literal notranslate"><span class="pre">numpy.arange(s)</span></code>
by default) It is internally stored as an array named ‘steps’.</li>
<li><strong>cells</strong> – if specified float array with dimension
<span class="math">s \times 3 \times 3</span>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Units are angstrom.
In particular, <code class="docutils literal notranslate"><span class="pre">cells[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component
of the <code class="docutils literal notranslate"><span class="pre">j</span></code>-th cell vector at the time step with index
<code class="docutils literal notranslate"><span class="pre">i</span></code> (identified by step number <code class="docutils literal notranslate"><span class="pre">stepid[i]</span></code> and with
timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>times</strong> – if specified, float array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where
<code class="docutils literal notranslate"><span class="pre">s</span></code> is the length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Contains the
timestamp of each step in picoseconds (ps).</li>
<li><strong>velocities</strong> – if specified, must be a float array with the same
dimensions of the <code class="docutils literal notranslate"><span class="pre">positions</span></code> array.
The array contains the velocities in the atoms.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Choose suitable units for velocities</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_heatmap</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_heatmap"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Show a heatmap of the trajectory with matplotlib.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_pos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_pos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Shows the positions as a function of time, separate for XYZ coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stepsize</strong> (<em>int</em>) – The stepsize for the trajectory, set higher than 1 to
reduce number of points</li>
<li><strong>mintime</strong> (<em>int</em>) – Time to start from</li>
<li><strong>maxtime</strong> (<em>int</em>) – Maximum time</li>
<li><strong>elements</strong> (<em>list</em>) – A list of atomic symbols that should be displayed.
If not specified, all atoms are displayed.</li>
<li><strong>indices</strong> (<em>list</em>) – A list of indices of that atoms that can be displayed.
If not specified, all atoms of the correct species are displayed.</li>
<li><strong>dont_block</strong> (<em>bool</em>) – If True, interpreter is not blocked when figure is displayed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">symbols</code></dt>
<dd><p>Return the array of symbols, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">XyData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A subclass designed to handle arrays that have an “XY” relationship to
each other. That is there is one array, the X array, and there are several
Y arrays, which can be considered functions of X.</p>
<dl class="method">
<dt>
<code class="descname">_arrayandname_validator</code><span class="sig-paren">(</span><em>array</em>, <em>name</em>, <em>units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData._arrayandname_validator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates that the array is an numpy.ndarray and that the name is
of type basestring. Raises InputValidationError if this not the case.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the x array and x name raises a NotExistent
exception if no x array has been set yet.
:return x_name: the name set for the x_array
:return x_array: the x array set earlier
:return x_units: the x units set earlier</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the y arrays and the y names, raises a
NotExistent exception if they have not been set yet, or cannot be
retrieved
:return y_names: list of strings naming the y_arrays
:return y_arrays: list of y_arrays
:return y_units: list of strings giving the units for the y_arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_x</code><span class="sig-paren">(</span><em>x_array</em>, <em>x_name</em>, <em>x_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the array and the name for the x values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x_array</strong> – A numpy.ndarray, containing only floats</li>
<li><strong>x_name</strong> – a string for the x array name</li>
<li><strong>x_units</strong> – the units of x</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_y</code><span class="sig-paren">(</span><em>y_arrays</em>, <em>y_names</em>, <em>y_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set array(s) for the y part of the dataset. Also checks if the
x_array has already been set, and that, the shape of the y_arrays
agree with the x_array.
:param y_arrays: A list of y_arrays, numpy.ndarray
:param y_names: A list of strings giving the names of the y_arrays
:param y_units: A list of strings giving the units of the y_arrays</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">Bool</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/bool.html#Bool"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a boolean value.</p>
<dl class="attribute">
<dt>
<code class="descname">_type</code></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.bool</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">CifData</code><span class="sig-paren">(</span><em>ase=None</em>, <em>file=None</em>, <em>values=None</em>, <em>source=None</em>, <em>scan_type='standard'</em>, <em>parse_policy='eager'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Wrapper for Crystallographic Interchange File (CIF)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the file (physical) is held as the authoritative source of
information, so all conversions are done through the physical file:
when setting <code class="docutils literal notranslate"><span class="pre">ase</span></code> or <code class="docutils literal notranslate"><span class="pre">values</span></code>, a physical CIF file is generated
first, the values are updated from the physical CIF file.</p>
</div>
<dl class="method">
<dt>
<code class="descname">_get_aiida_structure</code><span class="sig-paren">(</span><em>converter='pymatgen'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData._get_aiida_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘pymatgen’.</li>
<li><strong>store</strong> – if True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
<li><strong>primitive_cell</strong> – if True, primitive cell is returned,
conventional cell if False. Default False.</li>
<li><strong>occupancy_tolerance</strong> – If total occupancy of a site is between 1 and occupancy_tolerance,
the occupancies will be scaled down to 1. (pymatgen only)</li>
<li><strong>site_tolerance</strong> – This tolerance is used to determine if two sites are sitting in the same position,
in which case they will be combined to a single disordered site. Defaults to 1e-4. (pymatgen only)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_object_ase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData._get_object_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts CifData to ase.Atoms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an ase.Atoms object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_object_pycifrw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData._get_object_pycifrw"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts CifData to PyCIFRW.CifFile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a PyCIFRW.CifFile object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_cif</code><span class="sig-paren">(</span><em>main_file_name=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData._prepare_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return CIF string of CifData object.</p>
<p>If parsed values are present, a CIF string is created
and written to file.
If no parsed values are present, the CIF string is read
from file.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validates MD5 hash of CIF file.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">ase</code></dt>
<dd><p>ASE object, representing the CIF.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires ASE module.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">from_md5</code><span class="sig-paren">(</span><em>md5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.from_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all CIF files that match a given MD5 hash.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the hash has to be stored in a <code class="docutils literal notranslate"><span class="pre">_md5</span></code> attribute,
otherwise the CIF file will not be found.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">generate_md5</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.generate_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Computes and returns MD5 hash of the CIF file.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_ase</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns ASE object, representing the CIF. This function differs
from the property <code class="docutils literal notranslate"><span class="pre">ase</span></code> by the possibility to pass the keyworded
arguments (kwargs) to ase.io.cif.read_cif().</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires ASE module.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_formulae</code><span class="sig-paren">(</span><em>mode='sum'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_formulae"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return chemical formulae specified in CIF file.</p>
<p>Note: This does not compute the formula, it only reads it from the
appropriate tag. Use refine_inline to compute formulae.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_or_create</code><span class="sig-paren">(</span><em>filename</em>, <em>use_first=False</em>, <em>store_cif=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass the same parameter of the init; if a file with the same md5
is found, that CifData is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – an absolute filename on disk</li>
<li><strong>use_first</strong> – if False (default), raise an exception if more than                 one CIF file is found.                If it is True, instead, use the first available CIF file.</li>
<li><strong>store_cif</strong> (<em>bool</em>) – If false, the CifData objects are not stored in
the database. default=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return (cif, created):</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">where cif is the CifData object, and create is either            True if the object was created, or False if the object was retrieved            from the DB.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_spacegroup_numbers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_spacegroup_numbers"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the spacegroup international number.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_structure</code><span class="sig-paren">(</span><em>converter='pymatgen'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_aiida_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘pymatgen’.</li>
<li><strong>store</strong> – if True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
<li><strong>primitive_cell</strong> – if True, primitive cell is returned,
conventional cell if False. Default False.</li>
<li><strong>occupancy_tolerance</strong> – If total occupancy of a site is between 1 and occupancy_tolerance,
the occupancies will be scaled down to 1. (pymatgen only)</li>
<li><strong>site_tolerance</strong> – This tolerance is used to determine if two sites are sitting in the same position,
in which case they will be combined to a single disordered site. Defaults to 1e-4. (pymatgen only)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_atomic_sites</code></dt>
<dd><p>Returns whether there are any atomic sites defined in the cif data. That
is to say, it will check all the values for the <cite>_atom_site_fract_*</cite> tags
and if they are all equal to <cite>?</cite> that means there are no relevant atomic
sites defined and the function will return False. In all other cases the
function will return True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">False when at least one atomic site fractional coordinate is not
equal to <cite>?</cite> and True otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_attached_hydrogens</code></dt>
<dd><p>Check if there are hydrogens without coordinates, specified as attached
to the atoms of the structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if there are attached hydrogens, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_partial_occupancies</code></dt>
<dd><p>Return if the cif data contains partial occupancies</p>
<p>A partial occupancy is defined as site with an occupancy that differs from unity, within a precision of 1E-6</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if there are partial occupancies, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_undefined_atomic_sites</code></dt>
<dd><p>Return whether the cif data contains any undefined atomic sites.</p>
<p>An undefined atomic site is defined as a site where at least one of the fractional coordinates specified in the
<cite>_atom_site_fract_*</cite> tags, cannot be successfully interpreted as a float. If the cif data contains any site that
matches this description, or it does not contain any atomic site tags at all, the cif data is said to have
undefined atomic sites.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if no atomic sites are defined or if any of the defined sites contain undefined positions
and False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_unknown_species</code></dt>
<dd><p>Returns whether the cif contains atomic species that are not recognized by AiiDA.</p>
<p>The known species are taken from the elements dictionary in <cite>aiida.common.constants</cite>, with the exception of
the “unknown” placeholder element with symbol ‘X’, as this could not be used to construct a real structure.
If any of the formula of the cif data contain species that are not in that elements dictionary, the function
will return True and False in all other cases. If there is no formulae to be found, it will return None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True when there are unknown species in any of the formulae, False if not, None if no formula found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">parse</code><span class="sig-paren">(</span><em>scan_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.parse"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Parses CIF file and sets attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scan_type</strong> – See set_scan_type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">read_cif</code><span class="sig-paren">(</span><em>fileobj</em>, <em>index=-1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.read_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A wrapper method that simulates the behavior of the old
function ase.io.cif.read_cif by using the new generic ase.io.read
function.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_ase</code><span class="sig-paren">(</span><em>aseatoms</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the contents of the CifData starting from an ASE atoms object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>aseatoms</strong> – the ASE atoms object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the file.</p>
<p>If the source is set and the MD5 checksum of new file
is different from the source, the source has to be deleted.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_parse_policy</code><span class="sig-paren">(</span><em>parse_policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_parse_policy"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the parse policy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parse_policy</strong> – Either ‘eager’ (parse CIF file on set_file)
or ‘lazy’ (defer parsing until needed)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_scan_type</code><span class="sig-paren">(</span><em>scan_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_scan_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the scan_type for PyCifRW.</p>
<p>The ‘flex’ scan_type of PyCifRW is faster for large CIF files but
does not yet support the CIF2 format as of 02/2018.
See the CifFile.ReadCif function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scan_type</strong> – Either ‘standard’ or ‘flex’ (see _scan_types)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_values</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_values"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set internal representation to <cite>values</cite>.</p>
<p>Warning: This also writes a new CIF file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>values</strong> – PyCifRW CifFile object</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires PyCifRW module.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">values</code></dt>
<dd><p>PyCifRW structure, representing the CIF datablocks.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires PyCifRW module.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">Code</code><span class="sig-paren">(</span><em>remote_computer_exec=None</em>, <em>local_executable=None</em>, <em>input_plugin_name=None</em>, <em>files=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A code entity.
It can either be ‘local’, or ‘remote’.</p>
<ul class="simple">
<li>Local code: it is a collection of files/dirs (added using the add_path() method), where one     file is flagged as executable (using the set_local_executable() method).</li>
<li>Remote code: it is a pair (remotecomputer, remotepath_of_executable) set using the     set_remote_computer_exec() method.</li>
</ul>
<p>For both codes, one can set some code to be executed right before or right after
the execution of the code, using the set_preexec_code() and set_postexec_code()
methods (e.g., the set_preexec_code() can be used to load specific modules required
for the code to be run).</p>
<dl class="method">
<dt>
<code class="descname">_set_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code._set_local"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the code as a ‘local’ code, meaning that all the files belonging to the code
will be copied to the cluster, and the file set with set_exec_filename will be
run.</p>
<p>It also deletes the flags related to the local case (if any)</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_remote</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code._set_remote"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the code as a ‘remote’ code, meaning that the code itself has no files attached,
but only a location on a remote computer (with an absolute path of the executable on
the remote computer).</p>
<p>It also deletes the flags related to the local case (if any)</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Perform validation of the Data object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">validation of data source checks license and requires
attribution to be provided in field ‘description’ of source in
the case of any CC-BY* license. If such requirement is too
strict, one can remove/comment it out.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">can_run_on</code><span class="sig-paren">(</span><em>computer</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.can_run_on"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return True if this code can run on the given computer, False otherwise.</p>
<p>Local codes can run on any machine; remote codes can run only on the machine
on which they reside.</p>
<p>TODO: add filters to mask the remote machines on which a local code can run.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">full_label</code></dt>
<dd><p>Get full label of this code.</p>
<p>Returns label of the form &lt;code-label&gt;&#64;&lt;computer-name&gt;.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">full_text_info</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.full_text_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a (multiline) string with a human-readable detailed information on this computer</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get</code><span class="sig-paren">(</span><em>pk=None</em>, <em>label=None</em>, <em>machinename=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a Computer object with given identifier string, that can either be
the numeric ID (pk), or the label (and computername) (if unique).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pk</strong> – the numeric ID (pk) for code</li>
<li><strong>label</strong> – the code label identifying the code to load</li>
<li><strong>machinename</strong> – the machine name where code is setup</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.InputValidationError" title="aiida.common.InputValidationError"><strong>aiida.common.InputValidationError</strong></a> – if neither a pk nor a label was passed in</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_append_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_append_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the postexec_code, or an empty string if no post-exec code was defined.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_builder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create and return a new ProcessBuilder for the default Calculation
plugin, as obtained by the self.get_input_plugin_name() method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first">it also sets the <code class="docutils literal notranslate"><span class="pre">builder.code</span></code> value.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.EntryPointError" title="aiida.common.EntryPointError"><strong>aiida.common.EntryPointError</strong></a> – if the specified plugin does not exist.</li>
<li><strong>ValueError</strong> – if no default plugin was specified.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_code_helper</code><span class="sig-paren">(</span><em>label</em>, <em>machinename=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_code_helper"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>label</strong> – the code label identifying the code to load</li>
<li><strong>machinename</strong> – the machine name where code is setup</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_computer_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_computer_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get name of this code’s computer.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string description of this Code instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string description of this Code instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_execname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_execname"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the executable string to be put in the script.
For local codes, it is ./LOCAL_EXECUTABLE_NAME
For remote codes, it is the absolute path to the executable.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_from_string</code><span class="sig-paren">(</span><em>code_string</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_from_string"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get a Computer object with given identifier string in the format
<a class="reference external" href="mailto:label&#37;&#52;&#48;machinename">label<span>&#64;</span>machinename</a>. See the note below for details on the string
detection algorithm.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the (leftmost) ‘&#64;’ symbol is always used to split code
and computername. Therefore do not use
‘&#64;’ in the code name if you want to use this function
(‘&#64;’ in the computer name are instead valid).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code_string</strong> – the code string identifying the code to load</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.NotExistent" title="aiida.common.NotExistent"><strong>aiida.common.NotExistent</strong></a> – if no code identified by the given string is found</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.MultipleObjectsError" title="aiida.common.MultipleObjectsError"><strong>aiida.common.MultipleObjectsError</strong></a> – if the string cannot identify uniquely
a code</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.InputValidationError" title="aiida.common.InputValidationError"><strong>aiida.common.InputValidationError</strong></a> – if code_string is not of string type</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_full_text_info</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_full_text_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a (multiline) string with a human-readable detailed information on this computer</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_input_plugin_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_input_plugin_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the name of the default input plugin (or None if no input plugin
was set.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_prepend_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.get_prepend_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the code that will be put in the scheduler script before the
execution, or an empty string if no pre-exec code was defined.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">hidden</code></dt>
<dd><p>Determines whether the Code is hidden or not</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">hide</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.hide"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Hide the code (prevents from showing it in the verdi code list)</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">is_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.is_local"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return True if the code is ‘local’, False if it is ‘remote’ (see also documentation
of the set_local and set_remote functions).</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">list_for_plugin</code><span class="sig-paren">(</span><em>plugin</em>, <em>labels=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.list_for_plugin"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of valid code strings for a given plugin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plugin</strong> – The string of the plugin.</li>
<li><strong>labels</strong> – if True, return a list of code names, otherwise
return the code PKs (integers).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of string, with the code names if labels is True,
otherwise a list of integers with the code PKs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">relabel</code><span class="sig-paren">(</span><em>new_label</em>, <em>raise_error=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.relabel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Relabel this code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>new_label</strong> – new code label</li>
<li><strong>raise_error</strong> – Set to False in order to return a list of errors
instead of raising them.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reveal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.reveal"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reveal the code (allows to show it in the verdi code list)
By default, it is revealed</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_append_text</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_append_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass a string of code that will be put in the scheduler script after the
execution of the code.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_files</code><span class="sig-paren">(</span><em>files</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a list of filenames (or a single filename string),
add it to the path (all at level zero, i.e. without folders).
Therefore, be careful for files with the same name!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body">decide whether to check if the Code must be a local executable
to be able to call this function.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_input_plugin_name</code><span class="sig-paren">(</span><em>input_plugin</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_input_plugin_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the name of the default input plugin, to be used for the automatic
generation of a new calculation.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_local_executable</code><span class="sig-paren">(</span><em>exec_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_local_executable"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the filename of the local executable.
Implicitly set the code as local.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_prepend_text</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_prepend_text"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass a string of code that will be put in the scheduler script before the
execution of the code.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_remote_computer_exec</code><span class="sig-paren">(</span><em>remote_computer_exec</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/code.html#Code.set_remote_computer_exec"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the code as remote, and pass the computer on which it resides
and the absolute path on that computer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_computer_exec</strong> – a tuple (computer, remote_exec_path), where computer is a aiida.orm.Computer and
remote_exec_path is the absolute path of the main executable on remote computer.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">Float</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/float.html#Float"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a float value.</p>
<dl class="attribute">
<dt>
<code class="descname">_type</code></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.float</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">FolderData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/folder.html#FolderData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a folder on a file system.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">Int</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/int.html#Int"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent an integer value.</p>
<dl class="attribute">
<dt>
<code class="descname">_type</code></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.int</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">List</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a list.</p>
<dl class="method">
<dt>
<code class="descname">_using_list_reference</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List._using_list_reference"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function tells the class if we are using a list reference.  This
means that calls to self.get_list return a reference rather than a copy
of the underlying list and therefore self.set_list need not be called.
This knwoledge is essential to make sure this class is performant.</p>
<p>Currently the implementation assumes that if the node needs to be
stored then it is using the attributes cache which is a reference.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if using self.get_list returns a reference to the
underlying sequence.  False otherwise.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.append"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.append(value) – append value to the end of the sequence</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &#x2192; integer -- return number of occurrences of value<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.count"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">extend</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.extend"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.extend(iterable) – extend sequence by appending elements from the iterable</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.get_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the contents of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">index</code><span class="sig-paren">(</span><em>value</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; integer -- return first index of value.<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.index"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
<p>Supporting start and stop arguments is optional, but
recommended.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">insert</code><span class="sig-paren">(</span><em>i</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.insert"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.insert(index, value) – insert value before index</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">pop</code><span class="sig-paren">(</span><span class="optional">[</span><em>index</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; item -- remove and return item at index (default last).<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.pop"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Raise IndexError if list is empty or index is out of range.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">remove</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.remove"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.remove(value) – remove first occurrence of value.
Raise ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.reverse"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_list</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.set_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the contents of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – the list to set</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">OrbitalData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Used for storing collections of orbitals, as well as
providing methods for accessing them internally.</p>
<dl class="method">
<dt>
<code class="descname">_get_orbital_class_from_orbital_dict</code><span class="sig-paren">(</span><em>orbital_dict</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData._get_orbital_class_from_orbital_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Gets the orbital class from the orbital dictionary stored in DB</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orbital_dict</strong> – orbital dictionary associated with the orbital</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an Orbital produced using the module_name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">_prep_orbital_dict_keys_from_site</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData._prep_orbital_dict_keys_from_site"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Prepares the position from an input site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>site</strong> – a site of site class</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return out_dict:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">a dictionary of attributes parsed from the site
(currently only position)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_orbitals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.clear_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove all orbitals that were added to the class
Cannot work if OrbitalData has been already stored</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_orbitals</code><span class="sig-paren">(</span><em>with_tags=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.get_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns all orbitals by default. If a site is provided, returns
all orbitals cooresponding to the location of that site, additional
arguments may be provided, which act as filters on the retrieved
orbitals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> – if provided, returns all orbitals with position of site</li>
<li><strong>with_tags</strong> – if provided returns all tags stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Kwargs:</th><td class="field-body"><p class="first">attributes than can filter the set of returned orbitals</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return list_of_outputs:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first last">a list of orbitals and also tags if
with_tags was set to True</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_orbitals</code><span class="sig-paren">(</span><em>orbital</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.set_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the orbitals into the database. Uses the orbital’s inherent
set_orbital_dict method to generate a orbital dict string at is stored
along with the tags, if provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>orbital</strong> – an orbital or list of orbitals to be set</li>
<li><strong>tag</strong> – a list of strings must be of length orbital</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">Dict</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a dictionary.</p>
<dl class="attribute">
<dt>
<code class="descname">dict</code></dt>
<dd><p>Return an instance of <cite>AttributeManager</cite> that transforms the dictionary into an attribute dict.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this will allow one to do <cite>node.dict.key</cite> as well as <cite>node.dict[key]</cite>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of the <cite>AttributeResultManager</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.get_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a dictionary with the parameters currently set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator of valid keys stored in the Dict object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">iterator over the keys of the current dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.set_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Replace the current dictionary with another one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dictionary</strong> – dictionary to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.update_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update the current dictionary with the keys provided in the dictionary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">works exactly as <cite>dict.update()</cite> where new keys are simply added and existing keys are overwritten.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dictionary</strong> – a dictionary with the keys to substitute</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">RemoteData</code><span class="sig-paren">(</span><em>remote_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a link to a file or folder on a remote machine.</p>
<p>Remember to pass a computer!</p>
<dl class="method">
<dt>
<code class="descname">_clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData._clean"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove all content of the remote folder on the remote computer</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Perform validation of the Data object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">validation of data source checks license and requires
attribution to be provided in field ‘description’ of source in
the case of any CC-BY* license. If such requirement is too
strict, one can remove/comment it out.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">getfile</code><span class="sig-paren">(</span><em>relpath</em>, <em>destpath</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.getfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and gets a string with the (full) content of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>relpath</strong> – The relative path of the file to show.</li>
<li><strong>destpath</strong> – A path on the local computer to get the file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a string with the file content</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_empty</code></dt>
<dd><p>Check if remote folder is empty</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">listdir</code><span class="sig-paren">(</span><em>relpath='.'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.listdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and lists the directory content.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>relpath</strong> – If ‘relpath’ is specified, lists the content of the given subfolder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a flat list of file/directory names (as strings).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">listdir_withattributes</code><span class="sig-paren">(</span><em>path='.'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.listdir_withattributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and lists the directory content.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>relpath</strong> – If ‘relpath’ is specified, lists the content of the given subfolder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of dictionaries, where the documentation is in :py:class:Transport.listdir_withattributes.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">SinglefileData</code><span class="sig-paren">(</span><em>file</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Data class that can be used to store a single file in its repository.</p>
<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Ensure that there is one object stored in the repository, whose key matches value set for <cite>filename</cite> attr.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">filename</code></dt>
<dd><p>Return the name of the file stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the filename under which the file is stored in the repository</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.get_content"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the content of the single file stored for this data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the content of the file as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">open</code><span class="sig-paren">(</span><em>key=None</em>, <em>mode='r'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.open"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an open file handle to the content of this data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – optional key within the repository, by default is the <cite>filename</cite> set in the attributes</li>
<li><strong>mode</strong> – the mode with which to open the file handle (default: read mode)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a file handle</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the content of the file in the node’s repository, deleting any other existing objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> – an absolute filepath or filelike object whose contents to copy
Hint: Pass io.StringIO(“my string”) to construct the file directly from a string.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">Str</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/str.html#Str"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a string value.</p>
<dl class="attribute">
<dt>
<code class="descname">_type</code></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.str</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">StructureData</code><span class="sig-paren">(</span><em>cell=None</em>, <em>pbc=None</em>, <em>ase=None</em>, <em>pymatgen=None</em>, <em>pymatgen_structure=None</em>, <em>pymatgen_molecule=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class contains the information about a given structure, i.e. a
collection of sites together with a cell, the
boundary conditions (whether they are periodic or not) and other
related useful information.</p>
<dl class="method">
<dt>
<code class="descname">_adjust_default_cell</code><span class="sig-paren">(</span><em>vacuum_factor=1.0</em>, <em>vacuum_addition=10.0</em>, <em>pbc=(False</em>, <em>False</em>, <em>False)</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._adjust_default_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>If the structure was imported from an xyz file, it lacks a defined cell,
and the default cell is taken ([[1,0,0], [0,1,0], [0,0,1]]),
leading to an unphysical definition of the structure.
This method will adjust the cell</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_cif</code><span class="sig-paren">(</span><em>converter='ase'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_object_ase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._get_object_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
to ase.Atoms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an ase.Atoms object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_object_phonopyatoms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._get_object_phonopyatoms"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts StructureData to PhonopyAtoms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a PhonopyAtoms object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_object_pymatgen</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._get_object_pymatgen"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
to pymatgen object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Structure for structures with periodic boundary
conditions (in three dimensions) and Molecule otherwise</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_object_pymatgen_molecule</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._get_object_pymatgen_molecule"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
to pymatgen Molecule object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Molecule object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors)</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_object_pymatgen_structure</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._get_object_pymatgen_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Converts
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
to pymatgen Structure object
:param add_spin: True to add the spins to the pymatgen structure.
Default is False (no spin added).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The spins are set according to the following rule:</p>
<ul class="last simple">
<li>if the kind name ends with 1 -&gt; spin=+1</li>
<li>if the kind name ends with 2 -&gt; spin=-1</li>
</ul>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Structure object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if periodic boundary conditions does not hold
in at least one dimension of real space; if there are partial occupancies
together with spins (defined by kind names ending with ‘1’ or ‘2’).</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors)</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_parse_xyz</code><span class="sig-paren">(</span><em>inputstring</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._parse_xyz"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Read the structure from a string of format XYZ.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_chemdoodle</code><span class="sig-paren">(</span><em>main_file_name=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._prepare_chemdoodle"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write the given structure to a string of format required by ChemDoodle.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_cif</code><span class="sig-paren">(</span><em>main_file_name=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._prepare_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write the given structure to a string of format CIF.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_xsf</code><span class="sig-paren">(</span><em>main_file_name=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._prepare_xsf"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write the given structure to a string of format XSF (for XCrySDen).</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_prepare_xyz</code><span class="sig-paren">(</span><em>main_file_name=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._prepare_xyz"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write the given structure to a string of format XYZ.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Performs some standard validation tests.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_atom</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_atom"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append an atom to the Structure, taking care of creating the
corresponding kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ase</strong> – the ase Atom object from which we want to create a new atom
(if present, this must be the only parameter)</li>
<li><strong>position</strong> – the position of the atom (three numbers in angstrom)</li>
<li><strong>symbols</strong> – passed to the constructor of the Kind object.</li>
<li><strong>weights</strong> – passed to the constructor of the Kind object.</li>
<li><strong>name</strong> – passed to the constructor of the Kind object. See also the note below.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Note on the ‘name’ parameter (that is, the name of the kind):</p>
<ul class="last simple">
<li>if specified, no checks are done on existing species. Simply,
a new kind with that name is created. If there is a name
clash, a check is done: if the kinds are identical, no error
is issued; otherwise, an error is issued because you are trying
to store two different kinds with the same name.</li>
<li>if not specified, the name is automatically generated. Before
adding the kind, a check is done. If other species with the
same properties already exist, no new kinds are created, but
the site is added to the existing (identical) kind.
(Actually, the first kind that is encountered).
Otherwise, the name is made unique first, by adding to the string
containing the list of chemical symbols a number starting from 1,
until an unique name is found</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">checks of equality of species are done using
the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.Kind.compare_with" title="aiida.orm.nodes.data.structure.Kind.compare_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare_with()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_kind</code><span class="sig-paren">(</span><em>kind</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_kind"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append a kind to the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>.
It makes a copy of the kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kind</strong> – the site to append, must be a Kind object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_site</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_site"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append a site to the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>.
It makes a copy of the site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>site</strong> – the site to append. It must be a Site object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell</code></dt>
<dd><p>Returns the cell shape.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 3x3 list of lists.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell_angles</code></dt>
<dd><p>Get the angles between the cell lattice vectors in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell_lengths</code></dt>
<dd><p>Get the lengths of cell lattice vectors in angstroms.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_kinds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.clear_kinds"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Removes all kinds for the StructureData object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Also clear all sites!</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_sites</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.clear_sites"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Removes all sites for the StructureData object.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_ase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the ASE object.
Requires to be able to import ase.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an ASE object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If any site is an alloy or has vacancies, a ValueError
is raised (from the site.get_ase() routine).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cell_volume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_cell_volume"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the cell volume in Angstrom^3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a float.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cif</code><span class="sig-paren">(</span><em>converter='ase'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_cif</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_composition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_composition"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the chemical composition of this structure as a dictionary,
where each key is the kind symbol (e.g. H, Li, Ba),
and each value is the number of occurences of that element in this
structure. For BaZrO3 it would return {‘Ba’:1, ‘Zr’:1, ‘O’:3}.
No reduction with smallest common divisor!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary with the composition</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a string with infos retrieved from StructureData node’s properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>self</strong> – the StructureData node</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">retsrt: the description string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_dimensionality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_dimensionality"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function checks the dimensionality of the structure and
calculates its length/surface/volume
:return: returns the dimensionality and length/surface/volume</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_formula</code><span class="sig-paren">(</span><em>mode='hill'</em>, <em>separator=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_formula"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string with the chemical formula.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mode</strong> – <p>a string to specify how to generate the formula, can
assume one of the following values:</p>
<ul>
<li>’hill’ (default): count the number of atoms of each species,
then use Hill notation, i.e. alphabetical order with C and H
first if one or several C atom(s) is (are) present, e.g.
<code class="docutils literal notranslate"><span class="pre">['C','H','H','H','O','C','H','H','H']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'C2H6O'</span></code>
<code class="docutils literal notranslate"><span class="pre">['S','O','O','H','O','H','O']</span></code>  will return <code class="docutils literal notranslate"><span class="pre">'H2O4S'</span></code>
From E. A. Hill, J. Am. Chem. Soc., 22 (8), pp 478–494 (1900)</li>
<li>’hill_compact’: same as hill but the number of atoms for each
species is divided by the greatest common divisor of all of them, e.g.
<code class="docutils literal notranslate"><span class="pre">['C','H','H','H','O','C','H','H','H','O','O','O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'CH3O2'</span></code></li>
<li>’reduce’: group repeated symbols e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span>
<span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'BaTiO3BaTiO3BaTi2O3'</span></code></li>
<li>’group’: will try to group as much as possible parts of the formula
e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span>
<span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'(BaTiO3)2BaTi2O3'</span></code></li>
<li>’count’: same as hill (i.e. one just counts the number
of atoms of each species) without the re-ordering (take the
order of the atomic sites), e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O','Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'Ba2Ti2O6'</span></code></li>
<li>’count_compact’: same as count but the number of atoms
for each species is divided by the greatest common divisor of
all of them, e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O','Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'BaTiO3'</span></code></li>
</ul>
</li>
<li><strong>separator</strong> – a string used to concatenate symbols. Default empty.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a string with the formula</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">in modes reduce, group, count and count_compact, the
initial order in which the atoms were appended by the user is
used to group and/or order the symbols in the formula</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kind</code><span class="sig-paren">(</span><em>kind_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_kind"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the kind object associated with the given kind name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kind_name</strong> – String, the name of the kind you want to get</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The Kind object associated with the given kind_name, if
a Kind with the given name is present in the structure.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">ValueError if the kind_name is not present.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kind_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_kind_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of kind names (in the same order of the <code class="docutils literal notranslate"><span class="pre">self.kinds</span></code>
property, but return the names rather than Kind objects)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is NOT necessarily a list of chemical symbols! Use
get_symbols_set for chemical symbols</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of strings.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get pymatgen object. Returns Structure for structures with
periodic boundary conditions (in three dimensions) and Molecule
otherwise.
:param add_spin: True to add the spins to the pymatgen structure.
Default is False (no spin added).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The spins are set according to the following rule:</p>
<ul class="last simple">
<li>if the kind name ends with 1 -&gt; spin=+1</li>
<li>if the kind name ends with 2 -&gt; spin=-1</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen_molecule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen_molecule"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the pymatgen Molecule object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Molecule object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen_structure</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the pymatgen Structure object.
:param add_spin: True to add the spins to the pymatgen structure.
Default is False (no spin added).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The spins are set according to the following rule:</p>
<ul class="last simple">
<li>if the kind name ends with 1 -&gt; spin=+1</li>
<li>if the kind name ends with 2 -&gt; spin=-1</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Structure object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if periodic boundary conditions do not hold
in at least one dimension of real space.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_site_kindnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_site_kindnames"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list with length equal to the number of sites of this structure,
where each element of the list is the kind name of the corresponding site.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is NOT necessarily a list of chemical symbols! Use
<code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">self.get_kind(s.kind_name).get_symbols_string()</span> <span class="pre">for</span> <span class="pre">s</span> <span class="pre">in</span> <span class="pre">self.sites]</span></code>
for chemical symbols</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_symbols_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_symbols_set"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a set containing the names of all elements involved in
this structure (i.e., for it joins the list of symbols for each
kind k in the structure).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a set of strings of element names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_vacancies</code></dt>
<dd><p>Return whether the structure has vacancies in the structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boolean, True if at least one kind has a vacancy</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_alloy</code></dt>
<dd><p>Return whether the structure contains any alloy kinds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boolean, True if at least one kind is an alloy</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">kinds</code></dt>
<dd><p>Returns a list of kinds.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pbc</code></dt>
<dd><p>Get the periodic boundary conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three booleans, each one tells if there are periodic
boundary conditions for the i-th real-space direction (i=1,2,3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_cell</code><span class="sig-paren">(</span><em>new_cell</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.reset_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reset the cell of a structure not yet stored to a new value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_cell</strong> – list specifying the cell vectors</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">ModificationNotAllowed: if object is already stored</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_sites_positions</code><span class="sig-paren">(</span><em>new_positions</em>, <em>conserve_particle=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.reset_sites_positions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Replace all the Site positions attached to the Structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_positions</strong> – list of (3D) positions for every sites.</li>
<li><strong>conserve_particle</strong> – if True, allows the possibility of removing a site.
currently not implemented.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if object is stored already</li>
<li><strong>ValueError</strong> – if positions are invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">it is assumed that the order of the new_positions is
given in the same order of the one it’s substituting, i.e. the
kind of the site will not be checked.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_ase</code><span class="sig-paren">(</span><em>aseatoms</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a ASE object</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen</code><span class="sig-paren">(</span><em>obj</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen_molecule</code><span class="sig-paren">(</span><em>mol</em>, <em>margin=5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen_molecule"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen Molecule object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>margin</strong> – the margin to be added in all directions of the
bounding box of the molecule.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen_structure</code><span class="sig-paren">(</span><em>struct</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen Structure object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">periodic boundary conditions are set to True in all
three directions.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.3.5, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if there are partial occupancies together with spins.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">sites</code></dt>
<dd><p>Returns a list of sites.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">UpfData</code><span class="sig-paren">(</span><em>file=None</em>, <em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Function not yet documented.</p>
<dl class="method">
<dt>
<code class="descname">_validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData._validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Ensure that there is one object stored in the repository, whose key matches value set for <cite>filename</cite> attr.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">from_md5</code><span class="sig-paren">(</span><em>md5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.from_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all UPF pseudopotentials that match a given MD5 hash.</p>
<p>Note that the hash has to be stored in a _md5 attribute, otherwise
the pseudo will not be found.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_or_create</code><span class="sig-paren">(</span><em>filepath</em>, <em>use_first=False</em>, <em>store_upf=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass the same parameter of the init; if a file with the same md5
is found, that UpfData is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filepath</strong> – an absolute filepath on disk</li>
<li><strong>use_first</strong> – if False (default), raise an exception if more than                 one potential is found.                If it is True, instead, use the first available pseudopotential.</li>
<li><strong>store_upf</strong> (<em>bool</em>) – If false, the UpfData objects are not stored in
the database. default=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return (upf, created):</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">where upf is the UpfData object, and create is either            True if the object was created, or False if the object was retrieved            from the DB.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_upf_family_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_family_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the list of all upf family names to which the pseudo belongs.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_upf_group</code><span class="sig-paren">(</span><em>group_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_group"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the UpfFamily group with the given name.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_upf_groups</code><span class="sig-paren">(</span><em>filter_elements=None</em>, <em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_groups"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all names of groups of type UpfFamily, possibly with some filters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter_elements</strong> – A string or a list of strings.
If present, returns only the groups that contains one Upf for
every element present in the list. Default=None, meaning that
all families are returned.</li>
<li><strong>user</strong> – if None (default), return the groups for all users.
If defined, it should be either a DbUser instance, or a string
for the username (that is, the user email).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>I pre-parse the file to store the attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node, reparsing the file so that the md5 and the element
are correctly reset.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.</code><code class="descname">NumericType</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/numeric.html#NumericType"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sub class of Data to store numbers, overloading common operators (<code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, …).</p>
</dd></dl>

<div class="section" id="structure">
<span id="my-ref-to-structure"></span><h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>This module defines the classes for structures and all related
functions to operate on them.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.structure.</code><code class="descname">StructureData</code><span class="sig-paren">(</span><em>cell=None</em>, <em>pbc=None</em>, <em>ase=None</em>, <em>pymatgen=None</em>, <em>pymatgen_structure=None</em>, <em>pymatgen_molecule=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class contains the information about a given structure, i.e. a
collection of sites together with a cell, the
boundary conditions (whether they are periodic or not) and other
related useful information.</p>
<dl class="method">
<dt>
<code class="descname">__init__</code><span class="sig-paren">(</span><em>cell=None</em>, <em>pbc=None</em>, <em>ase=None</em>, <em>pymatgen=None</em>, <em>pymatgen_structure=None</em>, <em>pymatgen_molecule=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>backend_entity</strong> (<a class="reference internal" href="../../apidoc/aiida.orm.implementation.html#aiida.orm.implementation.BackendEntity" title="aiida.orm.implementation.BackendEntity"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.implementation.BackendEntity</span></code></a>) – the backend model supporting this entity</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_atom</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_atom"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append an atom to the Structure, taking care of creating the
corresponding kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ase</strong> – the ase Atom object from which we want to create a new atom
(if present, this must be the only parameter)</li>
<li><strong>position</strong> – the position of the atom (three numbers in angstrom)</li>
<li><strong>symbols</strong> – passed to the constructor of the Kind object.</li>
<li><strong>weights</strong> – passed to the constructor of the Kind object.</li>
<li><strong>name</strong> – passed to the constructor of the Kind object. See also the note below.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Note on the ‘name’ parameter (that is, the name of the kind):</p>
<ul class="last simple">
<li>if specified, no checks are done on existing species. Simply,
a new kind with that name is created. If there is a name
clash, a check is done: if the kinds are identical, no error
is issued; otherwise, an error is issued because you are trying
to store two different kinds with the same name.</li>
<li>if not specified, the name is automatically generated. Before
adding the kind, a check is done. If other species with the
same properties already exist, no new kinds are created, but
the site is added to the existing (identical) kind.
(Actually, the first kind that is encountered).
Otherwise, the name is made unique first, by adding to the string
containing the list of chemical symbols a number starting from 1,
until an unique name is found</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">checks of equality of species are done using
the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.Kind.compare_with" title="aiida.orm.nodes.data.structure.Kind.compare_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare_with()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_kind</code><span class="sig-paren">(</span><em>kind</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_kind"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append a kind to the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>.
It makes a copy of the kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kind</strong> – the site to append, must be a Kind object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">append_site</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.append_site"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append a site to the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>.
It makes a copy of the site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>site</strong> – the site to append. It must be a Site object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell</code></dt>
<dd><p>Returns the cell shape.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 3x3 list of lists.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell_angles</code></dt>
<dd><p>Get the angles between the cell lattice vectors in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell_lengths</code></dt>
<dd><p>Get the lengths of cell lattice vectors in angstroms.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_kinds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.clear_kinds"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Removes all kinds for the StructureData object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Also clear all sites!</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">clear_sites</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.clear_sites"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Removes all sites for the StructureData object.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_ase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the ASE object.
Requires to be able to import ase.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an ASE object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If any site is an alloy or has vacancies, a ValueError
is raised (from the site.get_ase() routine).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cell_volume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_cell_volume"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the cell volume in Angstrom^3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a float.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cif</code><span class="sig-paren">(</span><em>converter='ase'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_cif</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_composition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_composition"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the chemical composition of this structure as a dictionary,
where each key is the kind symbol (e.g. H, Li, Ba),
and each value is the number of occurences of that element in this
structure. For BaZrO3 it would return {‘Ba’:1, ‘Zr’:1, ‘O’:3}.
No reduction with smallest common divisor!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary with the composition</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a string with infos retrieved from StructureData node’s properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>self</strong> – the StructureData node</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">retsrt: the description string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_dimensionality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_dimensionality"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function checks the dimensionality of the structure and
calculates its length/surface/volume
:return: returns the dimensionality and length/surface/volume</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_formula</code><span class="sig-paren">(</span><em>mode='hill'</em>, <em>separator=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_formula"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string with the chemical formula.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mode</strong> – <p>a string to specify how to generate the formula, can
assume one of the following values:</p>
<ul>
<li>’hill’ (default): count the number of atoms of each species,
then use Hill notation, i.e. alphabetical order with C and H
first if one or several C atom(s) is (are) present, e.g.
<code class="docutils literal notranslate"><span class="pre">['C','H','H','H','O','C','H','H','H']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'C2H6O'</span></code>
<code class="docutils literal notranslate"><span class="pre">['S','O','O','H','O','H','O']</span></code>  will return <code class="docutils literal notranslate"><span class="pre">'H2O4S'</span></code>
From E. A. Hill, J. Am. Chem. Soc., 22 (8), pp 478–494 (1900)</li>
<li>’hill_compact’: same as hill but the number of atoms for each
species is divided by the greatest common divisor of all of them, e.g.
<code class="docutils literal notranslate"><span class="pre">['C','H','H','H','O','C','H','H','H','O','O','O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'CH3O2'</span></code></li>
<li>’reduce’: group repeated symbols e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span>
<span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'BaTiO3BaTiO3BaTi2O3'</span></code></li>
<li>’group’: will try to group as much as possible parts of the formula
e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O',</span>
<span class="pre">'Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code> will return <code class="docutils literal notranslate"><span class="pre">'(BaTiO3)2BaTi2O3'</span></code></li>
<li>’count’: same as hill (i.e. one just counts the number
of atoms of each species) without the re-ordering (take the
order of the atomic sites), e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O','Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'Ba2Ti2O6'</span></code></li>
<li>’count_compact’: same as count but the number of atoms
for each species is divided by the greatest common divisor of
all of them, e.g.
<code class="docutils literal notranslate"><span class="pre">['Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O','Ba',</span> <span class="pre">'Ti',</span> <span class="pre">'O',</span> <span class="pre">'O',</span> <span class="pre">'O']</span></code>
will return <code class="docutils literal notranslate"><span class="pre">'BaTiO3'</span></code></li>
</ul>
</li>
<li><strong>separator</strong> – a string used to concatenate symbols. Default empty.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a string with the formula</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">in modes reduce, group, count and count_compact, the
initial order in which the atoms were appended by the user is
used to group and/or order the symbols in the formula</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kind</code><span class="sig-paren">(</span><em>kind_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_kind"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the kind object associated with the given kind name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kind_name</strong> – String, the name of the kind you want to get</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The Kind object associated with the given kind_name, if
a Kind with the given name is present in the structure.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">ValueError if the kind_name is not present.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kind_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_kind_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of kind names (in the same order of the <code class="docutils literal notranslate"><span class="pre">self.kinds</span></code>
property, but return the names rather than Kind objects)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is NOT necessarily a list of chemical symbols! Use
get_symbols_set for chemical symbols</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of strings.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get pymatgen object. Returns Structure for structures with
periodic boundary conditions (in three dimensions) and Molecule
otherwise.
:param add_spin: True to add the spins to the pymatgen structure.
Default is False (no spin added).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The spins are set according to the following rule:</p>
<ul class="last simple">
<li>if the kind name ends with 1 -&gt; spin=+1</li>
<li>if the kind name ends with 2 -&gt; spin=-1</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen_molecule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen_molecule"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the pymatgen Molecule object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Molecule object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_pymatgen_structure</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_pymatgen_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the pymatgen Structure object.
:param add_spin: True to add the spins to the pymatgen structure.
Default is False (no spin added).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The spins are set according to the following rule:</p>
<ul class="last simple">
<li>if the kind name ends with 1 -&gt; spin=+1</li>
<li>if the kind name ends with 2 -&gt; spin=-1</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a pymatgen Structure object corresponding to this
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructureData</span></code></a>
object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if periodic boundary conditions do not hold
in at least one dimension of real space.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_site_kindnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_site_kindnames"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list with length equal to the number of sites of this structure,
where each element of the list is the kind name of the corresponding site.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is NOT necessarily a list of chemical symbols! Use
<code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">self.get_kind(s.kind_name).get_symbols_string()</span> <span class="pre">for</span> <span class="pre">s</span> <span class="pre">in</span> <span class="pre">self.sites]</span></code>
for chemical symbols</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_symbols_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.get_symbols_set"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a set containing the names of all elements involved in
this structure (i.e., for it joins the list of symbols for each
kind k in the structure).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a set of strings of element names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_vacancies</code></dt>
<dd><p>Return whether the structure has vacancies in the structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boolean, True if at least one kind has a vacancy</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_alloy</code></dt>
<dd><p>Return whether the structure contains any alloy kinds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boolean, True if at least one kind is an alloy</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">kinds</code></dt>
<dd><p>Returns a list of kinds.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pbc</code></dt>
<dd><p>Get the periodic boundary conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three booleans, each one tells if there are periodic
boundary conditions for the i-th real-space direction (i=1,2,3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_cell</code><span class="sig-paren">(</span><em>new_cell</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.reset_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reset the cell of a structure not yet stored to a new value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_cell</strong> – list specifying the cell vectors</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">ModificationNotAllowed: if object is already stored</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_sites_positions</code><span class="sig-paren">(</span><em>new_positions</em>, <em>conserve_particle=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.reset_sites_positions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Replace all the Site positions attached to the Structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_positions</strong> – list of (3D) positions for every sites.</li>
<li><strong>conserve_particle</strong> – if True, allows the possibility of removing a site.
currently not implemented.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.ModificationNotAllowed" title="aiida.common.ModificationNotAllowed"><strong>aiida.common.ModificationNotAllowed</strong></a> – if object is stored already</li>
<li><strong>ValueError</strong> – if positions are invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">it is assumed that the order of the new_positions is
given in the same order of the one it’s substituting, i.e. the
kind of the site will not be checked.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_ase</code><span class="sig-paren">(</span><em>aseatoms</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a ASE object</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen</code><span class="sig-paren">(</span><em>obj</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen_molecule</code><span class="sig-paren">(</span><em>mol</em>, <em>margin=5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen_molecule"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen Molecule object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>margin</strong> – the margin to be added in all directions of the
bounding box of the molecule.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.0.13, usage
of earlier versions may cause errors).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_pymatgen_structure</code><span class="sig-paren">(</span><em>struct</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#StructureData.set_pymatgen_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the structure from a pymatgen Structure object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">periodic boundary conditions are set to True in all
three directions.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the pymatgen module (version &gt;= 3.3.5, usage
of earlier versions may cause errors).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if there are partial occupancies together with spins.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">sites</code></dt>
<dd><p>Returns a list of sites.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.structure.</code><code class="descname">Kind</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class contains the information about the species (kinds) of the system.</p>
<p>It can be a single atom, or an alloy, or even contain vacancies.</p>
<dl class="method">
<dt>
<code class="descname">__init__</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a site.
One can either pass:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>raw</strong> – the raw python dictionary that will be converted to a
Kind object.</li>
<li><strong>ase</strong> – an ase Atom object</li>
<li><strong>kind</strong> – a Kind object (to get a copy)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Or alternatively the following parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>symbols</strong> – a single string for the symbol of this site, or a list
of symbol strings</li>
<li><strong>weights</strong> – (optional) the weights for each atomic species of
this site.
If only a single symbol is provided, then this value is
optional and the weight is set to 1.</li>
<li><strong>mass</strong> – (optional) the mass for this site in atomic mass units.
If not provided, the mass is set by the
self.reset_mass() function.</li>
<li><strong>name</strong> – a string that uniquely identifies the kind, and that
is used to identify the sites.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">compare_with</code><span class="sig-paren">(</span><em>other_kind</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind.compare_with"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compare with another Kind object to check if they are different.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This does NOT check the ‘type’ attribute. Instead, it compares
(with reasonable thresholds, where applicable): the mass, and the list
of symbols and of weights. Moreover, it compares the
<code class="docutils literal notranslate"><span class="pre">_internal_tag</span></code>, if defined (at the moment, defined automatically
only when importing the Kind from ASE, if the atom has a non-zero tag).
Note that the _internal_tag is only used while the class is loaded,
but is not persisted on the database.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple with two elements. The first one is True if the two sites
are ‘equivalent’ (same mass, symbols and weights), False otherwise.
The second element of the tuple is a string,
which is either None (if the first element was True), or contains
a ‘human-readable’ description of the first difference encountered
between the two sites.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_raw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind.get_raw"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the raw version of the site, mapped to a suitable dictionary.
This is the format that is actually used to store each kind of the
structure in the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a python dictionary with the kind.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_symbols_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind.get_symbols_string"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string that tries to match as good as possible the symbols
of this kind. If there is only one symbol (no alloy) with 100%
occupancy, just returns the symbol name. Otherwise, groups the full
string in curly brackets, and try to write also the composition
(with 2 precision only).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If there is a vacancy (sum of weights&lt;1), we indicate it
with the X symbol followed by 1-sum(weights) (still with 2
digits precision, so it can be 0.00)</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note the difference with respect to the symbols and the
symbol properties!</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_vacancies</code></dt>
<dd><p>Return whether the Kind contains vacancies, i.e. when the sum of the weights is less than one.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the property uses the internal variable <cite>_sum_threshold</cite> as a threshold.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if the sum of the weights is less than one, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_alloy</code></dt>
<dd><p>Return whether the Kind is an alloy, i.e. contains more than one element</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if the kind has more than one element, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">mass</code></dt>
<dd><p>The mass of this species kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">name</code></dt>
<dd><p>Return the name of this kind.
The name of a kind is used to identify the species of a site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reset_mass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind.reset_mass"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reset the mass to the automatic calculated value.</p>
<p>The mass can be set manually; by default, if not provided,
it is the mass of the constituent atoms, weighted with their
weight (after the weight has been normalized to one to take
correctly into account vacancies).</p>
<p>This function uses the internal _symbols and _weights values and
thus assumes that the values are validated.</p>
<p>It sets the mass to None if the sum of weights is zero.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_automatic_kind_name</code><span class="sig-paren">(</span><em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind.set_automatic_kind_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the type to a string obtained with the symbols appended one
after the other, without spaces, in alphabetical order;
if the site has a vacancy, a X is appended at the end too.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_symbols_and_weights</code><span class="sig-paren">(</span><em>symbols</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Kind.set_symbols_and_weights"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the chemical symbols and the weights for the site.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the kind name remains unchanged.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">symbol</code></dt>
<dd><p>If the kind has only one symbol, return it; otherwise, raise a
ValueError.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">symbols</code></dt>
<dd><p>List of symbols for this site. If the site is a single atom,
pass a list of one element only, or simply the string for that atom.
For alloys, a list of elements.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that if you change the list of symbols, the kind
name remains unchanged.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">weights</code></dt>
<dd><p>Weights for this species kind. Refer also to
:func:validate_symbols_tuple for the validation rules on the weights.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.structure.</code><code class="descname">Site</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Site"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class contains the information about a given site of the system.</p>
<p>It can be a single atom, or an alloy, or even contain vacancies.</p>
<dl class="method">
<dt>
<code class="descname">__init__</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Site.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kind_name</strong> – a string that identifies the kind (species) of this site.
This has to be found in the list of kinds of the StructureData
object.
Validation will be done at the StructureData level.</li>
<li><strong>position</strong> – the absolute position (three floats) in angstrom</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_ase</code><span class="sig-paren">(</span><em>kinds</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Site.get_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a ase.Atom object for this site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kinds</strong> – the list of kinds from the StructureData object.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If any site is an alloy or has vacancies, a ValueError
is raised (from the site.get_ase() routine).</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_raw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/structure.html#Site.get_raw"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the raw version of the site, mapped to a suitable dictionary.
This is the format that is actually used to store each site of the
structure in the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a python dictionary with the site.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">kind_name</code></dt>
<dd><p>Return the kind name of this site (a string).</p>
<p>The type of a site is used to decide whether two sites are identical
(same mass, symbols, weights, …) or not.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">position</code></dt>
<dd><p>Return the position of this site in absolute coordinates,
in angstrom.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="folder">
<h2>Folder<a class="headerlink" href="#folder" title="Permalink to this headline">¶</a></h2>
<p><cite>Data</cite> sub class to represent a folder on a file system.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.folder.</code><code class="descname">FolderData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/folder.html#FolderData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a folder on a file system.</p>
</dd></dl>

</div>
<div class="section" id="singlefile">
<h2>Singlefile<a class="headerlink" href="#singlefile" title="Permalink to this headline">¶</a></h2>
<p>Data class that can be used to store a single file in its repository.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.singlefile.</code><code class="descname">SinglefileData</code><span class="sig-paren">(</span><em>file</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Data class that can be used to store a single file in its repository.</p>
<dl class="attribute">
<dt>
<code class="descname">filename</code></dt>
<dd><p>Return the name of the file stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the filename under which the file is stored in the repository</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.get_content"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the content of the single file stored for this data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the content of the file as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">open</code><span class="sig-paren">(</span><em>key=None</em>, <em>mode='r'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.open"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an open file handle to the content of this data node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – optional key within the repository, by default is the <cite>filename</cite> set in the attributes</li>
<li><strong>mode</strong> – the mode with which to open the file handle (default: read mode)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a file handle</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/singlefile.html#SinglefileData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the content of the file in the node’s repository, deleting any other existing objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> – an absolute filepath or filelike object whose contents to copy
Hint: Pass io.StringIO(“my string”) to construct the file directly from a string.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="upf">
<h2>Upf<a class="headerlink" href="#upf" title="Permalink to this headline">¶</a></h2>
<p>This module manages the UPF pseudopotentials in the local repository.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.upf.</code><code class="descname">UpfData</code><span class="sig-paren">(</span><em>file=None</em>, <em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Function not yet documented.</p>
<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">from_md5</code><span class="sig-paren">(</span><em>md5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.from_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all UPF pseudopotentials that match a given MD5 hash.</p>
<p>Note that the hash has to be stored in a _md5 attribute, otherwise
the pseudo will not be found.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_or_create</code><span class="sig-paren">(</span><em>filepath</em>, <em>use_first=False</em>, <em>store_upf=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass the same parameter of the init; if a file with the same md5
is found, that UpfData is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filepath</strong> – an absolute filepath on disk</li>
<li><strong>use_first</strong> – if False (default), raise an exception if more than                 one potential is found.                If it is True, instead, use the first available pseudopotential.</li>
<li><strong>store_upf</strong> (<em>bool</em>) – If false, the UpfData objects are not stored in
the database. default=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return (upf, created):</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">where upf is the UpfData object, and create is either            True if the object was created, or False if the object was retrieved            from the DB.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_upf_family_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_family_names"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the list of all upf family names to which the pseudo belongs.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_upf_group</code><span class="sig-paren">(</span><em>group_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_group"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the UpfFamily group with the given name.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_upf_groups</code><span class="sig-paren">(</span><em>filter_elements=None</em>, <em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.get_upf_groups"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return all names of groups of type UpfFamily, possibly with some filters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter_elements</strong> – A string or a list of strings.
If present, returns only the groups that contains one Upf for
every element present in the list. Default=None, meaning that
all families are returned.</li>
<li><strong>user</strong> – if None (default), return the groups for all users.
If defined, it should be either a DbUser instance, or a string
for the username (that is, the user email).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>I pre-parse the file to store the attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/upf.html#UpfData.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node, reparsing the file so that the md5 and the element
are correctly reset.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cif">
<h2>Cif<a class="headerlink" href="#cif" title="Permalink to this headline">¶</a></h2>
<p>Tools for handling Crystallographic Information Files (CIF)</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.cif.</code><code class="descname">CifData</code><span class="sig-paren">(</span><em>ase=None</em>, <em>file=None</em>, <em>values=None</em>, <em>source=None</em>, <em>scan_type='standard'</em>, <em>parse_policy='eager'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Wrapper for Crystallographic Interchange File (CIF)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the file (physical) is held as the authoritative source of
information, so all conversions are done through the physical file:
when setting <code class="docutils literal notranslate"><span class="pre">ase</span></code> or <code class="docutils literal notranslate"><span class="pre">values</span></code>, a physical CIF file is generated
first, the values are updated from the physical CIF file.</p>
</div>
<dl class="attribute">
<dt>
<code class="descname">ase</code></dt>
<dd><p>ASE object, representing the CIF.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires ASE module.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">from_md5</code><span class="sig-paren">(</span><em>md5</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.from_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all CIF files that match a given MD5 hash.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the hash has to be stored in a <code class="docutils literal notranslate"><span class="pre">_md5</span></code> attribute,
otherwise the CIF file will not be found.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">generate_md5</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.generate_md5"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Computes and returns MD5 hash of the CIF file.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_ase</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns ASE object, representing the CIF. This function differs
from the property <code class="docutils literal notranslate"><span class="pre">ase</span></code> by the possibility to pass the keyworded
arguments (kwargs) to ase.io.cif.read_cif().</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires ASE module.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_formulae</code><span class="sig-paren">(</span><em>mode='sum'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_formulae"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return chemical formulae specified in CIF file.</p>
<p>Note: This does not compute the formula, it only reads it from the
appropriate tag. Use refine_inline to compute formulae.</p>
</dd></dl>

<dl class="classmethod">
<dt>
<em class="property">classmethod </em><code class="descname">get_or_create</code><span class="sig-paren">(</span><em>filename</em>, <em>use_first=False</em>, <em>store_cif=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_or_create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pass the same parameter of the init; if a file with the same md5
is found, that CifData is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – an absolute filename on disk</li>
<li><strong>use_first</strong> – if False (default), raise an exception if more than                 one CIF file is found.                If it is True, instead, use the first available CIF file.</li>
<li><strong>store_cif</strong> (<em>bool</em>) – If false, the CifData objects are not stored in
the database. default=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return (cif, created):</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">where cif is the CifData object, and create is either            True if the object was created, or False if the object was retrieved            from the DB.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_spacegroup_numbers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_spacegroup_numbers"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the spacegroup international number.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_structure</code><span class="sig-paren">(</span><em>converter='pymatgen'</em>, <em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.get_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_aiida_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘pymatgen’.</li>
<li><strong>store</strong> – if True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
<li><strong>primitive_cell</strong> – if True, primitive cell is returned,
conventional cell if False. Default False.</li>
<li><strong>occupancy_tolerance</strong> – If total occupancy of a site is between 1 and occupancy_tolerance,
the occupancies will be scaled down to 1. (pymatgen only)</li>
<li><strong>site_tolerance</strong> – This tolerance is used to determine if two sites are sitting in the same position,
in which case they will be combined to a single disordered site. Defaults to 1e-4. (pymatgen only)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_atomic_sites</code></dt>
<dd><p>Returns whether there are any atomic sites defined in the cif data. That
is to say, it will check all the values for the <cite>_atom_site_fract_*</cite> tags
and if they are all equal to <cite>?</cite> that means there are no relevant atomic
sites defined and the function will return False. In all other cases the
function will return True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">False when at least one atomic site fractional coordinate is not
equal to <cite>?</cite> and True otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_attached_hydrogens</code></dt>
<dd><p>Check if there are hydrogens without coordinates, specified as attached
to the atoms of the structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if there are attached hydrogens, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_partial_occupancies</code></dt>
<dd><p>Return if the cif data contains partial occupancies</p>
<p>A partial occupancy is defined as site with an occupancy that differs from unity, within a precision of 1E-6</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if there are partial occupancies, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_undefined_atomic_sites</code></dt>
<dd><p>Return whether the cif data contains any undefined atomic sites.</p>
<p>An undefined atomic site is defined as a site where at least one of the fractional coordinates specified in the
<cite>_atom_site_fract_*</cite> tags, cannot be successfully interpreted as a float. If the cif data contains any site that
matches this description, or it does not contain any atomic site tags at all, the cif data is said to have
undefined atomic sites.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if no atomic sites are defined or if any of the defined sites contain undefined positions
and False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">has_unknown_species</code></dt>
<dd><p>Returns whether the cif contains atomic species that are not recognized by AiiDA.</p>
<p>The known species are taken from the elements dictionary in <cite>aiida.common.constants</cite>, with the exception of
the “unknown” placeholder element with symbol ‘X’, as this could not be used to construct a real structure.
If any of the formula of the cif data contain species that are not in that elements dictionary, the function
will return True and False in all other cases. If there is no formulae to be found, it will return None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True when there are unknown species in any of the formulae, False if not, None if no formula found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">parse</code><span class="sig-paren">(</span><em>scan_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.parse"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Parses CIF file and sets attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scan_type</strong> – See set_scan_type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt>
<em class="property">static </em><code class="descname">read_cif</code><span class="sig-paren">(</span><em>fileobj</em>, <em>index=-1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.read_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A wrapper method that simulates the behavior of the old
function ase.io.cif.read_cif by using the new generic ase.io.read
function.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_ase</code><span class="sig-paren">(</span><em>aseatoms</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the contents of the CifData starting from an ASE atoms object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>aseatoms</strong> – the ASE atoms object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_file</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the file.</p>
<p>If the source is set and the MD5 checksum of new file
is different from the source, the source has to be deleted.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_parse_policy</code><span class="sig-paren">(</span><em>parse_policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_parse_policy"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the parse policy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parse_policy</strong> – Either ‘eager’ (parse CIF file on set_file)
or ‘lazy’ (defer parsing until needed)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_scan_type</code><span class="sig-paren">(</span><em>scan_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_scan_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the scan_type for PyCifRW.</p>
<p>The ‘flex’ scan_type of PyCifRW is faster for large CIF files but
does not yet support the CIF2 format as of 02/2018.
See the CifFile.ReadCif function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scan_type</strong> – Either ‘standard’ or ‘flex’ (see _scan_types)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_values</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.set_values"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set internal representation to <cite>values</cite>.</p>
<p>Warning: This also writes a new CIF file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>values</strong> – PyCifRW CifFile object</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires PyCifRW module.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">store</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#CifData.store"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the node.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">values</code></dt>
<dd><p>PyCifRW structure, representing the CIF datablocks.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">requires PyCifRW module.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.cif.</code><code class="descname">cif_from_ase</code><span class="sig-paren">(</span><em>ase</em>, <em>full_occupancies=False</em>, <em>add_fake_biso=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#cif_from_ase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Construct a CIF datablock from the ASE structure. The code is taken
from
<a class="reference external" href="https://wiki.fysik.dtu.dk/ase/epydoc/ase.io.cif-pysrc.html#write_cif">https://wiki.fysik.dtu.dk/ase/epydoc/ase.io.cif-pysrc.html#write_cif</a>,
as the original ASE code contains a bug in printing the
Hermann-Mauguin symmetry space group symbol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ase</strong> – ASE “images”</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">array of CIF datablocks</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.cif.</code><code class="descname">has_pycifrw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#has_pycifrw"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the PyCifRW module can be imported, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.cif.</code><code class="descname">parse_formula</code><span class="sig-paren">(</span><em>formula</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#parse_formula"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Parses the Hill formulae, written with spaces for separators.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.cif.</code><code class="descname">pycifrw_from_cif</code><span class="sig-paren">(</span><em>datablocks</em>, <em>loops=None</em>, <em>names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/cif.html#pycifrw_from_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Constructs PyCifRW’s CifFile from an array of CIF datablocks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>datablocks</strong> – an array of CIF datablocks</li>
<li><strong>loops</strong> – optional dict of lists of CIF tag loops.</li>
<li><strong>names</strong> – optional list of datablock names</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">CifFile</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="parameter">
<h2>Parameter<a class="headerlink" href="#parameter" title="Permalink to this headline">¶</a></h2>
<p><cite>Data</cite> sub class to represent a dictionary.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.dict.</code><code class="descname">Dict</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a dictionary.</p>
<dl class="attribute">
<dt>
<code class="descname">dict</code></dt>
<dd><p>Return an instance of <cite>AttributeManager</cite> that transforms the dictionary into an attribute dict.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this will allow one to do <cite>node.dict.key</cite> as well as <cite>node.dict[key]</cite>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of the <cite>AttributeResultManager</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.get_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a dictionary with the parameters currently set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.keys"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator of valid keys stored in the Dict object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">iterator over the keys of the current dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.set_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Replace the current dictionary with another one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dictionary</strong> – dictionary to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/dict.html#Dict.update_dict"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update the current dictionary with the keys provided in the dictionary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">works exactly as <cite>dict.update()</cite> where new keys are simply added and existing keys are overwritten.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dictionary</strong> – a dictionary with the keys to substitute</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="remote">
<h2>Remote<a class="headerlink" href="#remote" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.remote.</code><code class="descname">RemoteData</code><span class="sig-paren">(</span><em>remote_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a link to a file or folder on a remote machine.</p>
<p>Remember to pass a computer!</p>
<dl class="method">
<dt>
<code class="descname">getfile</code><span class="sig-paren">(</span><em>relpath</em>, <em>destpath</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.getfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and gets a string with the (full) content of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>relpath</strong> – The relative path of the file to show.</li>
<li><strong>destpath</strong> – A path on the local computer to get the file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a string with the file content</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_empty</code></dt>
<dd><p>Check if remote folder is empty</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">listdir</code><span class="sig-paren">(</span><em>relpath='.'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.listdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and lists the directory content.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>relpath</strong> – If ‘relpath’ is specified, lists the content of the given subfolder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a flat list of file/directory names (as strings).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">listdir_withattributes</code><span class="sig-paren">(</span><em>path='.'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/remote.html#RemoteData.listdir_withattributes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Connects to the remote folder and lists the directory content.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>relpath</strong> – If ‘relpath’ is specified, lists the content of the given subfolder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of dictionaries, where the documentation is in :py:class:Transport.listdir_withattributes.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="orbitaldata">
<h2>OrbitalData<a class="headerlink" href="#orbitaldata" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.orbital.</code><code class="descname">OrbitalData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Used for storing collections of orbitals, as well as
providing methods for accessing them internally.</p>
<dl class="method">
<dt>
<code class="descname">clear_orbitals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.clear_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove all orbitals that were added to the class
Cannot work if OrbitalData has been already stored</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_orbitals</code><span class="sig-paren">(</span><em>with_tags=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.get_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns all orbitals by default. If a site is provided, returns
all orbitals cooresponding to the location of that site, additional
arguments may be provided, which act as filters on the retrieved
orbitals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>site</strong> – if provided, returns all orbitals with position of site</li>
<li><strong>with_tags</strong> – if provided returns all tags stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Kwargs:</th><td class="field-body"><p class="first">attributes than can filter the set of returned orbitals</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return list_of_outputs:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first last">a list of orbitals and also tags if
with_tags was set to True</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_orbitals</code><span class="sig-paren">(</span><em>orbital</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/orbital.html#OrbitalData.set_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the orbitals into the database. Uses the orbital’s inherent
set_orbital_dict method to generate a orbital dict string at is stored
along with the tags, if provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>orbital</strong> – an orbital or list of orbitals to be set</li>
<li><strong>tag</strong> – a list of strings must be of length orbital</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="arraydata">
<h2>ArrayData<a class="headerlink" href="#arraydata" title="Permalink to this headline">¶</a></h2>
<p>Module with <cite>Node</cite> sub classes for array based data structures.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.</code><code class="descname">ArrayData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a set of arrays on disk (rather than on the database) in an efficient
way using numpy.save() (therefore, this class requires numpy to be
installed).</p>
<p>Each array is stored within the Node folder as a different .npy file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">Before storing, no caching is done: if you perform a
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.ArrayData.get_array" title="aiida.orm.nodes.data.array.ArrayData.get_array"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_array()</span></code></a> call, the array will be re-read from disk.
If instead the ArrayData node has already been stored,
the array is cached in memory after the first read, and the cached array
is used thereafter.
If too much RAM memory is used, you can clear the
cache with the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.ArrayData.clear_internal_cache" title="aiida.orm.nodes.data.array.ArrayData.clear_internal_cache"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_internal_cache()</span></code></a> method.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">clear_internal_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.clear_internal_cache"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Clear the internal memory cache where the arrays are stored after being
read from disk (used in order to reduce at minimum the readings from
disk).
This function is useful if you want to keep the node in memory, but you
do not want to waste memory to cache the arrays in RAM.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_array</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.delete_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete an array from the node. Can only be called before storing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array to delete from the node.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_array</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an array stored in the node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array to return.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_arraynames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_arraynames"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a list of all arrays stored in the node, listing the files (and
not relying on the properties).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from arraynames</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_iterarrays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_iterarrays"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator that returns tuples (name, array) for each array stored in the
node.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from iterarrays</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_shape</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.get_shape"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the shape of an array (read from the value cached in the
properties for efficiency reasons).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – The name of the array.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.initialize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Initialize internal variables for the backend node</p>
<p>This needs to be called explicitly in each specific subclass implementation of the init.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">iterarrays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.iterarrays"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Iterator that returns tuples (name, array) for each array stored in the
node.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_array</code><span class="sig-paren">(</span><em>name</em>, <em>array</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/array.html#ArrayData.set_array"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store a new numpy array inside the node. Possibly overwrite the array
if it already existed.</p>
<p>Internally, it stores a name.npy file in numpy format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – The name of the array.</li>
<li><strong>array</strong> – The numpy array to store.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.</code><code class="descname">BandsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle bands data</p>
<dl class="attribute">
<dt>
<code class="descname">array_labels</code></dt>
<dd><p>Get the labels associated with the band arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_bands</code><span class="sig-paren">(</span><em>also_occupations=False</em>, <em>also_labels=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.get_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns an array (nkpoints x num_bands or nspins x nkpoints x num_bands)
of energies.
:param also_occupations: if True, returns also the occupations array.
Default = False</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_bands</code><span class="sig-paren">(</span><em>bands</em>, <em>units=None</em>, <em>occupations=None</em>, <em>labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an array of band energies of dimension (nkpoints x nbands).
Kpoints must be set in advance. Can contain floats or None.
:param bands: a list of nkpoints lists of nbands bands, or a 2D array
of shape (nkpoints x nbands), with band energies for each kpoint
:param units: optional, energy units
:param occupations: optional, a 2D list or array of floats of same
shape as bands, with the occupation associated to each band</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpointsdata</code><span class="sig-paren">(</span><em>kpointsdata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_kpointsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the kpoints from a kpoint object.
:param kpointsdata: an instance of KpointsData class</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.show_mpl"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Call a show() command for the band structure using matplotlib.
This uses internally the ‘mpl_singlefile’ format, with empty
main_file_name.</p>
<p>Other kwargs are passed to self._exportcontent.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">units</code></dt>
<dd><p>Units in which the data in bands were stored. A string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.</code><code class="descname">KpointsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle array of kpoints in the Brillouin zone. Provide methods to
generate either user-defined k-points or path of k-points along symmetry
lines.
Internally, all k-points are defined in terms of crystal (fractional)
coordinates.
Cell and lattice vector coordinates are in Angstroms, reciprocal lattice
vectors in Angstrom^-1 .
:note: The methods setting and using the Bravais lattice info assume the
PRIMITIVE unit cell is provided in input to the set_cell or
set_cell_from_structure methods.</p>
<dl class="attribute">
<dt>
<code class="descname">bravais_lattice</code></dt>
<dd><p>The dictionary containing informations about the cell symmetry</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell</code></dt>
<dd><p>The crystal unit cell. Rows are the crystal vectors in Angstroms.
:return: a 3x3 numpy.array</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">find_bravais_lattice</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.find_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Analyze the symmetry of the cell. Allows to relax or tighten the
thresholds used to compare angles and lengths of the cell. Save the
information of the cell used for later use (like getting special
points). It has to be used if the user wants to be sure the right
symmetries are recognized. Otherwise, this function is automatically
called with the default values.</p>
<p>If the right symmetry is not found, be sure also you are providing cells
with enough digits.</p>
<p>If node is already stored, just returns the symmetry found before
storing (if any).</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Return (str) lattice_name:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">the name of the bravais lattice and its
eventual variation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a string with infos retrieved from  kpoints node’s properties.
:param node:
:return: retstr</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints</code><span class="sig-paren">(</span><em>also_weights=False</em>, <em>cartesian=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>also_weights</strong> – if True, returns also the list of weights.
Default = False</li>
<li><strong>cartesian</strong> – if True, returns points in cartesian coordinates,
otherwise, returns in crystal coordinates. Default = False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints_mesh</code><span class="sig-paren">(</span><em>print_list=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the mesh of kpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>print_list</strong> – default=False. If True, prints the mesh of kpoints as a list</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if no mesh has been set</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return mesh,offset:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">(if print_list=False) a list of 3 integers and a list of three
floats 0&lt;x&lt;1, representing the mesh and the offset of kpoints</td>
</tr>
<tr class="field-even field"><th class="field-name">Return kpoints:</th><td class="field-body">(if print_list = True) an explicit list of kpoints coordinates,
similar to what returned by get_kpoints()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_special_points</code><span class="sig-paren">(</span><em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_special_points"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the special point and path of a given structure.</p>
<p>References:</p>
<ul class="simple">
<li>In 2D, coordinates are based on the paper:
R. Ramirez and M. C. Bohm,  Int. J. Quant. Chem., XXX, pp. 391-411 (1986)</li>
<li>In 3D, coordinates are based on the paper:
W. Setyawan, S. Curtarolo, Comp. Mat. Sci. 49, 299 (2010)</li>
</ul>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cartesian</strong> – If true, returns points in cartesian coordinates.
Crystal coordinates otherwise. Default=False</li>
<li><strong>epsilon_length</strong> – threshold on lengths comparison, used to get the bravais lattice info</li>
<li><strong>epsilon_angle</strong> – threshold on angles comparison, used to get the bravais lattice info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns point_coords:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">a dictionary of point_name:point_coords key,values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns path:</th><td class="field-body"><p class="first">the suggested path which goes through all high symmetry lines.
A list of lists for all path segments. e.g. [(‘G’,’X’),(‘X’,’M’),…]
It’s not necessarily a continuous line.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">We assume that the cell given by the cell property is the primitive unit cell</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">labels</code></dt>
<dd><p>Labels associated with the list of kpoints.
List of tuples with kpoint index and kpoint name: <code class="docutils literal notranslate"><span class="pre">[(0,'G'),(13,'M'),...]</span></code></p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pbc</code></dt>
<dd><p>The periodic boundary conditions along the vectors a1,a2,a3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three booleans, each one tells if there are periodic
boundary conditions for the i-th real-space direction (i=1,2,3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">reciprocal_cell</code></dt>
<dd><p>Return the reciprocal cell in units of 1/Angstrom from the internally set cell</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell</code><span class="sig-paren">(</span><em>cell</em>, <em>pbc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis.
To set a cell from an AiiDA structure, use “set_cell_from_structure”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cell</strong> – 3x3 matrix of cell vectors. Orientation: each row
represent a lattice vector. Units are Angstroms.</li>
<li><strong>pbc</strong> – list of 3 booleans, True if in the nth crystal direction the
structure is periodic. Default = [True,True,True]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell_from_structure</code><span class="sig-paren">(</span><em>structuredata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell_from_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis from an AiiDA structure.
Inherits both the cell and the pbc’s.
To set manually a cell, use “set_cell”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structuredata</strong> – an instance of StructureData</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints</code><span class="sig-paren">(</span><em>kpoints</em>, <em>cartesian=False</em>, <em>labels=None</em>, <em>weights=None</em>, <em>fill_values=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the list of kpoints. If a mesh has already been stored, raise a
ModificationNotAllowed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kpoints</strong> – <p>a list of kpoints, each kpoint being a list of one, two
or three coordinates, depending on self.pbc: if structure is 1D
(only one True in self.pbc) one allows singletons or scalars for
each k-point, if it’s 2D it can be a length-2 list, and in all
cases it can be a length-3 list.
Examples:</p>
<blockquote>
<div><ul>
<li>[[0.,0.,0.],[0.1,0.1,0.1],…] for 1D, 2D or 3D</li>
<li>[[0.,0.],[0.1,0.1,],…] for 1D or 2D</li>
<li>[[0.],[0.1],…] for 1D</li>
<li>[0., 0.1, …] for 1D (list of scalars)</li>
</ul>
</div></blockquote>
<p>For 0D (all pbc are False), the list can be any of the above
or empty - then only Gamma point is set.
The value of k for the non-periodic dimension(s) is set by
fill_values</p>
</li>
<li><strong>cartesian</strong> – if True, the coordinates given in input are treated
as in cartesian units. If False, the coordinates are crystal,
i.e. in units of b1,b2,b3. Default = False</li>
<li><strong>labels</strong> – optional, the list of labels to be set for some of the
kpoints. See labels for more info</li>
<li><strong>weights</strong> – optional, a list of floats with the weight associated
to the kpoint list</li>
<li><strong>fill_values</strong> – scalar to be set to all
non-periodic dimensions (indicated by False in self.pbc), or list of
values for each of the non-periodic dimensions.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh</code><span class="sig-paren">(</span><em>mesh</em>, <em>offset=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set KpointsData to represent a uniformily spaced mesh of kpoints in the
Brillouin zone. This excludes the possibility of set/get kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mesh</strong> – a list of three integers, representing the size of the
kpoint mesh along b1,b2,b3.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
[1.,1.,1.] by periodicity should be equivalent to [0.,0.,0.]
Default = [0.,0.,0.].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh_from_density</code><span class="sig-paren">(</span><em>distance</em>, <em>offset=None</em>, <em>force_parity=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh_from_density"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a kpoints mesh using a kpoints density, expressed as the maximum
distance between adjacent points along a reciprocal axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>distance</strong> – distance (in 1/Angstrom) between adjacent
kpoints, i.e. the number of kpoints along each reciprocal
axis i is <span class="math">|b_i|/distance</span>
where <span class="math">|b_i|</span> is the norm of the reciprocal cell vector.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
Default = [0.,0.,0.].</li>
<li><strong>force_parity</strong> – (optional) if True, force each integer in the mesh
to be even (except for the non-periodic directions).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first">a cell should be defined first.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">the number of kpoints along non-periodic axes is always 1.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_path</code><span class="sig-paren">(</span><em>value=None</em>, <em>kpoint_distance=None</em>, <em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_path"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a path of kpoints in the Brillouin zone.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – <p>description of the path, in various possible formats.</p>
<p>None: automatically sets all irreducible high symmetry paths.
Requires that a cell was set</p>
<p>or</p>
<p>[(‘G’,’M’), (…), …]
[(‘G’,’M’,30), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1)), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1),30), (…), …]</p>
</li>
<li><strong>cartesian</strong> (<em>bool</em>) – if set to true, reads the coordinates eventually
passed in value as cartesian coordinates. Default: False.</li>
<li><strong>kpoint_distance</strong> (<em>float</em>) – parameter controlling the distance between
kpoints. Distance is given in crystal coordinates, i.e. the distance
is computed in the space of b1,b2,b3. The distance set will be the
closest possible to this value, compatible with the requirement of
putting equispaced points between two special points (since extrema
are included).</li>
<li><strong>epsilon_length</strong> (<em>float</em>) – threshold on lengths comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
<li><strong>epsilon_angle</strong> (<em>float</em>) – threshold on angles comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.</code><code class="descname">ProjectionData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A class to handle arrays of projected wavefunction data. That is projections
of a orbitals, usually an atomic-hydrogen orbital, onto a
given bloch wavefunction, the bloch wavefunction being indexed by
s, n, and k. E.g. the elements are the projections described as
&lt; orbital | Bloch wavefunction (s,n,k) &gt;</p>
<dl class="method">
<dt>
<code class="descname">get_pdos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_pdos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, energy array and pdos
array associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_projections</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_projections"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, and projection arrays
associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_reference_bandsdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the reference BandsData, using the set uuid via
set_reference_bandsdata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BandsData instance</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AttributeError</strong> – if the bandsdata has not been set yet</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.NotExistent" title="aiida.common.exceptions.NotExistent"><strong>exceptions.NotExistent</strong></a> – if the bandsdata uuid did not retrieve bandsdata</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_orbitals</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method is inherited from OrbitalData, but is blocked here.
If used will raise a NotImplementedError</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_projectiondata</code><span class="sig-paren">(</span><em>list_of_orbitals</em>, <em>list_of_projections=None</em>, <em>list_of_energy=None</em>, <em>list_of_pdos=None</em>, <em>tags=None</em>, <em>bands_check=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_projectiondata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores the projwfc_array using the projwfc_label, after validating both.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list_of_orbitals</strong> – list of orbitals, of class orbital data.
They should be the ones up on which the
projection array corresponds with.</li>
<li><strong>list_of_projections</strong> – list of arrays of projections of a atomic
wavefunctions onto bloch wavefunctions. Since the
projection is for every bloch wavefunction which
can be specified by its spin (if used), band, and
kpoint the dimensions must be
nspin x nbands x nkpoints for the projwfc array.
Or nbands x nkpoints if spin is not used.</li>
<li><strong>energy_axis</strong> – list of energy axis for the list_of_pdos</li>
<li><strong>list_of_pdos</strong> – a list of projected density of states for the
atomic wavefunctions, units in states/eV</li>
<li><strong>tags</strong> – A list of tags, not supported currently.</li>
<li><strong>bands_check</strong> – if false, skips checks of whether the bands has
been already set, and whether the sizes match. For
use in parsers, where the BandsData has not yet
been stored and therefore get_reference_bandsdata
cannot be called</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_reference_bandsdata</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets a reference bandsdata, creates a uuid link between this data
object and a bandsdata object, must be set before any projection arrays</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – a BandsData instance, a uuid or a pk</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">exceptions.NotExistent if there was no BandsData associated with uuid or pk</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.</code><code class="descname">TrajectoryData</code><span class="sig-paren">(</span><em>structurelist=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores a trajectory (a sequence of crystal structures with timestamps, and
possibly with velocities).</p>
<dl class="method">
<dt>
<code class="descname">get_cells</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cells"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of cells, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cif</code><span class="sig-paren">(</span><em>index=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_cif</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_index_from_stepid</code><span class="sig-paren">(</span><em>stepid</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_index_from_stepid"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a value for the stepid (i.e., a value among those of the <code class="docutils literal notranslate"><span class="pre">steps</span></code>
array), return the array index of that stepid, that can be used in other
methods such as <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.TrajectoryData.get_step_data" title="aiida.orm.nodes.data.array.TrajectoryData.get_step_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_data()</span></code></a> or
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.TrajectoryData.get_step_structure" title="aiida.orm.nodes.data.array.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_step_index</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this function returns the first index found
(i.e. if multiple steps are present with the same value,
only the index of the first one is returned).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if no step with the given value is found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_positions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_positions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of positions, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a tuple with all information concerning
the stepid with given index (0 is the first step, 1 the second step
and so on). If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.data.array.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a>  method to get the
corresponding index.</p>
<p>If no velocities were specified, None is returned as the last element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tuple in the format
<code class="docutils literal notranslate"><span class="pre">(stepid,</span> <span class="pre">time,</span> <span class="pre">cell,</span> <span class="pre">symbols,</span> <span class="pre">positions,</span> <span class="pre">velocities)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">stepid</span></code> is an integer, <code class="docutils literal notranslate"><span class="pre">time</span></code> is a float, <code class="docutils literal notranslate"><span class="pre">cell</span></code> is a
<span class="math">3 \times 3</span> matrix, <code class="docutils literal notranslate"><span class="pre">symbols</span></code> is an array of length <code class="docutils literal notranslate"><span class="pre">n</span></code>,
positions is a <span class="math">n \times 3</span> array, and velocities is either
<code class="docutils literal notranslate"><span class="pre">None</span></code> or a <span class="math">n \times 3</span> array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>IndexError</strong> – if you require an index beyond the limits.</li>
<li><strong>KeyError</strong> – if you did not store the trajectory yet.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_structure</code><span class="sig-paren">(</span><em>index</em>, <em>custom_kinds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an AiiDA <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node
(not stored yet!) with the coordinates of the given step, identified by
its index. If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.data.array.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a> method to get the corresponding index.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The periodic boundary conditions are always set to True.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from step_to_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps-</span> <span class="pre">1</span></code>.</li>
<li><strong>custom_kinds</strong> – (Optional) If passed must be a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.Kind" title="aiida.orm.nodes.data.structure.Kind"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.Kind</span></code></a> objects. There must be one
kind object for each different string in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array, with
<code class="docutils literal notranslate"><span class="pre">kind.name</span></code> set to this string.
If this parameter is omitted, the automatic kind generation of AiiDA
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> nodes is used,
meaning that the strings in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array must be valid
chemical symbols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_stepids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_stepids"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of steps, if it has already been set.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_steps</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_structure</code><span class="sig-paren">(</span><em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_aiida_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_times"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of times (in ps), if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_velocities"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of velocities, if it has already been set.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function (differently from all other <code class="docutils literal notranslate"><span class="pre">get_*</span></code>
functions, will not raise an exception if the velocities are not
set, but rather return <code class="docutils literal notranslate"><span class="pre">None</span></code> (both if no trajectory was not set yet,
and if it the trajectory was set but no velocities were specified).</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsites</code></dt>
<dd><p>Return the number of stored sites, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsteps</code></dt>
<dd><p>Return the number of stored steps, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_structurelist</code><span class="sig-paren">(</span><em>structurelist</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_structurelist"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create trajectory from the list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structurelist</strong> – a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if symbol lists of supplied structures are
different</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_trajectory</code><span class="sig-paren">(</span><em>symbols</em>, <em>positions</em>, <em>stepids=None</em>, <em>cells=None</em>, <em>times=None</em>, <em>velocities=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_trajectory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the whole trajectory, after checking that types and dimensions
are correct.</p>
<p>Parameters <code class="docutils literal notranslate"><span class="pre">stepids</span></code>, <code class="docutils literal notranslate"><span class="pre">cells</span></code> and <code class="docutils literal notranslate"><span class="pre">velocities</span></code> are optional
variables. If nothing is passed for <code class="docutils literal notranslate"><span class="pre">cells</span></code> or <code class="docutils literal notranslate"><span class="pre">velocities</span></code>
nothing will be stored. However, if no input is given for <code class="docutils literal notranslate"><span class="pre">stepids</span></code>
a consecutive sequence [0,1,2,…,len(positions)-1] will be assumed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>symbols</strong> – string list with dimension <code class="docutils literal notranslate"><span class="pre">n</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the
number of atoms (i.e., sites) in the structure.
The same list is used for each step. Normally, the string
should be a valid chemical symbol, but actually any unique
string works and can be used as the name of the atomic kind
(see also the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.TrajectoryData.get_step_structure" title="aiida.orm.nodes.data.array.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a> method).</li>
<li><strong>positions</strong> – float array with dimension <span class="math">s \times n \times 3</span>,
where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array and <code class="docutils literal notranslate"><span class="pre">n</span></code> is the length
of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array. Units are angstrom.
In particular,
<code class="docutils literal notranslate"><span class="pre">positions[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component of the
<code class="docutils literal notranslate"><span class="pre">j</span></code>-th atom (or site) in the structure at the time step
with index <code class="docutils literal notranslate"><span class="pre">i</span></code> (identified
by step number <code class="docutils literal notranslate"><span class="pre">step[i]</span></code> and with timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>stepids</strong> – integer array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
number of steps. Typically represents an internal counter
within the code. For instance, if you want to store a
trajectory with one step every 10, starting from step 65,
the array will be <code class="docutils literal notranslate"><span class="pre">[65,75,85,...]</span></code>.
No checks are done on duplicate elements
or on the ordering, but anyway this array should be
sorted in ascending order, without duplicate elements.
(If not specified, stepids will be set to <code class="docutils literal notranslate"><span class="pre">numpy.arange(s)</span></code>
by default) It is internally stored as an array named ‘steps’.</li>
<li><strong>cells</strong> – if specified float array with dimension
<span class="math">s \times 3 \times 3</span>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Units are angstrom.
In particular, <code class="docutils literal notranslate"><span class="pre">cells[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component
of the <code class="docutils literal notranslate"><span class="pre">j</span></code>-th cell vector at the time step with index
<code class="docutils literal notranslate"><span class="pre">i</span></code> (identified by step number <code class="docutils literal notranslate"><span class="pre">stepid[i]</span></code> and with
timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>times</strong> – if specified, float array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where
<code class="docutils literal notranslate"><span class="pre">s</span></code> is the length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Contains the
timestamp of each step in picoseconds (ps).</li>
<li><strong>velocities</strong> – if specified, must be a float array with the same
dimensions of the <code class="docutils literal notranslate"><span class="pre">positions</span></code> array.
The array contains the velocities in the atoms.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">Choose suitable units for velocities</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_heatmap</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_heatmap"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Show a heatmap of the trajectory with matplotlib.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_pos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_pos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Shows the positions as a function of time, separate for XYZ coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stepsize</strong> (<em>int</em>) – The stepsize for the trajectory, set higher than 1 to
reduce number of points</li>
<li><strong>mintime</strong> (<em>int</em>) – Time to start from</li>
<li><strong>maxtime</strong> (<em>int</em>) – Maximum time</li>
<li><strong>elements</strong> (<em>list</em>) – A list of atomic symbols that should be displayed.
If not specified, all atoms are displayed.</li>
<li><strong>indices</strong> (<em>list</em>) – A list of indices of that atoms that can be displayed.
If not specified, all atoms of the correct species are displayed.</li>
<li><strong>dont_block</strong> (<em>bool</em>) – If True, interpreter is not blocked when figure is displayed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">symbols</code></dt>
<dd><p>Return the array of symbols, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.</code><code class="descname">XyData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A subclass designed to handle arrays that have an “XY” relationship to
each other. That is there is one array, the X array, and there are several
Y arrays, which can be considered functions of X.</p>
<dl class="method">
<dt>
<code class="descname">get_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the x array and x name raises a NotExistent
exception if no x array has been set yet.
:return x_name: the name set for the x_array
:return x_array: the x array set earlier
:return x_units: the x units set earlier</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the y arrays and the y names, raises a
NotExistent exception if they have not been set yet, or cannot be
retrieved
:return y_names: list of strings naming the y_arrays
:return y_arrays: list of y_arrays
:return y_units: list of strings giving the units for the y_arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_x</code><span class="sig-paren">(</span><em>x_array</em>, <em>x_name</em>, <em>x_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the array and the name for the x values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x_array</strong> – A numpy.ndarray, containing only floats</li>
<li><strong>x_name</strong> – a string for the x array name</li>
<li><strong>x_units</strong> – the units of x</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_y</code><span class="sig-paren">(</span><em>y_arrays</em>, <em>y_names</em>, <em>y_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set array(s) for the y part of the dataset. Also checks if the
x_array has already been set, and that, the shape of the y_arrays
agree with the x_array.
:param y_arrays: A list of y_arrays, numpy.ndarray
:param y_names: A list of strings giving the names of the y_arrays
:param y_units: A list of strings giving the units of the y_arrays</p>
</dd></dl>

</dd></dl>

<div class="section" id="arraydata-subclasses">
<h3>ArrayData subclasses<a class="headerlink" href="#arraydata-subclasses" title="Permalink to this headline">¶</a></h3>
<p>The following are Data classes inheriting from ArrayData.</p>
<div class="section" id="kpointsdata">
<h4>KpointsData<a class="headerlink" href="#kpointsdata" title="Permalink to this headline">¶</a></h4>
<p>Module of the KpointsData class, defining the AiiDA data type for storing
lists and meshes of k-points (i.e., points in the reciprocal space of a
periodic crystal structure).</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.kpoints.</code><code class="descname">KpointsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle array of kpoints in the Brillouin zone. Provide methods to
generate either user-defined k-points or path of k-points along symmetry
lines.
Internally, all k-points are defined in terms of crystal (fractional)
coordinates.
Cell and lattice vector coordinates are in Angstroms, reciprocal lattice
vectors in Angstrom^-1 .
:note: The methods setting and using the Bravais lattice info assume the
PRIMITIVE unit cell is provided in input to the set_cell or
set_cell_from_structure methods.</p>
<dl class="method">
<dt>
<code class="descname">_change_reference</code><span class="sig-paren">(</span><em>kpoints</em>, <em>to_cartesian=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._change_reference"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Change reference system, from cartesian to crystal coordinates (units of b1,b2,b3) or viceversa.
:param kpoints: a list of (3) point coordinates
:return kpoints: a list of (3) point coordinates in the new reference</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">_dimension</code></dt>
<dd><p>Dimensionality of the structure, found from its pbc (i.e. 1 if it’s a 1D
structure, 2 if its 2D, 3 if it’s 3D …).
:return dimensionality: 0, 1, 2 or 3
:note: will return 3 if pbc has not been set beforehand</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_find_bravais_info</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._find_bravais_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Finds the Bravais lattice of the cell passed in input to the Kpoint class
:note: We assume that the cell given by the cell property is the
primitive unit cell.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary, with keys short_name, extended_name, index
(index of the Bravais lattice), and sometimes variation (name of
the variation of the Bravais lattice) and extra (a dictionary
with extra parameters used by the get_special_points method)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_get_or_create_bravais_lattice</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._get_or_create_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Try to get the bravais_lattice info if stored already, otherwise analyze
the cell with the default settings and save this in the attribute.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>epsilon_length</strong> – threshold on lengths comparison, used
to get the bravais lattice info</li>
<li><strong>epsilon_angle</strong> – threshold on angles comparison, used
to get the bravais lattice info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return bravais_lattice:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">the dictionary containing the symmetry info</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_bravais_lattice</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validating function to set the bravais_lattice dictionary</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_cell</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate if ‘value’ is a allowed crystal unit cell
:param value: something compatible with a 3x3 tuple of floats</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_labels</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_labels"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set label names. Must pass in input a list like: <code class="docutils literal notranslate"><span class="pre">[[0,'X'],[34,'L'],...</span> <span class="pre">]</span></code></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_set_pbc</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._set_pbc"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>validate the pbc, then store them</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_validate_kpoints_weights</code><span class="sig-paren">(</span><em>kpoints</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData._validate_kpoints_weights"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate the list of kpoints and of weights before storage.
Kpoints and weights must be convertible respectively to an array of
N x dimension and N floats</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">bravais_lattice</code></dt>
<dd><p>The dictionary containing informations about the cell symmetry</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">cell</code></dt>
<dd><p>The crystal unit cell. Rows are the crystal vectors in Angstroms.
:return: a 3x3 numpy.array</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">find_bravais_lattice</code><span class="sig-paren">(</span><em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.find_bravais_lattice"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Analyze the symmetry of the cell. Allows to relax or tighten the
thresholds used to compare angles and lengths of the cell. Save the
information of the cell used for later use (like getting special
points). It has to be used if the user wants to be sure the right
symmetries are recognized. Otherwise, this function is automatically
called with the default values.</p>
<p>If the right symmetry is not found, be sure also you are providing cells
with enough digits.</p>
<p>If node is already stored, just returns the symmetry found before
storing (if any).</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Return (str) lattice_name:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">the name of the bravais lattice and its
eventual variation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a string with infos retrieved from  kpoints node’s properties.
:param node:
:return: retstr</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints</code><span class="sig-paren">(</span><em>also_weights=False</em>, <em>cartesian=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>also_weights</strong> – if True, returns also the list of weights.
Default = False</li>
<li><strong>cartesian</strong> – if True, returns points in cartesian coordinates,
otherwise, returns in crystal coordinates. Default = False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_kpoints_mesh</code><span class="sig-paren">(</span><em>print_list=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the mesh of kpoints.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>print_list</strong> – default=False. If True, prints the mesh of kpoints as a list</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>AttributeError</strong> – if no mesh has been set</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Return mesh,offset:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">(if print_list=False) a list of 3 integers and a list of three
floats 0&lt;x&lt;1, representing the mesh and the offset of kpoints</td>
</tr>
<tr class="field-even field"><th class="field-name">Return kpoints:</th><td class="field-body">(if print_list = True) an explicit list of kpoints coordinates,
similar to what returned by get_kpoints()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_special_points</code><span class="sig-paren">(</span><em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.get_special_points"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the special point and path of a given structure.</p>
<p>References:</p>
<ul class="simple">
<li>In 2D, coordinates are based on the paper:
R. Ramirez and M. C. Bohm,  Int. J. Quant. Chem., XXX, pp. 391-411 (1986)</li>
<li>In 3D, coordinates are based on the paper:
W. Setyawan, S. Curtarolo, Comp. Mat. Sci. 49, 299 (2010)</li>
</ul>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cartesian</strong> – If true, returns points in cartesian coordinates.
Crystal coordinates otherwise. Default=False</li>
<li><strong>epsilon_length</strong> – threshold on lengths comparison, used to get the bravais lattice info</li>
<li><strong>epsilon_angle</strong> – threshold on angles comparison, used to get the bravais lattice info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns point_coords:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">a dictionary of point_name:point_coords key,values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns path:</th><td class="field-body"><p class="first">the suggested path which goes through all high symmetry lines.
A list of lists for all path segments. e.g. [(‘G’,’X’),(‘X’,’M’),…]
It’s not necessarily a continuous line.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">We assume that the cell given by the cell property is the primitive unit cell</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">labels</code></dt>
<dd><p>Labels associated with the list of kpoints.
List of tuples with kpoint index and kpoint name: <code class="docutils literal notranslate"><span class="pre">[(0,'G'),(13,'M'),...]</span></code></p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pbc</code></dt>
<dd><p>The periodic boundary conditions along the vectors a1,a2,a3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three booleans, each one tells if there are periodic
boundary conditions for the i-th real-space direction (i=1,2,3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">reciprocal_cell</code></dt>
<dd><p>Return the reciprocal cell in units of 1/Angstrom from the internally set cell</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell</code><span class="sig-paren">(</span><em>cell</em>, <em>pbc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis.
To set a cell from an AiiDA structure, use “set_cell_from_structure”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cell</strong> – 3x3 matrix of cell vectors. Orientation: each row
represent a lattice vector. Units are Angstroms.</li>
<li><strong>pbc</strong> – list of 3 booleans, True if in the nth crystal direction the
structure is periodic. Default = [True,True,True]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_cell_from_structure</code><span class="sig-paren">(</span><em>structuredata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_cell_from_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a cell to be used for symmetry analysis from an AiiDA structure.
Inherits both the cell and the pbc’s.
To set manually a cell, use “set_cell”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structuredata</strong> – an instance of StructureData</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints</code><span class="sig-paren">(</span><em>kpoints</em>, <em>cartesian=False</em>, <em>labels=None</em>, <em>weights=None</em>, <em>fill_values=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the list of kpoints. If a mesh has already been stored, raise a
ModificationNotAllowed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kpoints</strong> – <p>a list of kpoints, each kpoint being a list of one, two
or three coordinates, depending on self.pbc: if structure is 1D
(only one True in self.pbc) one allows singletons or scalars for
each k-point, if it’s 2D it can be a length-2 list, and in all
cases it can be a length-3 list.
Examples:</p>
<blockquote>
<div><ul>
<li>[[0.,0.,0.],[0.1,0.1,0.1],…] for 1D, 2D or 3D</li>
<li>[[0.,0.],[0.1,0.1,],…] for 1D or 2D</li>
<li>[[0.],[0.1],…] for 1D</li>
<li>[0., 0.1, …] for 1D (list of scalars)</li>
</ul>
</div></blockquote>
<p>For 0D (all pbc are False), the list can be any of the above
or empty - then only Gamma point is set.
The value of k for the non-periodic dimension(s) is set by
fill_values</p>
</li>
<li><strong>cartesian</strong> – if True, the coordinates given in input are treated
as in cartesian units. If False, the coordinates are crystal,
i.e. in units of b1,b2,b3. Default = False</li>
<li><strong>labels</strong> – optional, the list of labels to be set for some of the
kpoints. See labels for more info</li>
<li><strong>weights</strong> – optional, a list of floats with the weight associated
to the kpoint list</li>
<li><strong>fill_values</strong> – scalar to be set to all
non-periodic dimensions (indicated by False in self.pbc), or list of
values for each of the non-periodic dimensions.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh</code><span class="sig-paren">(</span><em>mesh</em>, <em>offset=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set KpointsData to represent a uniformily spaced mesh of kpoints in the
Brillouin zone. This excludes the possibility of set/get kpoints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mesh</strong> – a list of three integers, representing the size of the
kpoint mesh along b1,b2,b3.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
[1.,1.,1.] by periodicity should be equivalent to [0.,0.,0.]
Default = [0.,0.,0.].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_mesh_from_density</code><span class="sig-paren">(</span><em>distance</em>, <em>offset=None</em>, <em>force_parity=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_mesh_from_density"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a kpoints mesh using a kpoints density, expressed as the maximum
distance between adjacent points along a reciprocal axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>distance</strong> – distance (in 1/Angstrom) between adjacent
kpoints, i.e. the number of kpoints along each reciprocal
axis i is <span class="math">|b_i|/distance</span>
where <span class="math">|b_i|</span> is the norm of the reciprocal cell vector.</li>
<li><strong>offset</strong> – (optional) a list of three floats between 0 and 1.
[0.,0.,0.] is Gamma centered mesh
[0.5,0.5,0.5] is half shifted
Default = [0.,0.,0.].</li>
<li><strong>force_parity</strong> – (optional) if True, force each integer in the mesh
to be even (except for the non-periodic directions).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first">a cell should be defined first.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">the number of kpoints along non-periodic axes is always 1.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpoints_path</code><span class="sig-paren">(</span><em>value=None</em>, <em>kpoint_distance=None</em>, <em>cartesian=False</em>, <em>epsilon_length=1e-05</em>, <em>epsilon_angle=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/kpoints.html#KpointsData.set_kpoints_path"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set a path of kpoints in the Brillouin zone.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.11: </span>Use the methods inside the <a class="reference internal" href="../../datatypes/kpoints.html#automatickpoints"><span class="std std-ref">aiida.tools.data.array.kpoints</span></a> module instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> – <p>description of the path, in various possible formats.</p>
<p>None: automatically sets all irreducible high symmetry paths.
Requires that a cell was set</p>
<p>or</p>
<p>[(‘G’,’M’), (…), …]
[(‘G’,’M’,30), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1)), (…), …]
[(‘G’,(0,0,0),’M’,(1,1,1),30), (…), …]</p>
</li>
<li><strong>cartesian</strong> (<em>bool</em>) – if set to true, reads the coordinates eventually
passed in value as cartesian coordinates. Default: False.</li>
<li><strong>kpoint_distance</strong> (<em>float</em>) – parameter controlling the distance between
kpoints. Distance is given in crystal coordinates, i.e. the distance
is computed in the space of b1,b2,b3. The distance set will be the
closest possible to this value, compatible with the requirement of
putting equispaced points between two special points (since extrema
are included).</li>
<li><strong>epsilon_length</strong> (<em>float</em>) – threshold on lengths comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
<li><strong>epsilon_angle</strong> (<em>float</em>) – threshold on angles comparison, used
to get the bravais lattice info. It has to be used if the
user wants to be sure the right symmetries are recognized.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="bandsdata">
<h4>BandsData<a class="headerlink" href="#bandsdata" title="Permalink to this headline">¶</a></h4>
<p>This module defines the classes related to band structures or dispersions
in a Brillouin zone, and how to operate on them.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.bands.</code><code class="descname">BandsData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Class to handle bands data</p>
<dl class="attribute">
<dt>
<code class="descname">array_labels</code></dt>
<dd><p>Get the labels associated with the band arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_bands</code><span class="sig-paren">(</span><em>also_occupations=False</em>, <em>also_labels=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.get_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns an array (nkpoints x num_bands or nspins x nkpoints x num_bands)
of energies.
:param also_occupations: if True, returns also the occupations array.
Default = False</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_bands</code><span class="sig-paren">(</span><em>bands</em>, <em>units=None</em>, <em>occupations=None</em>, <em>labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_bands"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an array of band energies of dimension (nkpoints x nbands).
Kpoints must be set in advance. Can contain floats or None.
:param bands: a list of nkpoints lists of nbands bands, or a 2D array
of shape (nkpoints x nbands), with band energies for each kpoint
:param units: optional, energy units
:param occupations: optional, a 2D list or array of floats of same
shape as bands, with the occupation associated to each band</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_kpointsdata</code><span class="sig-paren">(</span><em>kpointsdata</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.set_kpointsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load the kpoints from a kpoint object.
:param kpointsdata: an instance of KpointsData class</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#BandsData.show_mpl"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Call a show() command for the band structure using matplotlib.
This uses internally the ‘mpl_singlefile’ format, with empty
main_file_name.</p>
<p>Other kwargs are passed to self._exportcontent.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">units</code></dt>
<dd><p>Units in which the data in bands were stored. A string</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.array.bands.</code><code class="descname">find_bandgap</code><span class="sig-paren">(</span><em>bandsdata</em>, <em>number_electrons=None</em>, <em>fermi_energy=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/bands.html#find_bandgap"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to guess whether the bandsdata represent an insulator.
This method is meant to be used only for electronic bands (not phonons)
By default, it will try to use the occupations to guess the number of
electrons and find the Fermi Energy, otherwise, it can be provided
explicitely.
Also, there is an implicit assumption that the kpoints grid is
“sufficiently” dense, so that the bandsdata are not missing the
intersection between valence and conduction band if present.
Use this function with care!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number_electrons</strong> – (optional, float) number of electrons in the unit cell</li>
<li><strong>fermi_energy</strong> – (optional, float) value of the fermi energy.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first">By default, the algorithm uses the occupations array
to guess the number of electrons and the occupied bands. This is to be
used with care, because the occupations could be smeared so at a
non-zero temperature, with the unwanted effect that the conduction bands
might be occupied in an insulator.
Prefer to pass the number_of_electrons explicitly</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first">Only one between number_electrons and fermi_energy can be specified at the
same time.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(is_insulator, gap), where is_insulator is a boolean, and gap a
float. The gap is None in case of a metal, zero when the homo is
equal to the lumo (e.g. in semi-metals).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="projectiondata">
<h4>ProjectionData<a class="headerlink" href="#projectiondata" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.projection.</code><code class="descname">ProjectionData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A class to handle arrays of projected wavefunction data. That is projections
of a orbitals, usually an atomic-hydrogen orbital, onto a
given bloch wavefunction, the bloch wavefunction being indexed by
s, n, and k. E.g. the elements are the projections described as
&lt; orbital | Bloch wavefunction (s,n,k) &gt;</p>
<dl class="method">
<dt>
<code class="descname">get_pdos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_pdos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, energy array and pdos
array associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_projections</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_projections"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieves all the pdos arrays corresponding to the input kwargs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – inputs describing the orbitals associated with the pdos
arrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of tuples containing the orbital, and projection arrays
associated with all orbitals that correspond to kwargs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_reference_bandsdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.get_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the reference BandsData, using the set uuid via
set_reference_bandsdata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a BandsData instance</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AttributeError</strong> – if the bandsdata has not been set yet</li>
<li><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.NotExistent" title="aiida.common.exceptions.NotExistent"><strong>exceptions.NotExistent</strong></a> – if the bandsdata uuid did not retrieve bandsdata</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_orbitals</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_orbitals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method is inherited from OrbitalData, but is blocked here.
If used will raise a NotImplementedError</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_projectiondata</code><span class="sig-paren">(</span><em>list_of_orbitals</em>, <em>list_of_projections=None</em>, <em>list_of_energy=None</em>, <em>list_of_pdos=None</em>, <em>tags=None</em>, <em>bands_check=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_projectiondata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores the projwfc_array using the projwfc_label, after validating both.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list_of_orbitals</strong> – list of orbitals, of class orbital data.
They should be the ones up on which the
projection array corresponds with.</li>
<li><strong>list_of_projections</strong> – list of arrays of projections of a atomic
wavefunctions onto bloch wavefunctions. Since the
projection is for every bloch wavefunction which
can be specified by its spin (if used), band, and
kpoint the dimensions must be
nspin x nbands x nkpoints for the projwfc array.
Or nbands x nkpoints if spin is not used.</li>
<li><strong>energy_axis</strong> – list of energy axis for the list_of_pdos</li>
<li><strong>list_of_pdos</strong> – a list of projected density of states for the
atomic wavefunctions, units in states/eV</li>
<li><strong>tags</strong> – A list of tags, not supported currently.</li>
<li><strong>bands_check</strong> – if false, skips checks of whether the bands has
been already set, and whether the sizes match. For
use in parsers, where the BandsData has not yet
been stored and therefore get_reference_bandsdata
cannot be called</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_reference_bandsdata</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/projection.html#ProjectionData.set_reference_bandsdata"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets a reference bandsdata, creates a uuid link between this data
object and a bandsdata object, must be set before any projection arrays</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – a BandsData instance, a uuid or a pk</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">exceptions.NotExistent if there was no BandsData associated with uuid or pk</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="trajectorydata">
<h4>TrajectoryData<a class="headerlink" href="#trajectorydata" title="Permalink to this headline">¶</a></h4>
<p>AiiDA class to deal with crystal structure trajectories.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.trajectory.</code><code class="descname">TrajectoryData</code><span class="sig-paren">(</span><em>structurelist=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Stores a trajectory (a sequence of crystal structures with timestamps, and
possibly with velocities).</p>
<dl class="method">
<dt>
<code class="descname">get_cells</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cells"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of cells, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_cif</code><span class="sig-paren">(</span><em>index=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_cif"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.cif.CifData" title="aiida.orm.nodes.data.cif.CifData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.cif.CifData</span></code></a></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_cif</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_index_from_stepid</code><span class="sig-paren">(</span><em>stepid</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_index_from_stepid"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Given a value for the stepid (i.e., a value among those of the <code class="docutils literal notranslate"><span class="pre">steps</span></code>
array), return the array index of that stepid, that can be used in other
methods such as <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_step_data" title="aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_step_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_data()</span></code></a> or
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_step_structure" title="aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_step_index</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this function returns the first index found
(i.e. if multiple steps are present with the same value,
only the index of the first one is returned).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if no step with the given value is found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_positions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_positions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of positions, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a tuple with all information concerning
the stepid with given index (0 is the first step, 1 the second step
and so on). If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a>  method to get the
corresponding index.</p>
<p>If no velocities were specified, None is returned as the last element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A tuple in the format
<code class="docutils literal notranslate"><span class="pre">(stepid,</span> <span class="pre">time,</span> <span class="pre">cell,</span> <span class="pre">symbols,</span> <span class="pre">positions,</span> <span class="pre">velocities)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">stepid</span></code> is an integer, <code class="docutils literal notranslate"><span class="pre">time</span></code> is a float, <code class="docutils literal notranslate"><span class="pre">cell</span></code> is a
<span class="math">3 \times 3</span> matrix, <code class="docutils literal notranslate"><span class="pre">symbols</span></code> is an array of length <code class="docutils literal notranslate"><span class="pre">n</span></code>,
positions is a <span class="math">n \times 3</span> array, and velocities is either
<code class="docutils literal notranslate"><span class="pre">None</span></code> or a <span class="math">n \times 3</span> array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>IndexError</strong> – if you require an index beyond the limits.</li>
<li><strong>KeyError</strong> – if you did not store the trajectory yet.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_step_structure</code><span class="sig-paren">(</span><em>index</em>, <em>custom_kinds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_step_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an AiiDA <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node
(not stored yet!) with the coordinates of the given step, identified by
its index. If you know only the step value, use the
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_index_from_stepid" title="aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_index_from_stepid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_index_from_stepid()</span></code></a> method to get the corresponding index.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The periodic boundary conditions are always set to True.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from step_to_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – The index of the step that you want to retrieve, from
0 to <code class="docutils literal notranslate"><span class="pre">self.numsteps-</span> <span class="pre">1</span></code>.</li>
<li><strong>custom_kinds</strong> – (Optional) If passed must be a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.Kind" title="aiida.orm.nodes.data.structure.Kind"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.Kind</span></code></a> objects. There must be one
kind object for each different string in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array, with
<code class="docutils literal notranslate"><span class="pre">kind.name</span></code> set to this string.
If this parameter is omitted, the automatic kind generation of AiiDA
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> nodes is used,
meaning that the strings in the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array must be valid
chemical symbols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_stepids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_stepids"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of steps, if it has already been set.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7: </span>Renamed from get_steps</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_structure</code><span class="sig-paren">(</span><em>store=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_structure"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0: </span>Renamed from _get_aiida_structure</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>converter</strong> – specify the converter. Default ‘ase’.</li>
<li><strong>store</strong> – If True, intermediate calculation gets stored in the
AiiDA database for record. Default False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> node.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_times"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of times (in ps), if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_velocities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.get_velocities"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the array of velocities, if it has already been set.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function (differently from all other <code class="docutils literal notranslate"><span class="pre">get_*</span></code>
functions, will not raise an exception if the velocities are not
set, but rather return <code class="docutils literal notranslate"><span class="pre">None</span></code> (both if no trajectory was not set yet,
and if it the trajectory was set but no velocities were specified).</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsites</code></dt>
<dd><p>Return the number of stored sites, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">numsteps</code></dt>
<dd><p>Return the number of stored steps, or zero if nothing has been stored yet.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_structurelist</code><span class="sig-paren">(</span><em>structurelist</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_structurelist"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create trajectory from the list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structurelist</strong> – a list of
<a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.html#aiida.orm.nodes.data.structure.StructureData" title="aiida.orm.nodes.data.structure.StructureData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.data.structure.StructureData</span></code></a> instances.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if symbol lists of supplied structures are
different</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_trajectory</code><span class="sig-paren">(</span><em>symbols</em>, <em>positions</em>, <em>stepids=None</em>, <em>cells=None</em>, <em>times=None</em>, <em>velocities=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.set_trajectory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the whole trajectory, after checking that types and dimensions
are correct.</p>
<p>Parameters <code class="docutils literal notranslate"><span class="pre">stepids</span></code>, <code class="docutils literal notranslate"><span class="pre">cells</span></code> and <code class="docutils literal notranslate"><span class="pre">velocities</span></code> are optional
variables. If nothing is passed for <code class="docutils literal notranslate"><span class="pre">cells</span></code> or <code class="docutils literal notranslate"><span class="pre">velocities</span></code>
nothing will be stored. However, if no input is given for <code class="docutils literal notranslate"><span class="pre">stepids</span></code>
a consecutive sequence [0,1,2,…,len(positions)-1] will be assumed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>symbols</strong> – string list with dimension <code class="docutils literal notranslate"><span class="pre">n</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the
number of atoms (i.e., sites) in the structure.
The same list is used for each step. Normally, the string
should be a valid chemical symbol, but actually any unique
string works and can be used as the name of the atomic kind
(see also the <a class="reference internal" href="../../apidoc/aiida.orm.nodes.data.array.html#aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_step_structure" title="aiida.orm.nodes.data.array.trajectory.TrajectoryData.get_step_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_step_structure()</span></code></a> method).</li>
<li><strong>positions</strong> – float array with dimension <span class="math">s \times n \times 3</span>,
where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array and <code class="docutils literal notranslate"><span class="pre">n</span></code> is the length
of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> array. Units are angstrom.
In particular,
<code class="docutils literal notranslate"><span class="pre">positions[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component of the
<code class="docutils literal notranslate"><span class="pre">j</span></code>-th atom (or site) in the structure at the time step
with index <code class="docutils literal notranslate"><span class="pre">i</span></code> (identified
by step number <code class="docutils literal notranslate"><span class="pre">step[i]</span></code> and with timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>stepids</strong> – integer array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
number of steps. Typically represents an internal counter
within the code. For instance, if you want to store a
trajectory with one step every 10, starting from step 65,
the array will be <code class="docutils literal notranslate"><span class="pre">[65,75,85,...]</span></code>.
No checks are done on duplicate elements
or on the ordering, but anyway this array should be
sorted in ascending order, without duplicate elements.
(If not specified, stepids will be set to <code class="docutils literal notranslate"><span class="pre">numpy.arange(s)</span></code>
by default) It is internally stored as an array named ‘steps’.</li>
<li><strong>cells</strong> – if specified float array with dimension
<span class="math">s \times 3 \times 3</span>, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the
length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Units are angstrom.
In particular, <code class="docutils literal notranslate"><span class="pre">cells[i,j,k]</span></code> is the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th component
of the <code class="docutils literal notranslate"><span class="pre">j</span></code>-th cell vector at the time step with index
<code class="docutils literal notranslate"><span class="pre">i</span></code> (identified by step number <code class="docutils literal notranslate"><span class="pre">stepid[i]</span></code> and with
timestamp <code class="docutils literal notranslate"><span class="pre">times[i]</span></code>).</li>
<li><strong>times</strong> – if specified, float array with dimension <code class="docutils literal notranslate"><span class="pre">s</span></code>, where
<code class="docutils literal notranslate"><span class="pre">s</span></code> is the length of the <code class="docutils literal notranslate"><span class="pre">stepids</span></code> array. Contains the
timestamp of each step in picoseconds (ps).</li>
<li><strong>velocities</strong> – if specified, must be a float array with the same
dimensions of the <code class="docutils literal notranslate"><span class="pre">positions</span></code> array.
The array contains the velocities in the atoms.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-3">
<p class="first admonition-title">Todo</p>
<p class="last">Choose suitable units for velocities</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_heatmap</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_heatmap"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Show a heatmap of the trajectory with matplotlib.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">show_mpl_pos</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#TrajectoryData.show_mpl_pos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Shows the positions as a function of time, separate for XYZ coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stepsize</strong> (<em>int</em>) – The stepsize for the trajectory, set higher than 1 to
reduce number of points</li>
<li><strong>mintime</strong> (<em>int</em>) – Time to start from</li>
<li><strong>maxtime</strong> (<em>int</em>) – Maximum time</li>
<li><strong>elements</strong> (<em>list</em>) – A list of atomic symbols that should be displayed.
If not specified, all atoms are displayed.</li>
<li><strong>indices</strong> (<em>list</em>) – A list of indices of that atoms that can be displayed.
If not specified, all atoms of the correct species are displayed.</li>
<li><strong>dont_block</strong> (<em>bool</em>) – If True, interpreter is not blocked when figure is displayed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">symbols</code></dt>
<dd><p>Return the array of symbols, if it has already been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>KeyError</strong> – if the trajectory has not been set yet.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.array.trajectory.</code><code class="descname">plot_positions_XYZ</code><span class="sig-paren">(</span><em>times</em>, <em>positions</em>, <em>indices_to_show</em>, <em>color_list</em>, <em>label</em>, <em>positions_unit='A'</em>, <em>times_unit='ps'</em>, <em>dont_block=False</em>, <em>mintime=None</em>, <em>maxtime=None</em>, <em>label_sparsity=10</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/trajectory.html#plot_positions_XYZ"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Plot with matplotlib the positions of the coordinates of the atoms
over time for a trajectory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>times</strong> – array of times</li>
<li><strong>positions</strong> – array of positions</li>
<li><strong>indices_to_show</strong> – list of indices of to show (0, 1, 2 for X, Y, Z)</li>
<li><strong>color_list</strong> – list of valid color specifications for matplotlib</li>
<li><strong>label</strong> – label for this plot to put in the title</li>
<li><strong>positions_unit</strong> – label for the units of positions (for the x label)</li>
<li><strong>times_unit</strong> – label for the units of times (for the y label)</li>
<li><strong>dont_block</strong> – passed to plt.show() as <code class="docutils literal notranslate"><span class="pre">block=not</span> <span class="pre">dont_block</span></code></li>
<li><strong>mintime</strong> – if specified, cut the time axis at the specified min value</li>
<li><strong>maxtime</strong> – if specified, cut the time axis at the specified max value</li>
<li><strong>label_sparsity</strong> – how often to put a label with the pair (t, coord)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="xydata">
<h4>XyData<a class="headerlink" href="#xydata" title="Permalink to this headline">¶</a></h4>
<p>This module defines the classes related to Xy data. That is data that contains
collections of y-arrays bound to a single x-array, and the methods to operate
on them.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.array.xy.</code><code class="descname">XyData</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A subclass designed to handle arrays that have an “XY” relationship to
each other. That is there is one array, the X array, and there are several
Y arrays, which can be considered functions of X.</p>
<dl class="method">
<dt>
<code class="descname">get_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the x array and x name raises a NotExistent
exception if no x array has been set yet.
:return x_name: the name set for the x_array
:return x_array: the x array set earlier
:return x_units: the x units set earlier</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.get_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Tries to retrieve the y arrays and the y names, raises a
NotExistent exception if they have not been set yet, or cannot be
retrieved
:return y_names: list of strings naming the y_arrays
:return y_arrays: list of y_arrays
:return y_units: list of strings giving the units for the y_arrays</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_x</code><span class="sig-paren">(</span><em>x_array</em>, <em>x_name</em>, <em>x_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets the array and the name for the x values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x_array</strong> – A numpy.ndarray, containing only floats</li>
<li><strong>x_name</strong> – a string for the x array name</li>
<li><strong>x_units</strong> – the units of x</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_y</code><span class="sig-paren">(</span><em>y_arrays</em>, <em>y_names</em>, <em>y_units</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#XyData.set_y"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set array(s) for the y part of the dataset. Also checks if the
x_array has already been set, and that, the shape of the y_arrays
agree with the x_array.
:param y_arrays: A list of y_arrays, numpy.ndarray
:param y_names: A list of strings giving the names of the y_arrays
:param y_units: A list of strings giving the units of the y_arrays</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.array.xy.</code><code class="descname">check_convert_single_to_tuple</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/array/xy.html#check_convert_single_to_tuple"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Checks if the item is a list or tuple, and converts it to a list if it is
not already a list or tuple</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> – an object which may or may not be a list or tuple</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">item_list: the input item unchanged if list or tuple and [item]
otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="base-data-types">
<h2>Base data types<a class="headerlink" href="#base-data-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="basetype-and-numerictype">
<h3>BaseType and NumericType<a class="headerlink" href="#basetype-and-numerictype" title="Permalink to this headline">¶</a></h3>
<p><cite>Data</cite> sub class to be used as a base for data containers that represent base python data types.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.base.</code><code class="descname">BaseType</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/base.html#BaseType"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to be used as a base for data containers that represent base python data types.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">aiida.orm.nodes.data.base.</code><code class="descname">to_aiida_type</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/base.html#to_aiida_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Turns basic Python types (str, int, float, bool) into the corresponding AiiDA types.</p>
</dd></dl>

</div>
<div class="section" id="list">
<h3>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.list.</code><code class="descname">List</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a list.</p>
<dl class="method">
<dt>
<code class="descname">append</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.append"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.append(value) – append value to the end of the sequence</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &#x2192; integer -- return number of occurrences of value<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.count"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">extend</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.extend"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.extend(iterable) – extend sequence by appending elements from the iterable</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.get_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the contents of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">index</code><span class="sig-paren">(</span><em>value</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; integer -- return first index of value.<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.index"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
<p>Supporting start and stop arguments is optional, but
recommended.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">insert</code><span class="sig-paren">(</span><em>i</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.insert"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.insert(index, value) – insert value before index</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">pop</code><span class="sig-paren">(</span><span class="optional">[</span><em>index</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; item -- remove and return item at index (default last).<a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.pop"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Raise IndexError if list is empty or index is out of range.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">remove</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.remove"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.remove(value) – remove first occurrence of value.
Raise ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.reverse"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_list</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/list.html#List.set_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the contents of this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – the list to set</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="bool">
<h3>Bool<a class="headerlink" href="#bool" title="Permalink to this headline">¶</a></h3>
<p><cite>Data</cite> sub class to represent a boolean value.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.bool.</code><code class="descname">Bool</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/bool.html#Bool"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a boolean value.</p>
</dd></dl>

</div>
<div class="section" id="float">
<h3>Float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h3>
<p><cite>Data</cite> sub class to represent a float value.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.float.</code><code class="descname">Float</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/float.html#Float"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a float value.</p>
</dd></dl>

</div>
<div class="section" id="int">
<h3>Int<a class="headerlink" href="#int" title="Permalink to this headline">¶</a></h3>
<p><cite>Data</cite> sub class to represent an integer value.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.int.</code><code class="descname">Int</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/int.html#Int"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent an integer value.</p>
</dd></dl>

</div>
<div class="section" id="str">
<h3>Str<a class="headerlink" href="#str" title="Permalink to this headline">¶</a></h3>
<p><cite>Data</cite> sub class to represent a string value.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.data.str.</code><code class="descname">Str</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/data/str.html#Str"><span class="viewcode-link">[source]</span></a></dt>
<dd><p><cite>Data</cite> sub class to represent a string value.</p>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="orm-documentation-calculations">
<h1>ORM documentation: Calculations<a class="headerlink" href="#orm-documentation-calculations" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This list only includes the classes included in AiiDA-core. For all the plugin subclasses,
check the corresponding plugin repositories.</p>
</div>
<p>Module with <cite>Node</cite> sub classes for processes.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.</code><code class="descname">CalculationNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calculation.html#CalculationNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes representing the execution of a calculation process.</p>
<dl class="attribute">
<dt>
<code class="descname">inputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage incoming INPUT_CALC links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an incoming INPUT_CALC link.
The incoming nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">outputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage outgoing CREATE links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an outgoing CREATE link.
The outgoing nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.</code><code class="descname">CalcFunctionNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcfunction.html#CalcFunctionNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a calcfunction.</p>
<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcfunction.html#CalcFunctionNode.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>A calcfunction cannot return Data, so if we receive an outgoing link to a stored Data node, that means
the user created a Data node within our function body and stored it themselves or they are returning an input
node. The latter use case is reserved for &#64;workfunctions, as they can have RETURN links.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>target</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.</code><code class="descname">CalcJobNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a CalcJob.</p>
<dl class="method">
<dt>
<code class="descname">delete_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.delete_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete the calculation job state attribute if it exists.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_authinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_authinfo"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the <cite>AuthInfo</cite> that is configured for the <cite>Computer</cite> set for this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>AuthInfo</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder_restart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_builder_restart"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a <cite>ProcessBuilder</cite> that is ready to relaunch the same <cite>CalcJob</cite> that created this node.</p>
<p>The process class will be set based on the <cite>process_type</cite> of this node and the inputs of the builder will be
prepopulated with the inputs registered for this node. This functionality is very useful if a process has
completed and you want to relaunch it with slightly different inputs.</p>
<p>In addition to prepopulating the input nodes, which is implemented by the base <cite>ProcessNode</cite> class, here we
also add the <cite>options</cite> that were passed in the <cite>metadata</cite> input of the <cite>CalcJob</cite> process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>~aiida.engine.processes.builder.ProcessBuilder</cite> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string with a description of the node based on its properties.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_hash</code><span class="sig-paren">(</span><em>ignore_errors=True</em>, <em>ignored_folder_content=('raw_input'</em>, <em>)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_hash"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the hash for this node based on its attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_job_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_job_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return job id that was assigned to the calculation by the scheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the string representation of the scheduler job id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_last_job_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_last_job_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the last information asked to the scheduler about the status of the job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <cite>JobInfo</cite> object (that closely resembles a dictionary) or None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_option</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_option"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retun the value of an option that was set for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – the option name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the option value or None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">ValueError for unknown option</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_options</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the dictionary of options set for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary of the options and their values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_parser_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_parser_class"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the output parser object for this calculation or None if no parser is set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <cite>Parser</cite> class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.EntryPointError" title="aiida.common.exceptions.EntryPointError"><strong>aiida.common.exceptions.EntryPointError</strong></a> – if the parser entry point can not be resolved.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_remote_workdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_remote_workdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the path to the remote (on cluster) scratch folder of the calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string with the remote path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of files/directories to be retrieved on the cluster after the calculation has completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_singlefile_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_singlefile_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of files to be retrieved on the cluster after the calculation has completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of single file retrieval directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_temporary_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_temporary_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return list of files to be retrieved from the cluster which will be available during parsing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieved_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieved_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the retrieved data folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the retrieved FolderData node or None if not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_lastchecktime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_lastchecktime"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the time of the last update of the scheduler state by the daemon or None if it was never set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a datetime object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the status of the calculation according to the cluster scheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a JobState enum instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_stderr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_stderr"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the scheduler stdout output if the calculation has finished and been retrieved, None otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">scheduler stdout output or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_stdout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_stdout"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the scheduler stderr output if the calculation has finished and been retrieved, None otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">scheduler stderr output or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the state of the calculation job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the calculation job state</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_transport</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_transport"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the transport for this calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>Transport</cite> configured with the <cite>AuthInfo</cite> associated to the computer of this node</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">link_label_retrieved</code></dt>
<dd><p>Return the link label used for the retrieved FolderData node.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">res</code></dt>
<dd><p>To be used to get direct access to the parsed parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of the CalcJobResultManager.</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">a practical example on how it is meant to be used: let’s say that there is a key ‘energy’
in the dictionary of the parsed results which contains a list of floats.
The command <cite>calc.res.energy</cite> will return such a list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_job_id</code><span class="sig-paren">(</span><em>job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_job_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the job id that was assigned to the calculation by the scheduler.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the id will always be stored as a string</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>job_id</strong> – the id assigned by the scheduler after submission</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_last_job_info</code><span class="sig-paren">(</span><em>last_job_info</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_last_job_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the last job info.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>last_job_info</strong> – a <cite>JobInfo</cite> object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_option</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_option"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an option to the given value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> – the option name</li>
<li><strong>value</strong> – the value to set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">ValueError for unknown option</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">TypeError for values with invalid type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_options</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the options for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>options</strong> – dictionary of option and their values to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_remote_workdir</code><span class="sig-paren">(</span><em>remote_workdir</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_remote_workdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the absolute path to the working directory on the remote computer where the calculation is run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_workdir</strong> – absolute filepath to the remote working directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_list</code><span class="sig-paren">(</span><em>retrieve_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve list.</p>
<p>This list of directives will instruct the daemon what files to retrieve after the calculation has completed.
list or tuple of files or paths that should be retrieved by the daemon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_list</strong> – list or tuple of with filepath directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_singlefile_list</code><span class="sig-paren">(</span><em>retrieve_singlefile_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_singlefile_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve singlefile list.</p>
<p>The files will be stored as <cite>SinglefileData</cite> instances and added as output nodes to this calculation node.
The format of a single file directive is a tuple or list of length 3 with the following entries:</p>
<blockquote>
<div><ol class="arabic simple">
<li>the link label under which the file should be added</li>
<li>the <cite>SinglefileData</cite> class or sub class to use to store</li>
<li>the filepath relative to the remote working directory of the calculation</li>
</ol>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_singlefile_list</strong> – list or tuple of single file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_temporary_list</code><span class="sig-paren">(</span><em>retrieve_temporary_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_temporary_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve temporary list.</p>
<p>The retrieve temporary list stores files that are retrieved after completion and made available during parsing
and are deleted as soon as the parsing has been completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_temporary_list</strong> – list or tuple of with filepath directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_scheduler_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_scheduler_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the scheduler state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – an instance of <cite>JobState</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the state of the calculation job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – a string with the state from <code class="docutils literal notranslate"><span class="pre">aiida.common.datastructures.CalcJobState</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">ValueError if state is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">tools</code></dt>
<dd><p>Return the calculation tools that are registered for the process type associated with this calculation.</p>
<p>If the entry point name stored in the <cite>process_type</cite> of the CalcJobNode has an accompanying entry point in the
<cite>aiida.tools.calculations</cite> entry point category, it will attempt to load the entry point and instantiate it
passing the node to the constructor. If the entry point does not exist, cannot be resolved or loaded, a warning
will be logged and the base CalculationTools class will be instantiated and returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">CalculationTools instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.</code><code class="descname">ProcessNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes representing the execution of a process</p>
<p>This class and its subclasses serve as proxies in the database, for actual <cite>Process</cite> instances being run. The
<cite>Process</cite> instance in memory will leverage an instance of this class (the exact sub class depends on the sub class
of <cite>Process</cite>) to persist important information of its state to the database. This serves as a way for the user to
inspect the state of the <cite>Process</cite> during its execution as well as a permanent record of its execution in the
provenance graph, after the execution has terminated.</p>
<dl class="attribute">
<dt>
<code class="descname">called</code></dt>
<dd><p>Return a list of nodes that the process called</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of process nodes called by this process</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">called_descendants</code></dt>
<dd><p>Return a list of all nodes that have been called downstream of this process</p>
<p>This will recursively find all the called processes for this process and its children.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">caller</code></dt>
<dd><p>Return the process node that called this process node, or None if it does not have a caller</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">process node that called this process node instance or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">checkpoint</code></dt>
<dd><p>Return the checkpoint bundle set for the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">checkpoint bundle if it exists, None otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">delete_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.delete_checkpoint"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete the checkpoint bundle set for the process</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">exception</code></dt>
<dd><p>Return the exception of the process or None if the process is not excepted.</p>
<p>If the process is marked as excepted yet there is no exception attribute, an empty string will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the exception message or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">exit_message</code></dt>
<dd><p>Return the exit message of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the exit message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">exit_status</code></dt>
<dd><p>Return the exit status of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the exit status, an integer exit code or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder_restart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.get_builder_restart"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a <cite>ProcessBuilder</cite> that is ready to relaunch the process that created this node.</p>
<p>The process class will be set based on the <cite>process_type</cite> of this node and the inputs of the builder will be
prepopulated with the inputs registered for this node. This functionality is very useful if a process has
completed and you want to relaunch it with slightly different inputs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>~aiida.engine.processes.builder.ProcessBuilder</cite> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_excepted</code></dt>
<dd><p>Return whether the process has excepted</p>
<p>Excepted means that during execution of the process, an exception was raised that was not caught.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if during execution of the process an exception occurred, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_failed</code></dt>
<dd><p>Return whether the process has failed</p>
<p>Failed means that the process terminated nominally but it had a non-zero exit status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has failed, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_finished</code></dt>
<dd><p>Return whether the process has finished</p>
<p>Finished means that the process reached a terminal state nominally.
Note that this does not necessarily mean successfully, but there were no exceptions and it was not killed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has finished, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_finished_ok</code></dt>
<dd><p>Return whether the process has finished successfully</p>
<p>Finished successfully means that it terminated nominally and had a zero exit status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has finished successfully, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_killed</code></dt>
<dd><p>Return whether the process was killed</p>
<p>Killed means the process was killed directly by the user or by the calling process being killed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process was killed, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_terminated</code></dt>
<dd><p>Return whether the process has terminated</p>
<p>Terminated means that the process has reached any terminal state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the process has terminated, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">is_valid_cache</code></dt>
<dd><p>Return whether the node is valid for caching</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if this process node is valid to be used for caching, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">logger</code></dt>
<dd><p>Get the logger of the Calculation object, so that it also logs to the DB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">LoggerAdapter object, that works like a logger, but also has the ‘extra’ embedded</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">pause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.pause"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Mark the process as paused by setting the corresponding attribute.</p>
<p>This serves only to reflect that the corresponding Process is paused and so this method should not be called
by anyone but the Process instance itself.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">paused</code></dt>
<dd><p>Return whether the process is paused</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the Calculation is marked as paused, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_class</code></dt>
<dd><p>Return the process class that was used to create this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>Process</cite> class</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – if no process type is defined, it is an invalid process type string or cannot be resolved
to load the corresponding class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_label</code></dt>
<dd><p>Return the process label</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the process label</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_state</code></dt>
<dd><p>Return the process state</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the process state instance of ProcessState enum</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">process_status</code></dt>
<dd><p>Return the process status</p>
<p>The process status is a generic status message e.g. the reason it might be paused or when it is being killed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the process status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_checkpoint</code><span class="sig-paren">(</span><em>checkpoint</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_checkpoint"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the checkpoint bundle set for the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – string representation of the stepper state info</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_exception</code><span class="sig-paren">(</span><em>exception</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_exception"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the exception of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exception</strong> – the exception message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_exit_message</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_exit_message"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the exit message of the process, if None nothing will be done</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> – a string message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_exit_status</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_exit_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the exit status of the process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – an integer exit code or None, which will be interpreted as zero</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_label</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_label"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process label</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> – process label string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process state</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – value or instance of ProcessState enum</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_status</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process status</p>
<p>The process status is a generic status message e.g. the reason it might be paused or when it is being killed.
If status is None, the corresponding attribute will be deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> – string process status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_process_type</code><span class="sig-paren">(</span><em>process_type_string</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.set_process_type"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the process type string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>process_type</strong> – the process type string identifying the class using this process node as storage.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">unpause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.unpause"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Mark the process as unpaused by removing the corresponding attribute.</p>
<p>This serves only to reflect that the corresponding Process is unpaused and so this method should not be called
by anyone but the Process instance itself.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_incoming</code><span class="sig-paren">(</span><em>source</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/process.html#ProcessNode.validate_incoming"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from a given node to ourself.</p>
<p>Adding an input link to a <cite>ProcessNode</cite> once it is stored is illegal because this should be taken care of
by the engine in one go. If a link is being added after the node is stored, it is most likely not by the engine
and it should not be allowed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> – the node from which the link is coming</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>source</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.</code><code class="descname">WorkflowNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workflow.html#WorkflowNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Base class for all nodes representing the execution of a workflow process.</p>
<dl class="attribute">
<dt>
<code class="descname">inputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage incoming INPUT_WORK links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an incoming INPUT_WORK link.
The incoming nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">outputs</code></dt>
<dd><p>Return an instance of <cite>NodeLinksManager</cite> to manage outgoing RETURN links</p>
<p>The returned Manager allows you to easily explore the nodes connected to this node
via an outgoing RETURN link.
The outgoing nodes are reachable by their link labels which are attributes of the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>NodeLinksManager</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workflow.html#WorkflowNode.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>A workflow cannot ‘create’ Data, so if we receive an outgoing link to an unstored Data node, that means
the user created a Data node within our function body and tries to attach it as an output. This is strictly
forbidden and can cause provenance to be lost.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>target</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.</code><code class="descname">WorkChainNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workchain.html#WorkChainNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a WorkChain.</p>
<dl class="method">
<dt>
<code class="descname">set_stepper_state_info</code><span class="sig-paren">(</span><em>stepper_state_info</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workchain.html#WorkChainNode.set_stepper_state_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the stepper state info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – string representation of the stepper state info</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">stepper_state_info</code></dt>
<dd><p>Return the stepper state info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string representation of the stepper state info</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.</code><code class="descname">WorkFunctionNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workfunction.html#WorkFunctionNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a workfunction.</p>
<dl class="method">
<dt>
<code class="descname">validate_outgoing</code><span class="sig-paren">(</span><em>target</em>, <em>link_type</em>, <em>link_label</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/workflow/workfunction.html#WorkFunctionNode.validate_outgoing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate adding a link of the given type from ourself to a given node.</p>
<p>A workfunction cannot create Data, so if we receive an outgoing RETURN link to an unstored Data node, that means
the user created a Data node within our function body and is trying to return it. This use case should be
reserved for &#64;calcfunctions, as they can have CREATE links.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – the node to which the link is going</li>
<li><strong>link_type</strong> – the link type</li>
<li><strong>link_label</strong> – the link label</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> – if <cite>target</cite> is not a Node instance or <cite>link_type</cite> is not a <cite>LinkType</cite> enum</li>
<li><strong>ValueError</strong> – if the proposed link is invalid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<p>Module with <cite>Node</cite> sub class for calculation job processes.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.orm.nodes.process.calculation.calcjob.</code><code class="descname">CalcJobNode</code><span class="sig-paren">(</span><em>backend=None</em>, <em>user=None</em>, <em>computer=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>ORM class for all nodes representing the execution of a CalcJob.</p>
<dl class="method">
<dt>
<code class="descname">delete_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.delete_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete the calculation job state attribute if it exists.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_authinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_authinfo"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the <cite>AuthInfo</cite> that is configured for the <cite>Computer</cite> set for this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>AuthInfo</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_builder_restart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_builder_restart"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a <cite>ProcessBuilder</cite> that is ready to relaunch the same <cite>CalcJob</cite> that created this node.</p>
<p>The process class will be set based on the <cite>process_type</cite> of this node and the inputs of the builder will be
prepopulated with the inputs registered for this node. This functionality is very useful if a process has
completed and you want to relaunch it with slightly different inputs.</p>
<p>In addition to prepopulating the input nodes, which is implemented by the base <cite>ProcessNode</cite> class, here we
also add the <cite>options</cite> that were passed in the <cite>metadata</cite> input of the <cite>CalcJob</cite> process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>~aiida.engine.processes.builder.ProcessBuilder</cite> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_description"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a string with a description of the node based on its properties.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_hash</code><span class="sig-paren">(</span><em>ignore_errors=True</em>, <em>ignored_folder_content=('raw_input'</em>, <em>)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_hash"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the hash for this node based on its attributes.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_job_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_job_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return job id that was assigned to the calculation by the scheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the string representation of the scheduler job id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_last_job_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_last_job_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the last information asked to the scheduler about the status of the job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <cite>JobInfo</cite> object (that closely resembles a dictionary) or None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_option</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_option"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retun the value of an option that was set for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – the option name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the option value or None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">ValueError for unknown option</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_options</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the dictionary of options set for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary of the options and their values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_parser_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_parser_class"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the output parser object for this calculation or None if no parser is set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <cite>Parser</cite> class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../apidoc/aiida.common.html#aiida.common.exceptions.EntryPointError" title="aiida.common.exceptions.EntryPointError"><strong>aiida.common.exceptions.EntryPointError</strong></a> – if the parser entry point can not be resolved.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_remote_workdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_remote_workdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the path to the remote (on cluster) scratch folder of the calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string with the remote path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of files/directories to be retrieved on the cluster after the calculation has completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_singlefile_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_singlefile_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the list of files to be retrieved on the cluster after the calculation has completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of single file retrieval directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieve_temporary_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieve_temporary_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return list of files to be retrieved from the cluster which will be available during parsing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_retrieved_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_retrieved_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the retrieved data folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the retrieved FolderData node or None if not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_lastchecktime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_lastchecktime"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the time of the last update of the scheduler state by the daemon or None if it was never set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a datetime object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the status of the calculation according to the cluster scheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a JobState enum instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_stderr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_stderr"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the scheduler stdout output if the calculation has finished and been retrieved, None otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">scheduler stdout output or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_scheduler_stdout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_scheduler_stdout"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the scheduler stderr output if the calculation has finished and been retrieved, None otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">scheduler stderr output or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the state of the calculation job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the calculation job state</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">get_transport</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.get_transport"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the transport for this calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>Transport</cite> configured with the <cite>AuthInfo</cite> associated to the computer of this node</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">link_label_retrieved</code></dt>
<dd><p>Return the link label used for the retrieved FolderData node.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">res</code></dt>
<dd><p>To be used to get direct access to the parsed parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of the CalcJobResultManager.</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">a practical example on how it is meant to be used: let’s say that there is a key ‘energy’
in the dictionary of the parsed results which contains a list of floats.
The command <cite>calc.res.energy</cite> will return such a list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_job_id</code><span class="sig-paren">(</span><em>job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_job_id"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the job id that was assigned to the calculation by the scheduler.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the id will always be stored as a string</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>job_id</strong> – the id assigned by the scheduler after submission</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_last_job_info</code><span class="sig-paren">(</span><em>last_job_info</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_last_job_info"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the last job info.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>last_job_info</strong> – a <cite>JobInfo</cite> object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_option</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_option"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set an option to the given value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> – the option name</li>
<li><strong>value</strong> – the value to set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">ValueError for unknown option</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">TypeError for values with invalid type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_options</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the options for this CalcJobNode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>options</strong> – dictionary of option and their values to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_remote_workdir</code><span class="sig-paren">(</span><em>remote_workdir</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_remote_workdir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the absolute path to the working directory on the remote computer where the calculation is run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_workdir</strong> – absolute filepath to the remote working directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_list</code><span class="sig-paren">(</span><em>retrieve_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve list.</p>
<p>This list of directives will instruct the daemon what files to retrieve after the calculation has completed.
list or tuple of files or paths that should be retrieved by the daemon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_list</strong> – list or tuple of with filepath directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_singlefile_list</code><span class="sig-paren">(</span><em>retrieve_singlefile_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_singlefile_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve singlefile list.</p>
<p>The files will be stored as <cite>SinglefileData</cite> instances and added as output nodes to this calculation node.
The format of a single file directive is a tuple or list of length 3 with the following entries:</p>
<blockquote>
<div><ol class="arabic simple">
<li>the link label under which the file should be added</li>
<li>the <cite>SinglefileData</cite> class or sub class to use to store</li>
<li>the filepath relative to the remote working directory of the calculation</li>
</ol>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_singlefile_list</strong> – list or tuple of single file directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_retrieve_temporary_list</code><span class="sig-paren">(</span><em>retrieve_temporary_list</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_retrieve_temporary_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the retrieve temporary list.</p>
<p>The retrieve temporary list stores files that are retrieved after completion and made available during parsing
and are deleted as soon as the parsing has been completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>retrieve_temporary_list</strong> – list or tuple of with filepath directives</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_scheduler_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_scheduler_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the scheduler state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – an instance of <cite>JobState</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">set_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/orm/nodes/process/calculation/calcjob.html#CalcJobNode.set_state"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the state of the calculation job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – a string with the state from <code class="docutils literal notranslate"><span class="pre">aiida.common.datastructures.CalcJobState</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">ValueError if state is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">tools</code></dt>
<dd><p>Return the calculation tools that are registered for the process type associated with this calculation.</p>
<p>If the entry point name stored in the <cite>process_type</cite> of the CalcJobNode has an accompanying entry point in the
<cite>aiida.tools.calculations</cite> entry point category, it will attempt to load the entry point and instantiate it
passing the node to the constructor. If the entry point does not exist, cannot be resolved or loaded, a warning
will be logged and the base CalculationTools class will be instantiated and returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">CalculationTools instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="templatereplacer">
<h2>TemplateReplacer<a class="headerlink" href="#templatereplacer" title="Permalink to this headline">¶</a></h2>
<p>Implementation of CalcJobNode to replace a template for testing and demonstration purposes.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiida.calculations.plugins.templatereplacer.</code><code class="descname">TemplatereplacerCalculation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/calculations/plugins/templatereplacer.html#TemplatereplacerCalculation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Simple stub of a plugin that can be used to replace some text in a given template.
Can be used for many different codes, or as a starting point to develop a new plugin.</p>
<p>This simple plugin takes two node inputs, both of type Dict, with the labels
‘parameters’ and ‘template’</p>
<p>You can also add other SinglefileData nodes as input, that will be copied according to
what is written in ‘template’ (see below).</p>
<ul>
<li><p class="first">parameters: a set of parameters that will be used for substitution.</p>
</li>
<li><p class="first">template: can contain the following parameters:</p>
<blockquote>
<div><ul class="simple">
<li>input_file_template: a string with substitutions to be managed with the format()
function of python, i.e. if you want to substitute a variable called ‘varname’, you write
{varname} in the text. See <a class="reference external" href="http://www.python.org/dev/peps/pep-3101/">http://www.python.org/dev/peps/pep-3101/</a> for more
details. The replaced file will be the input file.</li>
<li>input_file_name: a string with the file name for the input. If it is not provided, no
file will be created.</li>
<li>output_file_name: a string with the file name for the output. If it is not provided, no
redirection will be done and the output will go in the scheduler output file.</li>
<li>cmdline_params: a list of strings, to be passed as command line parameters.
Each one is substituted with the same rule of input_file_template. Optional</li>
<li>input_through_stdin: if True, the input file name is passed via stdin. Default is False if missing.</li>
<li><dl class="first docutils">
<dt>files_to_copy: if defined, a list of tuple pairs, with format (‘link_name’, ‘dest_rel_path’);</dt>
<dd>for each tuple, an input link to this calculation is looked for, with link labeled ‘link_label’,
and with file type ‘Singlefile’, and the content is copied to a remote file named ‘dest_rel_path’
Errors are raised in the input links are non-existent, or of the wrong type, or if there are
unused input files.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>retrieve_temporary_files: a list of relative filepaths, that if defined, will be retrieved and</dt>
<dd>temporarily stored in an unstored FolderData node that will be available during the
Parser.parser_with_retrieved call under the key specified by the Parser.retrieved_temporary_folder key</dd>
</dl>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<dl class="method">
<dt>
<code class="descname">prepare_for_submission</code><span class="sig-paren">(</span><em>folder</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/aiida/calculations/plugins/templatereplacer.html#TemplatereplacerCalculation.prepare_for_submission"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This is the routine to be called when you want to create the input files and related stuff with a plugin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>folder</strong> – a aiida.common.folders.Folder subclass where the plugin should put all its files.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="transport.html" class="btn btn-neutral float-right" title="Transport plugins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="internals.html" class="btn btn-neutral float-left" title="AiiDA internals" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>