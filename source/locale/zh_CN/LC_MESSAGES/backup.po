# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved
# This file is distributed under the same license as the AiiDA package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
# 
# Translators:
# Jianxing Huang <jx.huang.x@gmail.com>, 2019
# 
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: AiiDA 1.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-12-02 08:35+0000\n"
"PO-Revision-Date: 2019-05-17 20:01+0000\n"
"Last-Translator: Jianxing Huang <jx.huang.x@gmail.com>, 2019\n"
"Language-Team: Chinese (China) (https://www.transifex.com/aiidateam/teams/98967/zh_CN/)\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: ../docs/source/backup/index.rst:3
msgid "AiiDA stores:"
msgstr ""

#: ../docs/source/backup/index.rst:5
msgid ""
"the profile configuration in the ``config.json`` file located in the "
"``.aiida`` folder. Typically located at ``~/.aiida`` (see also "
":ref:`configure_aiida`)."
msgstr ""

#: ../docs/source/backup/index.rst:7
msgid ""
"files associated with nodes in the repository folder (one per profile). "
"Typically located in the ``.aiida`` folder."
msgstr ""

#: ../docs/source/backup/index.rst:9
msgid "queryable metadata in the PostgreSQL database (one per profile)."
msgstr ""

#: ../docs/source/backup/index.rst:11
msgid ""
"All three components are required for the operation of AiiDA and should be "
"backed up."
msgstr ""

#: ../docs/source/backup/index.rst:16
msgid "Repository backup (``.aiida`` folder)"
msgstr ""

#: ../docs/source/backup/index.rst:18
msgid ""
"For **small repositories** back up the ``.aiida`` folder either by making a "
"full copy or using tools for incremental backups like ``rsync``."
msgstr ""

#: ../docs/source/backup/index.rst:20
msgid ""
"For **large repositories** with more than 100k nodes, even incremental "
"backups can take a significant amount of time. AiiDA provides a helper "
"script that takes advantage of the AiiDA database in order to figure out "
"which files have been added since your last backup. The instructions below "
"explain how to use it:"
msgstr ""

#: ../docs/source/backup/index.rst:25
msgid ""
"Configure your backup using ``verdi -p PROFILENAME devel configure-backup`` "
"where ``PROFILENAME`` is the name of the AiiDA profile that should be backed"
" up. | This will ask for information on:"
msgstr ""

#: ../docs/source/backup/index.rst:28
msgid ""
"The \"backup folder\", where the backup *configuration file* will be placed."
" This defaults to a folder named ``backup_PROFILENAME`` in your ``.aiida`` "
"directory."
msgstr ""

#: ../docs/source/backup/index.rst:31
msgid ""
"The \"destination folder\", where the files of the backup will be stored. "
"This defaults to a subfolder of the backup folder but we **strongly suggest "
"to back up to a different drive** (see note below)."
msgstr ""

#: ../docs/source/backup/index.rst:34
msgid ""
"The configuration step creates two files in the \"backup folder\": a "
"``backup_info.json`` configuration file (can also be edited manually) and a "
"``start_backup.py`` script."
msgstr ""

#: ../docs/source/backup/index.rst:38
msgid ""
"Using the same disk for your backup forgoes protection against the most "
"common cause of data loss: disk failure. One simple option is to use a "
"destination folder mounted over ssh."
msgstr ""

#: ../docs/source/backup/index.rst:41
msgid ""
"On Ubuntu, install ``sshfs`` using ``sudo apt-get install sshfs``. Imagine "
"you run your calculations on `server_1` and would like to back up regularly "
"to `server_2`. Mount a `server_2` directory on `server_1` using the "
"following command on `server_1`:"
msgstr ""

#: ../docs/source/backup/index.rst:49
msgid ""
"Use ``gnome-session-properties`` in the terminal to add this line to the "
"actions performed at start-up. Do **not** add it to your shell's startup "
"file (e.g. ``.bashrc``) or your computer will complain that the mount point "
"is not empty whenever you open a new terminal."
msgstr ""

#: ../docs/source/backup/index.rst:53
msgid ""
"Run the ``start_backup.py`` script in the \"backup folder\" to start the "
"backup."
msgstr ""

#: ../docs/source/backup/index.rst:55
msgid ""
"This will back up all data added after the ``oldest_object_backedup`` date. "
"It will only carry out a new backup every ``periodicity`` days, until a "
"certain end date if specified (using ``end_date_of_backup`` or "
"``days_to_backup``), see :ref:`backup_configuration_options` below."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"Once you've checked that it works, make sure to run the script periodically "
"(e.g. using a daily cron job, see note below)."
msgstr ""

#: ../docs/source/backup/index.rst:62
msgid "On Ubuntu, you can set up a cron job using::"
msgstr ""

#: ../docs/source/backup/index.rst:66
msgid "It will open an editor, where you can add a line of the form::"
msgstr ""

#: ../docs/source/backup/index.rst:70
msgid "or (if you need to backup a different profile than the default one)::"
msgstr "或者（若你需要备份与默认配置不同的其他配置）::"

#: ../docs/source/backup/index.rst:74
msgid ""
"This will launch the backup of the database every day at 3 AM (03:00), and "
"send the output (or any error message) to the email address specified at the"
" end (provided the ``mail`` command -- from ``mailutils`` -- is configured "
"appropriately)."
msgstr ""

#: ../docs/source/backup/index.rst:77
msgid ""
"Finally, if you have a separate automatic backup of your home directory set "
"up, do not forget to exclude the repository folder."
msgstr ""

#: ../docs/source/backup/index.rst:83
msgid "Configuration options"
msgstr ""

#: ../docs/source/backup/index.rst:85
msgid "The configuration options in the ``backup_info.json`` are:"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "``periodicity`` (in `days`):"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"The backup runs periodically for a number of days defined in the periodicity"
" variable. The purpose of this variable is to limit the backup to run only "
"on a few number of days and therefore to limit the number of files that are "
"backed up at every round."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "E.g. ``\"periodicity\": 2``."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"Example: If you have files in the AiiDA repositories created in the past 30 "
"days, and periodicity is 15, the first run will backup the files of the "
"first 15 days; a second run of the script will backup the next 15 days, "
"completing the backup (if it is run within the same day). Further runs will "
"only backup newer files, if they are created."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "``oldest_object_backedup`` (`timestamp` or ``null``):"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"This is the timestamp of the oldest object that was backed up. If you are "
"not aware of this value or if it is the first time you start a backup for "
"this repository, then set this value to ``null``. Then the script will "
"search the creation date of the oldest Node object in the database and start"
" the backup from that date."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "E.g. ``\"oldest_object_backedup\": \"2015-07-20 11:13:08.145804+02:00\"``"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "``end_date_of_backup`` (`timestamp` or ``null``):"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"If set, the backup script will backup files that have a modification date up"
" until the value specified by this variable. If not set, the ending of the "
"backup will be set by the ``days_to_backup`` variable, which specifies how "
"many days to backup from the start of the backup. If none of these variables"
" are set (``end_date_of_backup`` and ``days_to_backup``), then the end date "
"of backup is set to the current date."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"E.g. ``\"end_date_of_backup\": null`` or ``\"end_date_of_backup\": "
"\"2015-07-20 11:13:08.145804+02:00\"``."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "``days_to_backup`` (in `days` or ``null``):"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"If set, you specify how many days you will backup from the starting date of "
"your backup. If it is set to ``null`` and also ``end_date_of_backup`` is set"
" to ``null``, then the end date of the backup is set to the current date. "
"You can not set ``days_to_backup`` & ``end_date_of_backup`` at the same time"
" (it will lead to an error)."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "E.g. ``\"days_to_backup\": null`` or ``\"days_to_backup\": 5``."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "``backup_length_threshold`` (in `hours`):"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"The backup script runs in rounds and on every round it will backup a number "
"of days that are controlled primarily by ``periodicity`` and also by "
"``end_date_of_backup`` / ``days_to_backup``, for the last backup round. The "
"``backup_length_threshold`` specifies the *lowest acceptable* round length. "
"This is important for the end of the backup."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "E.g. ``backup_length_threshold: 1``"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "``backup_dir`` (absolute path):"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "The destination directory of the backup."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "E.g. ``\"backup_dir\": \"/home/USERNAME/.aiida/backup/backup_dest\"``."
msgstr ""

#: ../docs/source/backup/index.rst:126
msgid "Database backup"
msgstr ""

#: ../docs/source/backup/index.rst:128
msgid ""
"PostgreSQL typically spreads database information over multiple files that, "
"if backed up directly, are not guaranteed to restore the database. We "
"therefore strongly recommend to periodically dump the database contents to a"
" file (which you can then back up using your method of choice)."
msgstr ""

#: ../docs/source/backup/index.rst:131
msgid ""
"The instructions below show how to achieve this under Ubuntu 12.04 and "
"18.04. In the following, we assume your database is called ``aiidadb``, and "
"the database user and owner is ``aiida``. You'll find this information in "
"the output of ``verdi profile show``."
msgstr ""

#: ../docs/source/backup/index.rst:135
msgid ""
"In order to dump your database, use a bash script similar to "
":download:`backup_postgresql.sh <backup_postgresql.sh>`:"
msgstr ""

#: ../docs/source/backup/index.rst:143
msgid ""
"In order to avoid having to enter your database password each time you use "
"the script, you can create a file :download:`.pgpass <pgpass>` in your home "
"directory:"
msgstr ""

#: ../docs/source/backup/index.rst:147
msgid ""
"where ``YOUR_DATABASE_PASSWORD`` is the password you set up for the "
"database."
msgstr "其中 ``YOUR_DATABASE_PASSWORD`` 是你为数据库设置的密码。"

#: ../docs/source/backup/index.rst:149
msgid "This file needs read and write permissions: ``chmod u=rw ~/.pgpass``."
msgstr ""

#: ../docs/source/backup/index.rst:152
msgid ""
"In order to automatically dump the database to a file "
"``~/.aiida/${AIIDADB}-backup.psql.gz`` once per day, you can add a cron job:"
msgstr ""

#: ../docs/source/backup/index.rst:154
msgid ""
"Add the following script :download:`backup-aiidadb-USERNAME <backup-aiidadb-"
"USERNAME>` to the folder ``/etc/cron.daily/``:"
msgstr ""

#: ../docs/source/backup/index.rst:159
msgid "and replace all instances of ``USERNAME`` with your UNIX user name."
msgstr ""

#: ../docs/source/backup/index.rst:161
msgid "Remember to give the script execute permissions::"
msgstr ""

#: ../docs/source/backup/index.rst:165
msgid ""
"Finally make sure your database folder (``/home/USERNAME/.aiida/``) "
"containing this dump file and the ``repository`` directory, is properly "
"backed up by your backup software (under Ubuntu, 12.04: Backup -> check the "
"\"Folders\" tab, 18.04: Backups -> check the \"Folder to save\" tab)."
msgstr ""

#: ../docs/source/backup/index.rst:170
msgid "Restore backup"
msgstr ""

#: ../docs/source/backup/index.rst:172
msgid "In order to restore a backup, you will need to:"
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid "Restore the repository folder."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"If you used the :ref:`backup script <backup_script>`, this involves "
"extracting the corresponding zip file (should be created in ``~/.aiida/``)."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"Create an empty database following the instructions described in "
":ref:`database` skipping the ``verdi setup`` phase."
msgstr ""

#: ../docs/source/backup/index.rst:0
msgid ""
"The database should have the same name and database username as the original"
" one (i.e. if you are restoring on the original postgresql cluster, you may "
"have to either rename or delete the original database)."
msgstr ""

#: ../docs/source/backup/index.rst:180
msgid ""
"As the ``postgres`` user, ``cd`` to the folder containing the database dump "
"(``aiidadb-backup.psql``) and load it::"
msgstr ""

#: ../docs/source/backup/index.rst:185
msgid ""
"After supplying your database password, the database should be restored."
msgstr ""

#: ../docs/source/backup/index.rst:189
msgid ""
"On Ubuntu, type ``sudo su - postgres`` to become the postgres UNIX user."
msgstr ""
